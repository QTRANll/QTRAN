{
    "HTML": [
        "https://docs.pingcap.com/zh/tidb/v8.3/string-functions"
    ],
    "Title": [
        "LOCATE()"
    ],
    "Feature": [
        "LOCATE()"
    ],
    "Description": [
        "LOCATE()",
        "LOCATE(substr, str[, pos]) 函数用于返回子字符串 substr 在字符串 str 中第一次出现的位置。pos 参数是可选的，用于指定查找的起始位置。",
        "如果子字符串 substr 不在字符串 str 中，该函数返回 0。如果任一参数为 NULL，该函数返回 NULL。该函数是多字节安全的，并且只有当至少一个参数是二进制字符串时，才执行区分大小写的查找。"
    ],
    "Examples": [
        "SET collation_connection='utf8mb4_bin';\nSHOW VARIABLES LIKE 'collation_connection';\n+----------------------+-------------+\n| Variable_name        | Value       |\n+----------------------+-------------+\n| collation_connection | utf8mb4_bin |\n+----------------------+-------------+\n",
        "SELECT LOCATE('bar', 'foobarbar');\n+----------------------------+\n| LOCATE('bar', 'foobarbar') |\n+----------------------------+\n|                          4 |\n+----------------------------+\n",
        "SELECT LOCATE('baz', 'foobarbar');\n+----------------------------+\n| LOCATE('baz', 'foobarbar') |\n+----------------------------+\n|                          0 |\n+----------------------------+\n",
        "SELECT LOCATE('bar', 'fooBARBAR');\n+----------------------------+\n| LOCATE('bar', 'fooBARBAR') |\n+----------------------------+\n|                          0 |\n+----------------------------+\n",
        "SELECT LOCATE('bar', 'foobarBAR', 100);\n+---------------------------------+\n| LOCATE('bar', 'foobarBAR', 100) |\n+---------------------------------+\n|                               0 |\n+---------------------------------+\n",
        "SELECT LOCATE('bar', 'foobarbar', 5);\n+-------------------------------+\n| LOCATE('bar', 'foobarbar', 5) |\n+-------------------------------+\n|                             7 |\n+-------------------------------+\n",
        "SELECT LOCATE('bar', NULL);\n+---------------------+\n| LOCATE('bar', NULL) |\n+---------------------+\n|                NULL |\n+---------------------+\n",
        "SELECT LOCATE('DB', 'TiDB tidb 数据库');\n+-------------------------------------+\n| LOCATE('DB', 'TiDB tidb 数据库')    |\n+-------------------------------------+\n|                                   3 |\n+-------------------------------------+\n",
        "SELECT LOCATE('DB', 'TiDB tidb 数据库', 4);\n+----------------------------------------+\n| LOCATE('DB', 'TiDB tidb 数据库', 4)    |\n+----------------------------------------+\n|                                      0 |\n+----------------------------------------+\n",
        "SET collation_connection='utf8mb4_unicode_ci';\nSHOW VARIABLES LIKE 'collation_connection';\n+----------------------+--------------------+\n| Variable_name        | Value              |\n+----------------------+--------------------+\n| collation_connection | utf8mb4_unicode_ci |\n+----------------------+--------------------+\n",
        "SELECT LOCATE('DB', 'TiDB tidb 数据库', 4);\n+----------------------------------------+\n| LOCATE('DB', 'TiDB tidb 数据库', 4)    |\n+----------------------------------------+\n|                                      8 |\n+----------------------------------------+\n",
        "SELECT LOCATE('🍺', '🍣🍣🍣🍺🍺');\n+----------------------------------------+\n| LOCATE('🍺', '🍣🍣🍣🍺🍺')            |\n+----------------------------------------+\n|                                      1 |\n+----------------------------------------+\n",
        "SET collation_connection='utf8mb4_bin';\nSHOW VARIABLES LIKE 'collation_connection';\n+----------------------+-------------+\n| Variable_name        | Value       |\n+----------------------+-------------+\n| collation_connection | utf8mb4_bin |\n+----------------------+-------------+\n",
        "SELECT LOCATE('🍺', '🍣🍣🍣🍺🍺');\n+----------------------------------------+\n| LOCATE('🍺', '🍣🍣🍣🍺🍺')                         |\n+----------------------------------------+\n|                                      4 |\n+----------------------------------------+\n",
        "SELECT LOCATE('b', _binary'aBcde');\n+-----------------------------+\n| LOCATE('b', _binary'aBcde') |\n+-----------------------------+\n|                           0 |\n+-----------------------------+\n",
        "SELECT LOCATE('B', _binary'aBcde');\n+-----------------------------+\n| LOCATE('B', _binary'aBcde') |\n+-----------------------------+\n|                           2 |\n+-----------------------------+\n",
        "SELECT LOCATE(_binary'b', 'aBcde');\n+-----------------------------+\n| LOCATE(_binary'b', 'aBcde') |\n+-----------------------------+\n|                           0 |\n+-----------------------------+\n",
        "SELECT LOCATE(_binary'B', 'aBcde');\n+-----------------------------+\n| LOCATE(_binary'B', 'aBcde') |\n+-----------------------------+\n|                           2 |\n+-----------------------------+\n"
    ],
    "Category": [
        "字符串函数"
    ]
}