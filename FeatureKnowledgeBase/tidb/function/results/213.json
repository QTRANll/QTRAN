{
    "HTML": [
        "https://docs.pingcap.com/zh/tidb/v8.3/json-functions-aggregate"
    ],
    "Title": [
        "JSON_OBJECTAGG()"
    ],
    "Feature": [
        "JSON_OBJECTAGG()"
    ],
    "Description": [
        "JSON_OBJECTAGG()",
        "JSON_OBJECTAGG(key,value) 函数可以根据给定的 key 和 value 将 key 值和 value 值聚合成一个 JSON 对象。key 和 value 通常为表达式或列名。"
    ],
    "Examples": [
        "CREATE TABLE plants (\n    id INT PRIMARY KEY,\n    name VARCHAR(255)\n);\n\nCREATE TABLE plant_attributes (\n    id INT PRIMARY KEY AUTO_INCREMENT,\n    plant_id INT, attribute VARCHAR(255),\n    value VARCHAR(255),\n    FOREIGN KEY (plant_id) REFERENCES plants(id)\n);\n\nINSERT INTO plants\nVALUES\n(1,\"rose\"),\n(2,\"tulip\"),\n(3,\"orchid\");\n\nINSERT INTO plant_attributes(plant_id,attribute,value)\nVALUES\n(1,\"color\",\"red\"),\n(1,\"thorns\",\"yes\"),\n(2,\"color\",\"orange\"),\n(2,\"thorns\",\"no\"),\n(2,\"grows_from\",\"bulb\"),\n(3,\"color\",\"white\"),\n(3, \"thorns\",\"no\");\n",
        "TABLE plants;\n",
        "TABLE plant_attributes;\n",
        "SELECT\n    p.name,\n    JSON_OBJECTAGG(attribute,value)\nFROM\n    plant_attributes pa\n    LEFT JOIN plants p ON pa.plant_id=p.id\nGROUP BY\n    plant_id;\n"
    ],
    "Category": [
        "聚合 JSON 的函数"
    ]
}