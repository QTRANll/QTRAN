{
    "HTML": [
        "https://docs.pingcap.com/zh/tidb/v8.3/window-functions"
    ],
    "Title": [
        "NTH_VALUE()"
    ],
    "Feature": [
        "NTH_VALUE()"
    ],
    "Description": [
        "NTH_VALUE()",
        "函数 NTH_VALUE(expr, n) 返回窗口的第 n 个值。",
        "WITH RECURSIVE cte(n) AS (\n    SELECT\n        1\n    UNION\n    SELECT\n        n+1\n    FROM\n        cte\n    WHERE\n        n<10\n)\nSELECT\n    n,\n    FIRST_VALUE(n) OVER w AS 'First',\n    NTH_VALUE(n, 2) OVER w AS 'Second',\n    NTH_VALUE(n, 3) OVER w AS 'Third',\n    LAST_VALUE(n) OVER w AS 'Last'\nFROM\n    cte\nWINDOW\n    w AS (PARTITION BY n<=5)\nORDER BY\n    n;\n",
        "+------+-------+--------+-------+------+\n| n    | First | Second | Third | Last |\n+------+-------+--------+-------+------+\n|    1 |     1 |      2 |     3 |    5 |\n|    2 |     1 |      2 |     3 |    5 |\n|    3 |     1 |      2 |     3 |    5 |\n|    4 |     1 |      2 |     3 |    5 |\n|    5 |     1 |      2 |     3 |    5 |\n|    6 |     6 |      7 |     8 |   10 |\n|    7 |     6 |      7 |     8 |   10 |\n|    8 |     6 |      7 |     8 |   10 |\n|    9 |     6 |      7 |     8 |   10 |\n|   10 |     6 |      7 |     8 |   10 |\n+------+-------+--------+-------+------+\n10 rows in set (0.00 sec)\n"
    ],
    "Examples": [
        "WITH RECURSIVE cte(n) AS (\n    SELECT\n        1\n    UNION\n    SELECT\n        n+1\n    FROM\n        cte\n    WHERE\n        n<10\n)\nSELECT\n    n,\n    FIRST_VALUE(n) OVER w AS 'First',\n    NTH_VALUE(n, 2) OVER w AS 'Second',\n    NTH_VALUE(n, 3) OVER w AS 'Third',\n    LAST_VALUE(n) OVER w AS 'Last'\nFROM\n    cte\nWINDOW\n    w AS (PARTITION BY n<=5)\nORDER BY\n    n;\n"
    ],
    "Category": [
        "窗口函数"
    ]
}