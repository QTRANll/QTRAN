{
    "HTML": [
        "https://dev.mysql.com/doc/refman/8.4/en/create-logfile-group.html"
    ],
    "Title": [
        "15.1.16 CREATE LOGFILE GROUP Statement"
    ],
    "Feature": [
        "CREATE LOGFILE GROUP logfile_group\n    ADD UNDOFILE 'undo_file'\n    [INITIAL_SIZE [=] initial_size]\n    [UNDO_BUFFER_SIZE [=] undo_buffer_size]\n    [REDO_BUFFER_SIZE [=] redo_buffer_size]\n    [NODEGROUP [=] nodegroup_id]\n    [WAIT]\n    [COMMENT [=] 'string']\n    ENGINE [=] engine_name"
    ],
    "Description": [
        "\n      This statement creates a new log file group named\n      logfile_group having a single undo file\n      named 'undo_file'. A\n      CREATE LOGFILE GROUP statement has\n      one and only one ADD UNDOFILE clause. For rules\n      covering the naming of log file groups, see\n      Section\u00a011.2, \u201cSchema Object Names\u201d.\n",
        "\n\nNote\n\n\n        All NDB Cluster Disk Data objects share the same namespace. This\n        means that each Disk Data object must be\n        uniquely named (and not merely each Disk Data object of a given\n        type). For example, you cannot have a tablespace and a log file\n        group with the same name, or a tablespace and a data file with\n        the same name.\n\n",
        "\n      There can be only one log file group per NDB Cluster instance at\n      any given time.\n    ",
        "\n      The optional INITIAL_SIZE parameter sets the\n      undo file's initial size; if not specified, it defaults to\n      128M (128 megabytes). The optional\n      UNDO_BUFFER_SIZE parameter sets the size used\n      by the undo buffer for the log file group; The default value for\n      UNDO_BUFFER_SIZE is 8M\n      (eight megabytes); this value cannot exceed the amount of system\n      memory available. Both of these parameters are specified in bytes.\n      You may optionally follow either or both of these with a\n      one-letter abbreviation for an order of magnitude, similar to\n      those used in my.cnf. Generally, this is\u00a0one\n      of the letters M (for megabytes) or\n      G (for gigabytes).\n    ",
        "\n      Memory used for UNDO_BUFFER_SIZE comes from the\n      global pool whose size is determined by the value of the\n      SharedGlobalMemory data\n      node configuration parameter. This includes any default value\n      implied for this option by the setting of the\n      InitialLogFileGroup data\n      node configuration parameter.\n    ",
        "\n      The maximum permitted for UNDO_BUFFER_SIZE is\n      629145600 (600 MB).\n    ",
        "\n      On 32-bit systems, the maximum supported value for\n      INITIAL_SIZE is 4294967296 (4 GB). (Bug #29186)\n    ",
        "\n      The minimum allowed value for INITIAL_SIZE is\n      1048576 (1 MB).\n    ",
        "\n      The ENGINE option determines the storage engine\n      to be used by this log file group, with\n      engine_name being the name of the\n      storage engine. This must be NDB (or\n      NDBCLUSTER). If\n      ENGINE is not set, MySQL tries to use the\n      engine specified by the\n      default_storage_engine server\n      system variable. In any case, if the engine is not specified as\n      NDB or\n      NDBCLUSTER, the CREATE\n      LOGFILE GROUP statement appears to succeed but actually\n      fails to create the log file group, as shown here:\n    ",
        "Press CTRL+C to copy mysql> CREATE LOGFILE GROUP lg1\n    ->     ADD UNDOFILE 'undo.dat' INITIAL_SIZE = 10M;\nQuery OK, 0 rows affected, 1 warning (0.00 sec)\n\nmysql> SHOW WARNINGS;\n+-------+------+------------------------------------------------------------------------------------------------+\n| Level | Code | Message                                                                                        |\n+-------+------+------------------------------------------------------------------------------------------------+\n| Error | 1478 | Table storage engine 'InnoDB' does not support the create option 'TABLESPACE or LOGFILE GROUP' |\n+-------+------+------------------------------------------------------------------------------------------------+\n1 row in set (0.00 sec)\n\nmysql> DROP LOGFILE GROUP lg1 ENGINE = NDB;\nERROR 1529 (HY000): Failed to drop LOGFILE GROUP\n\nmysql> CREATE LOGFILE GROUP lg1\n    ->     ADD UNDOFILE 'undo.dat' INITIAL_SIZE = 10M\n    ->     ENGINE = NDB;\nQuery OK, 0 rows affected (2.97 sec)",
        "\n      The fact that the CREATE LOGFILE GROUP\n      statement does not actually return an error when a storage engine\n      other than NDB is specified, but rather appears\n      to succeed, is a known issue which we hope to address in a future\n      version of NDB Cluster.\n    ",
        "\nREDO_BUFFER_SIZE,\n      NODEGROUP, WAIT, and\n      COMMENT are parsed but ignored, and so have no\n      effect in MySQL 8.4. These options are intended for\n      future expansion.\n    ",
        "\n      When used with ENGINE [=] NDB, a log file group\n      and associated undo log file are created on each Cluster data\n      node. You can verify that the undo files were created and obtain\n      information about them by querying the Information Schema\n      FILES table. For example:\n    ",
        "Press CTRL+C to copy mysql> SELECT LOGFILE_GROUP_NAME, LOGFILE_GROUP_NUMBER, EXTRA\n    -> FROM INFORMATION_SCHEMA.FILES\n    -> WHERE FILE_NAME = 'undo_10.dat';\n+--------------------+----------------------+----------------+\n| LOGFILE_GROUP_NAME | LOGFILE_GROUP_NUMBER | EXTRA          |\n+--------------------+----------------------+----------------+\n| lg_3               |                   11 | CLUSTER_NODE=3 |\n| lg_3               |                   11 | CLUSTER_NODE=4 |\n+--------------------+----------------------+----------------+\n2 rows in set (0.06 sec)",
        "\nCREATE LOGFILE GROUP is useful only\n      with Disk Data storage for NDB Cluster. See\n      Section\u00a025.6.11, \u201cNDB Cluster Disk Data Tables\u201d.\n"
    ],
    "Examples": [
        "mysql> CREATE LOGFILE GROUP lg1\n    ->     ADD UNDOFILE 'undo.dat' INITIAL_SIZE = 10M;\nQuery OK, 0 rows affected, 1 warning (0.00 sec)\n\nmysql> SHOW WARNINGS;\n+-------+------+------------------------------------------------------------------------------------------------+\n| Level | Code | Message                                                                                        |\n+-------+------+------------------------------------------------------------------------------------------------+\n| Error | 1478 | Table storage engine 'InnoDB' does not support the create option 'TABLESPACE or LOGFILE GROUP' |\n+-------+------+------------------------------------------------------------------------------------------------+\n1 row in set (0.00 sec)\n\nmysql> DROP LOGFILE GROUP lg1 ENGINE = NDB;\nERROR 1529 (HY000): Failed to drop LOGFILE GROUP\n\nmysql> CREATE LOGFILE GROUP lg1\n    ->     ADD UNDOFILE 'undo.dat' INITIAL_SIZE = 10M\n    ->     ENGINE = NDB;\nQuery OK, 0 rows affected (2.97 sec)",
        "mysql> SELECT LOGFILE_GROUP_NAME, LOGFILE_GROUP_NUMBER, EXTRA\n    -> FROM INFORMATION_SCHEMA.FILES\n    -> WHERE FILE_NAME = 'undo_10.dat';\n+--------------------+----------------------+----------------+\n| LOGFILE_GROUP_NAME | LOGFILE_GROUP_NUMBER | EXTRA          |\n+--------------------+----------------------+----------------+\n| lg_3               |                   11 | CLUSTER_NODE=3 |\n| lg_3               |                   11 | CLUSTER_NODE=4 |\n+--------------------+----------------------+----------------+\n2 rows in set (0.06 sec)"
    ],
    "Category": [
        "Data Definition Statements"
    ]
}