{
    "HTML": [
        "https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000000822845"
    ],
    "Title": [
        "RATIO_TO_REPORT"
    ],
    "Feature": [
        "RATIO_TO_REPORT(expr) OVER ([query_partition_clause])\n"
    ],
    "Description": [
        "该函数是一个分析函数，功能是计算一个值与一组值之和的比率。",
        "\n\n\n参数\n说明\n\n\n\n\nexpr\n指定需要查询的字段。 注意 不能使用 RATIO_TO_REPORT 函数或其他分析函数来嵌套 expr。\n\n\nOVER\n使用 OVER 子句定义窗口进行计算。详细信息请参见 分析函数说明。\n\n\n",
        "如果 expr 为 NULL，则返回结果为 NULL。否则返回结果为数值类型数据。"
    ],
    "Examples": [
        "obclient> SELECT * FROM emp_msg;\n+--------+--------+------+------+\n| DEPTNO | ENAME  | SAL  | MGR  |\n+--------+--------+------+------+\n|     10 | CLARK  | 2750 | 7839 |\n|     10 | KING   | 5300 | NULL |\n|     10 | MILLER | 1600 | 7782 |\n|     20 | ADAMS  | 1400 | 7788 |\n|     20 | FORD   | 3300 | 7566 |\n|     20 | JONES  | 3275 | 7839 |\n|     20 | SCOTT  | 3300 | 7566 |\n|     20 | SMITH  | 1100 | 7902 |\n|     30 | ALLEN  | 1900 | 7698 |\n|     30 | BLAKE  | 3150 | 7839 |\n|     30 | JAMES  | 1250 | 7698 |\n|     30 | MARTIN | 1550 | 7698 |\n|     30 | TURNER | 1800 | 7698 |\n|     30 | WARD   | 1550 | 7698 |\n|     30 | SCLARK | 1750 | 7839 |\n+--------+--------+------+------+\n15 rows in set\n\nobclient> SELECT deptno,ename,mgr,RATIO_TO_REPORT(mgr) OVER (PARTITION BY deptno)\n      FROM emp_msg;\n+--------+--------+------+---------------------------------------------+\n| DEPTNO | ENAME  | MGR  | RATIO_TO_REPORT(MGR)OVER(PARTITIONBYDEPTNO) |\n+--------+--------+------+---------------------------------------------+\n|     10 | CLARK  | 7839 |   .5018244670635682734780103706548876512387 |\n|     10 | KING   | NULL |                                        NULL |\n|     10 | MILLER | 7782 |   .4981755329364317265219896293451123487613 |\n|     20 | ADAMS  | 7788 |   .2014433149685729805230076821603165981221 |\n|     20 | FORD   | 7566 |   .1957010941258632730658803445332505625824 |\n|     20 | JONES  | 7839 |   .2027624738108171025064018002638317684488 |\n|     20 | SCOTT  | 7566 |   .1957010941258632730658803445332505625824 |\n|     20 | SMITH  | 7902 |   .2043920229688833708388298285093505082641 |\n|     30 | ALLEN  | 7698 |   .1421134249003101462117855560478511298183 |\n|     30 | BLAKE  | 7839 |   .1447164377492246344705361098803721754541 |\n|     30 | JAMES  | 7698 |   .1421134249003101462117855560478511298183 |\n|     30 | MARTIN | 7698 |   .1421134249003101462117855560478511298183 |\n|     30 | TURNER | 7698 |   .1421134249003101462117855560478511298183 |\n|     30 | WARD   | 7698 |   .1421134249003101462117855560478511298183 |\n|     30 | SCLARK | 7839 |   .1447164377492246344705361098803721754541 |\n+--------+--------+------+---------------------------------------------+\n15 rows in set\n"
    ],
    "Category": [
        "Analytic Functions"
    ]
}