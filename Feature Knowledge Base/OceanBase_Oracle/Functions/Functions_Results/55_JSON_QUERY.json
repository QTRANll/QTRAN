{
    "HTML": [
        "https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000000823499"
    ],
    "Title": [
        "JSON_QUERY"
    ],
    "Feature": [
        "JSON_QUERY(\n              expr [FORMAT JSON],\n              json_path_literal\n                  [RETURNING  CLOB|BLOB|JSON|VARCHAR2|VARCHAR2[size],]\n              [ALLOW|DISALLOW SCALARS]\n              [PRETTY]\n              [ASCII]\n              [WITHOUT [ARRAY] WRAPPER, WITH CONDITIONAL|UNCONDITIONAL [ARRAY] WRAPPER]\n              [ERROR|NULL|EMPTY|EMTPY ARRAY|EMPTY OBJECT ON ERROR]\n              [ERROR|NULL|EMPTY|EMTPY ARRAY|EMPTY OBJECT ON EMPTY]);\n"
    ],
    "Description": [
        "JSON_QUERY() 函数用于从 JSON 数据中查询一个或者多个值，并且返回这些值。"
    ],
    "Examples": [
        "# 使用 RETURNING 子句\nobclient> SELECT JSON_QUERY('{\"a\":100, \"b\":200, \"c\":300}', '$') AS value FROM DUAL;\n+--------------------------------+\n| VALUE                          |\n+--------------------------------+\n| {\"a\": 100, \"b\": 200, \"c\": 300} |\n+--------------------------------+\n1 row in set\n\nobclient>SELECT JSON_QUERY('{\"a\":100, \"b\":200, \"c\":300}', '$' RETURNING CLOB) FROM DUAL;\n+----------------------------------------------------------+\n| JSON_QUERY('{\"A\":100,\"B\":200,\"C\":300}','$'RETURNINGCLOB) |\n+----------------------------------------------------------+\n| {\"a\": 100, \"b\": 200, \"c\": 300}                           |\n+----------------------------------------------------------+\n1 row in set\n\nobclient> SELECT JSON_QUERY('{\"a\":100, \"b\":200, \"c\":300}', '$' RETURNING VARCHAR2(200)) FROM DUAL;\n+-------------------------------------------------------------------+\n| JSON_QUERY('{\"A\":100,\"B\":200,\"C\":300}','$'RETURNINGVARCHAR2(200)) |\n+-------------------------------------------------------------------+\n| {\"a\": 100, \"b\": 200, \"c\": 300}                                    |\n+-------------------------------------------------------------------+\n1 row in set\n\nobclient> SELECT JSON_QUERY('{\"a\":100, \"b\":200, \"c\":300}', '$' RETURNING BLOB) FROM DUAL;\n+----------------------------------------------------------+\n| JSON_QUERY('{\"A\":100,\"B\":200,\"C\":300}','$'RETURNINGBLOB) |\n+----------------------------------------------------------+\n| {\"a\": 100, \"b\": 200, \"c\": 300}                           |\n+----------------------------------------------------------+\n1 row in set\n\nobclient> SELECT JSON_QUERY('{\"a\":100, \"b\":200, \"c\":300}', '$' RETURNING JSON) FROM DUAL;\n+----------------------------------------------------------+\n| JSON_QUERY('{\"A\":100,\"B\":200,\"C\":300}','$'RETURNINGJSON) |\n+----------------------------------------------------------+\n| {\"a\": 100, \"b\": 200, \"c\": 300}                           |\n+----------------------------------------------------------+\n1 row in set\n\n# 使用 WRAPPER 子句和 ERROR子句\nobclient> SET @col_json = '[1,2]';\nobclient> SELECT JSON_QUERY(@col_json, '$[0 to 10]' RETURNING JSON WITH WRAPPER EMPTY ON ERROR) FROM DUAL;\n+----------------------------------------------------------------------+\n| JSON_QUERY(@COL_JSON,'$[0TO10]'RETURNINGJSONWITHWRAPPEREMPTYONERROR) |\n+----------------------------------------------------------------------+\n| [1, 2]                                                               |\n+----------------------------------------------------------------------+\n1 row in set\n\n# 使用 ARRAY WRAPPER 子句\nobclient> SELECT JSON_QUERY(treat('{\"a\":100, \"b\":200, \"c\":300}' as json), '$' WITH ARRAY WRAPPER) AS value FROM DUAL;\n+----------------------------------+\n| VALUE                            |\n+----------------------------------+\n| [{\"a\": 100, \"b\": 200, \"c\": 300}] |\n+----------------------------------+\n1 row in set\n\n# 使用 DISALLOW SCALAR 子句\nobclient> SELECT JSON_QUERY('\"aaa\"', '$' DISALLOW SCALARS ) FROM DUAL;\n+----------------------------------------+\n| JSON_QUERY('\"AAA\"','$'DISALLOWSCALARS) |\n+----------------------------------------+\n| NULL                                   |\n+----------------------------------------+\n1 row in set\n\n# 使用 EMPTY OBJECT/EMPTY ARRAY ON EMTPY子句\nobclient>SELECT JSON_QUERY('{}', '$.a' EMPTY OBJECT ON EMPTY) AS value FROM DUAL;\n+-------+\n| VALUE |\n+-------+\n| {}    |\n+-------+\n1 row in set\n\nobclient>SELECT JSON_QUERY('{}', '$.a' EMPTY ARRAY ON EMPTY) AS value FROM DUAL;\n+-------+\n| VALUE |\n+-------+\n| []    |\n+-------+\n1 row in set\n"
    ],
    "Category": [
        "JSON Functions"
    ]
}