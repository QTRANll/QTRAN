{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054296"], "Title": ["ANALYZE"], "Feature": ["ANALYZE\n  TABLE [ schema. ]table_name\n    [ PARTITION (partition) | SUBPARTITION (subpartition) ]\n  { compute_statistics_clause | estimate_statistics_clause } ;\n\ncompute_statistics_clause:\n COMPUTE STATISTICS [ for_clause ]\n\nestimate_statistics_clause:\n     ESTIMATE STATISTICS [ for_clause ]\n     [ SAMPLE integer { ROWS | PERCENT } ]\n\nfor_clause:\n FOR\n     TABLE\n   | ALL [ INDEXED | HIDDEN ] COLUMNS [ SIZE integer ]\n   | COLUMNS [ SIZE integer ]\n     { column | attribute } [ SIZE integer ]\n       [ { column | attribute }\n         [ SIZE integer ]\n       ]\n   [ FOR\n    { TABLE\n    | ALL [ INDEXED | HIDDEN ] COLUMNS\n         [ SIZE integer ]\n    | COLUMNS [ SIZE integer ]\n      { column | attribute } [ SIZE integer ]\n        [ { column | attribute }\n          [ SIZE integer ]\n        ]...\n    }\n   ]...\n"], "Description": ["该语句用于收集表或表分区的统计信息。", "\n\n\n参数\n描述\n\n\n\n\nschema\n指定表所属的 Schema。如果省略该参数，默认为当前 Schema。\n\n\ntable_name\n指定要分析的表。\n\n\nPARTITION | SUBPARTITION\n指定要收集统计信息的分区或子分区。如果指定的分区为一级分区，会同时分析该分区下所有子分区的信息。\n\n\ncompute_statistics_clause\n指定 COMPUTE STATISTICS 可以计算分析对象的精确统计信息，并将其存储在数据字典中。分析表时，会同时统计表和列的统计信息。\n\n\nfor_clause\n指定要分析整个表，或者只分析特定的列。 \n      \nFOR TABLE：指定仅收集表的统计信息。\nFOR COLUMNS：指定仅收集指定列和标量对象属性列的统计信息。其中，attribute 指定对象中的特定列名。\nFOR ALL COLUMNS：指定收集所有列和标量对象属性列的统计信息。\nFOR ALL INDEXED COLUMNS：指定收集所有索引列的列统计信息。列统计信息可以基于完整的列，也可以通过指定 SIZE 使用直方图。\nFOR ALL HIDDEN COLUMNS：指定收集所有隐藏列的列统计信息。列统计信息可以基于完整的列，也可以通过指定 SIZE 使用直方图。\nSIZE：指定直方图中的最大存储桶数。取值范围是 [1,2048]，默认值是 75。\n\n\n\nestimate_statistics_clause\n指定 ESTIMATE STATISTICS 可以估计分析对象的统计信息，并将其存储在数据字典中。\n\n\nSAMPLE\n指定用于估计统计信息使用的分析对象中的采样数据量。如果省略该参数，则对 1064 行进行采样。 \n      \nROWS：对表中的 integer 行进行采样。\nPERCENT：对表中行的 integer 百分比进行采样。\n\n\n\n"], "Examples": ["obclient> ANALYZE TABLE tbl1 COMPUTE STATISTICS;\nQuery OK, 0 rows affected\n", "obclient> ANALYZE TABLE tbl1 COMPUTE STATISTICS FOR ALL INDEXED COLUMNS SIZE 100;\nQuery OK, 0 rows affected\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054308"], "Title": ["AUDIT"], "Feature": ["/*语句审计*/\n{AUDIT | NOAUDIT} statement_operation_clause\n                                 [auditing_by_user_clause] [whenever_option]\n\n/*对象审计*/\n{AUDIT | NOAUDIT} object_operation_clause auditing_on_clause [whenever_option]\n\nstatement_operation_clause:\n    statement_operation_list\n    | ALL\n    | ALL STATEMENTS\n\nstatement_operation_list:\n    statement_operation [statement_operation...]\n\nobject_operation_clause:\n    object_operation_list\n    | ALL\n\nobject_operation_list:\n    object_operation [object_operation...]\n\nauditing_on_clause:\n      ON obj_name\n    | ON DEFAULT\n\nauditing_by_user_clause:\n    BY user_name [user_name...]\n\nwhenever_option:\n      WHENEVER NOT SUCCESSFUL\n    | WHENEVER SUCCESSFUL\n\nstatement_operation:\n    ALTER SYSTEM\n    | CLUSTER\n    | CONTEXT\n    | DATABASE LINK\n    | MATERIALIZED VIEW\n    | NOT EXISTS\n    | OUTLINE\n    | PROCEDURE\n    | PROFILE\n    | PUBLIC DATABASE LINK\n    | PUBLIC SYNONYM\n    | ROLE\n    | SEQUENCE\n    | SESSION\n    | SYNONYM\n    | SYSTEM AUDIT\n    | SYSTEM GRANT\n    | TABLE\n    | TABLESPACE\n    | TRIGGER\n    | TYPE\n    | USER\n    | VIEW\n    | ALTER SEQUENCE\n    | ALTER TABLE\n    | COMMENT TABLE\n    | DELETE TABLE\n    | EXECUTE PROCEDURE\n    | GRANT PROCEDURE\n    | GRANT SEQUENCE\n    | GRANT TABLE\n    | GRANT TYPE\n    | INSERT TABLE\n    | SELECT SEQUENCE\n    | SELECT TABLE\n    | UPDATE TABLE\n\nobject_operation:\n    ALTER\n    | AUDIT\n    | COMMENT\n    | DELETE\n    | EXECUTE\n    | FLASHBACK\n    | GRANT\n    | INDEX\n    | INSERT\n    | RENAME\n    | SELECT\n    | UPDATE\n"], "Description": ["该语句用于配置或删除对 SQL 语句的审计规则。", "\n说明\n\n配置对 SQL 语句的审计规则时，您必须拥有 AUDIT SYSTEM 系统权限，且需要登录 ORAAUDITOR 用户，密码固定为 ORAAUDITOR。\n配置对 SQL 语句的审计规则后，对所有会话立即生效。\n需要通过系统配置项 audit_trail 开启审计功能，该语句配置的审计规则才能生效。\n\n", "\n\n\n参数\n描述\n\n\n\n\nstatement_operation\n语句审计操作类型。 \n      \n如果指定 ALL，表示所有 审计语句说明表 1 中的操作。\n如果指定 ALL STATEMENTS，表示 statement_operation 中的所有操作。\n\n\n\nobject_operation\n对象审计操作类型。\n\n\nobj_name\n被审计的对象名，支持的对象类型包括：表（Table）、视图（View）和序列（Sequence）。\n\n\nON DEFAULT\n设置默认审计规则，对后续新创建的对象生效。\n\n\nuser_name\n指定用户名。\n\n\nWHENEVER NOT SUCCESSFUL\n指定只有执行失败才触发审计。\n\n\nWHENEVER SUCCESSFUL\n指定只有执行成功才触发审计。\n\n\n", "可以审计的 SQL 语句类型如下表所示。", "审计语句说明表 1", "\n\n\n审计语句\n说明\n\n\n\n\nALTER SYSTEM\n审计 ALTER SYSTEM 语句。\n\n\nCLUSTER\n审计 ADD CLUSTER 和 REMOVE CLUSTER 语句。\n\n\nINDEX\n审计 CREATE INDEX、DROP INDEX、FLASHBACK INDEX 和 PURGE INDEX 语句。\n\n\nNOT EXISTS\n审计因对象不存在导致失败的操作。\n\n\nOUTLINE\n审计 CREATE OUTLINE、ALTER OUTLINE 和 DROP OUTLINE 语句。\n\n\nPROCEDURE\n审计 CREATE PROCEDURE、DROP PROCEDURE、CREATE FUNCTION、DROP FUNCTION、CREATE PACKAGE 和 DROP PACKAGE 语句。\n\n\nPROFILE\n审计 CREATE PROFILE、ALTER PROFILE 和 DROP PROFILE 语句。\n\n\nROLE\n审计 CREATE ROLE、ALTER ROLE、DROP ROLE 和 SET ROLE 语句。\n\n\nSEQUENCE\n审计 CREATE SEQUENCE 和 DROP SEQUENCE 语句。\n\n\nSESSION\n审计登入登出操作。\n\n\nSYNONYM\n审计 CREATE SYNONYM 和 DROP SYNONYM 语句。\n\n\nSYSTEM AUDIT\n审计 AUDIT 和 NOAUDIT 语句。\n\n\nSYSTEM GRANT\n审计 GRANT 和 REVOKE 语句。\n\n\nTABLE\n审计 CREATE TABLE、DROP TABLE 和 TRUNCATE TABLE 语句。\n\n\nTABLESPACE\n审计 CREATE TABLESPACE、ALTER TABLESPACE 和 DROP TABLESPACE 语句。\n\n\nTRIGGER\n审计 CREATE TRIGGER、ALTER TRIGGER 和 DROP TRIGGER 语句。\n\n\nTYPE\n审计 CREATE TYPE、DROP TYPE、CREATE TYPE BODY 和 DROP TYPE BODY 语句。\n\n\nUSER\n审计 CREATE USER、ALTER USER 和 DROP USER 语句。\n\n\nVIEW\n审计 CREATE VIEW 和 DROP VIEW 语句。\n\n\n", "审计语句说明表 2", "\n\n\n审计语句\n说明\n\n\n\n\nALTER SEQUENCE\n审计 ALTER SEQUENCE 语句。\n\n\nALTER TABLE\n审计 ALTER TABLE 语句。\n\n\nCOMMENT TABLE\n审计 COMMENT ON TABLE 和 COMMENT ON VIEW 语句。\n\n\nDELETE TABLE\n审计 DELETE FROM TABLE 和 DELETE FROM VIEW 语句。\n\n\nEXECUTE PROCEDURE\n审计 CALL 语句。\n\n\nGRANT PROCEDURE\n审计 GRANT obj_privilege ON PROCEDURE | FUNCTION | PACKAGE 和 REVOKE obj_privilege ON PROCEDURE | FUNCTION | PACKAGE 语句。\n\n\nGRANT SEQUENCE\n审计 GRANT obj_privilege ON SEQUENCE 和 REVOKE obj_privilege ON SEQUENCE 语句。\n\n\nGRANT TABLE\n审计 GRANT obj_privilege ON TABLE | VIEW 和 REVOKE obj_privilege ON TABLE | VIEW 语句。\n\n\nGRANT TYPE\n审计 GRANT obj_privilege ON TYPE 和 REVOKE obj_privilege ON TYPE 语句。\n\n\nINSERT TABLE\n审计 INSERT INTO TABLE 和 INSERT INTO VIEW 语句。\n\n\nSELECT SEQUENCE\n审计所有包含 sequence.CURRVAL 或 sequence.NEXTVAL 的语句。\n\n\nSELECT TABLE\n审计 SELECT TABLE 和 SELECT VIEW 语句。\n\n\nUPDATE TABLE\n审计 UPDATE TABLE 和 UPDATE VIEW 语句。\n\n\n"], "Examples": ["/*将 ORAAUDITOR 用户解锁*/\nobclient> ALTER USER ORAAUDITOR ACCOUNT UNLOCK;\nQuery OK, 0 rows affected\n\n/*登录 ORAAUDITOR 用户*/\n[admin@k08j13249.eu95sqa /home/admin]\n$obclient -h10.XXX.XXX.XXX -P2881 -uORAAUDITOR@Oracle -pORAAUDITOR\n", "obclient> AUDIT TABLE BY user1 WHENEVER SUCCESSFUL;\nQuery OK, 0 rows affected\n", "obclient> AUDIT INSERT,UPDATE,DELETE ON user2.tbl1;\nQuery OK, 0 rows affected\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054312"], "Title": ["COMMIT"], "Feature": ["COMMIT [ WORK ] [ COMMENT 'string' ];\n"], "Description": ["该语句来结束当前的事务并使事务中执行的所有更改永久化。", "该语句还会清除事务中的所有保存点并释放事务锁。", "\n\n\n参数\n描述\n\n\n\n\nWORK\n为了 SQL 标准兼容性而提供的参数，为可选项。语句 COMMIT; 和 COMMIT WORK; 是等价的。\n\n\nCOMMENT\n提交当前事务并为其关联注释。此注释可以帮助您诊断分布式事务的故障。 说明 如果网络或机器故障阻止此分布式事务正确提交，则 OceanBase 数据库会将注释与事务 ID 一起存储在数据字典中。注释指示发生故障的应用程序，并提供联系提交事务的数据库管理员的信息。\n\n\n"], "Examples": ["obclient> INSERT INTO tbl1 VALUES (1, 'a',10);\nQuery OK, 1 row affected\n\nobclient> COMMIT;\nQuery OK, 0 rows affected\n", "obclient> COMMIT COMMENT 'Transaction code 001 in question, Please contact Zhang XX';\nQuery OK, 0 rows affected\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054302"], "Title": ["FLASHBACK TABLE BEFORE DROP"], "Feature": [" FLASHBACK TABLE original_name TO BEFORE DROP [RENAME TO database_name.table_name];\n"], "Description": ["用于从回收站中恢复被删除的表。", "\n说明\n\n回收站中的表并没有被实际删除，仍然会占用资源。如果需要彻底删除回收站中的内容，可以执行 SQL 语句 PURGE RECYCLEBIN;。\n回收站需要处于开启状态，被删除的表才会进入回收站。 \n     \n可以通过执行 SQL 语句 SHOW VARIABLES LIKE 'recyclebin'; 来查看回收站是否开启。\n可以通过执行 SQL 语句 SET RECYCLEBIN = ON; 来开启回收站。\n\n\n", "\n\n\n参数\n描述\n\n\n\n\noriginal_name\n指定要恢复表名。 说明 恢复表时，也会同步恢复和表相关的索引。\n\n\nRENAME TO\n修改表名和表所属的库。 如果省略 RENAME TO database_name.table_name，则恢复表的表名为原来的名称。\n\n\n"], "Examples": ["obclient> SHOW RECYCLEBIN;\n+-----------------------------------+---------------+-------+------------------------------+\n| OBJECT_NAME                       | ORIGINAL_NAME | TYPE  | CREATETIME                   |\n+-----------------------------------+---------------+-------+------------------------------+\n| RECYCLE_$_100004_1634807168766392 | TBL1          | TABLE | 21-OCT-21 05.06.08.767109 PM |\n| RECYCLE_$_100004_1634807177792816 | TBL2          | TABLE | 21-OCT-21 05.06.17.791967 PM |\n+-----------------------------------+---------------+-------+------------------------------+\n2 rows in set (0.00 sec)\n\nobclient> FLASHBACK TABLE tbl1 TO BEFORE DROP;\nQuery OK, 0 rows affected\n\nobclient> SELECT * FROM tbl1;\n+------+------+\n| COL1 | COL2 |\n+------+------+\n|    1 |    1 |\n+------+------+\n1 row in set\n", "obclient> SHOW RECYCLEBIN;\n+-----------------------------------+---------------+-------+------------------------------+\n| OBJECT_NAME                       | ORIGINAL_NAME | TYPE  | CREATETIME                   |\n+-----------------------------------+---------------+-------+------------------------------+\n| RECYCLE_$_100004_1634807168766392 | TBL1          | TABLE | 21-OCT-21 05.06.08.767109 PM |\n| RECYCLE_$_100004_1634807177792816 | TBL2          | TABLE | 21-OCT-21 05.06.17.791967 PM |\n+-----------------------------------+---------------+-------+------------------------------+\n2 rows in set (0.00 sec)\n\nobclient> FLASHBACK TABLE tbl2 TO BEFORE DROP RENAME TO user1.tbl_test;\nQuery OK, 0 rows affected\n\nobclient> SELECT * FROM user1.tbl_test;\n+------+------+\n| COL1 | COL2 |\n+------+------+\n|    1 |    1 |\n+------+------+\n1 row in set\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054310"], "Title": ["GRANT"], "Feature": ["/* 授予对象权限 */\nGRANT {obj_all_col_priv [, obj_all_col_priv...]} \n    ON obj_clause \n    TO {grant_user [, grant_user...]} \n    [WITH GRANT OPTION]\n\n/* 授予系统权限或角色 */\nGRANT obj_all_col_priv [, obj_all_col_priv...] \n    TO grantee_clause \n    [WITH ADMIN OPTION]\n\ngrantee_clause:  \n      grant_user [, grant_user...] \n    | grant_user IDENTIFIED BY password\n\nobj_all_col_priv:  \n      role \n    | sys_and_obj_priv [(column_list)] \n    | ALL [PRIVILEGES] [(column_list)]\n"], "Description": ["该语句用于系统管理员授予用户权限，包括对象权限、系统权限和角色。", "\n\n\n参数\n描述\n\n\n\n\nobj_all_col_priv\n指定授予的权限，您可通过授予权限或角色来直接或间接授予用户权限，同时把多个权限赋予用户时，权限类型使用英文逗号（,）隔开。具体的权限类型及其说明请参见 Oracle 模式下的权限分类。\n\n\nobj_clause\n指定授权的对象，授权的对象有如下几种指定方法。 \n      \n指定所有对象，即对象为所有数据库和所有表（*.*）。\n指定特定对象，即对象为特定的数据库（db_name.*）、特定的表（table_name）或特定的数据库中特定的表（db_name.table_name）。\n指定目录对象（[DIRECTORY] relation_name）。\n\n\n\ngrant_user\n指定要授予权限的用户或角色，有如下几种取值。 \n      \nuser [USER_VARIABLE]：授权给具体的用户。\nCONNECT：授权给 CONNECT 角色。\nRESOURCE：授权给 RESOURCE 角色。\nPUBLIC：授权给公共角色。\n\n\n\nIDENTIFIED BY password\n为待授权的用户指定一个密码，此处密码为明文，存入 dba_users 表后，服务器端会变为密文存储下来。如果密码中包含特殊字符 ~!@#%^&*_-+=`|(){}[]:;’,.?/，需使用英文双引号（\"\"）包含。\n\n\nWITH GRANT OPTION\n指定权限是否允许转授，取消授权时级联。\n\n\nWITH ADMIN OPTION\n指定权限是否允许转授，取消授权时不级联。\n\n\nrole\n指定授予的角色，有如下几种取值。 \n      \nrole_name：表示自定义角色的名称。\nDBA：表示数据库管理员角色，具有完全的数据库管理权限。授予 DBA 角色的用户可以执行任何数据库操作。\nRESOURCE：表示 RESOURCE 角色。\nCONNECT：表示 CONNECT 角色。\nPUBLIC：表示公共角色。\n\n\n\n"], "Examples": ["obclient> GRANT CREATE VIEW TO user1 WITH ADMIN OPTION;\n", "obclient> GRANT CONNECT TO user1 IDENTIFIED by '********';\n", "GRANT COMMENT ANY TABLE TO role1;\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054306"], "Title": ["KILL"], "Feature": ["KILL [CONNECTION | QUERY] 'session_id'\n"], "Description": ["该语句用来终止一个会话。", "\n说明\n如果用户拥有 PROCESS 权限，则用户可以查看所有会话。如果用户拥有 SUPER 权限，用户可以终止所有会话和 SQL 语句。否则，用户只能查看和终止自己的会话和 SQL 语句。\n", "\n\n\n参数\n描述\n\n\n\n\nKILL CONNECTION\n与不含修改符的 KILL 一样，可终止指定的 Client Session ID。\n\n\nKILL QUERY\n可终止连接当前正在执行的语句，但是会保持会话的连接状态。\n\n\nsession_id\n当前会话的 Client Session ID，该 ID 是会话在客户端中的唯一标识。可以通过 SHOW PROCESSLIST 或者 SHOW FULL PROCESSLIST 命令查询。\n\n\n"], "Examples": ["obclient> SHOW PROCESSLIST;\n+------------+------+----------------------+------+---------+------+--------+------------------+\n| ID         | USER | HOST                 | DB   | COMMAND | TIME | STATE  | INFO             |\n+------------+------+----------------------+------+---------+------+--------+------------------+\n| 3221849635 | SYS  | 10.10.10.10:49142 | SYS  | Sleep   |  426 | SLEEP  | NULL             |\n| 3221656012 | SYS  | 10.10.10.10:57140 | SYS  | Sleep   |  426 | SLEEP  | NULL             |\n| 3221671483 | SYS  | 10.10.10.10:43154 | SYS  | Query   |    0 | ACTIVE | show processlist |\n+------------+------+----------------------+------+---------+------+--------+------------------+\n3 rows in set\n\nobclient> KILL 3221849635;\nQuery OK, 0 rows affected\n\nobclient> KILL QUERY 3221656012;\nQuery OK, 0 rows affected\n\nobclient> KILL CONNECTION 3221671483;\nQuery OK, 0 rows affected\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054301"], "Title": ["LOAD DATA"], "Feature": ["LOAD DATA\n    [/*+ PARALLEL(N) [load_batch_size(M)] [APPEND | direct(bool, int, [load_mode])] */]\n    [REMOTE_OSS | LOCAL] INFILE 'file_name'\n    INTO TABLE table_name\n    [{FIELDS | COLUMNS}\n        [TERMINATED BY 'string']\n        [[OPTIONALLY] ENCLOSED BY 'char']\n        [ESCAPED BY 'char']\n    ]\n    [LINES\n        [STARTING BY 'string']\n        [TERMINATED BY 'string']\n    ]\n    [IGNORE number {LINES | ROWS}]\n    [(column_name_var\n        [, column_name_var] ...)]\n\nload_mode:\n    'full' \n    | 'inc_replace'\n"], "Description": ["该语句用于从外部导入数据。", "\n注意\n\n\n带有触发器（Trigger）的表禁止使用 LOAD DATA 语句。\n要从外部文件导入数据，您需要具有 FILE 权限及以下设置： \n     \n加载服务器端文件时，需要提前设置系统变量 secure_file_priv，配置导入或导出文件时可以访问的路径。\n加载客户端本地文件时，需要在启动 MySQL/OBClient 客户端时添加 --local-infile[=1] 选项来启用从本地文件系统加载数据的功能。\n\n\n\n", "OceanBase 数据库 LOAD DATA 语句支持加载以下输入文件：", "服务器端（OBServer 节点）文件：文件位于 OceanBase 数据库的 OBServer 节点上。可以使用 LOAD DATA INFILE 语句，将服务器端文件中加载数据到数据库表中。", "客户端（本地）文件：文件位于客户端本地文件系统中。可以使用 LOAD DATA LOCAL INFILE 语句，将客户端本地文件中的数据加载到数据库表中。", "OSS 文件：文件位于 OSS 文件系统。可以使用 LOAD DATA REMOTE_OSS INFILE 语句，将 OSS 文件中的数据加载到数据库表中。", "LOAD DATA 目前可以对 CSV 格式的文本文件进行导入，整个导入的过程可以分为以下的流程：", "解析文件：OceanBase 数据库会根据用户输入的文件名，读取文件中的数据，并且根据指定的并行度来决定并行或者串行解析输入文件中的数据。", "分发数据：由于 OceanBase 是分布式数据库，各个分区的数据可能分布在各个不同的 OBServer 节点，LOAD DATA 会对解析出来的数据进行计算，决定数据需要被发送到哪个 OBServer 节点。", "插入数据：当目标 OBServer 节点收到数据后，在本地执行 INSERT 操作将数据插入到对应的分区当中。", "要从外部文件导入数据，您需要具有 FILE 权限。您可以使用 GRANT FILE ON *.* TO $user_name; 语句进行授权，其中，$user_name 是需要执行 LOAD DATA 命令的用户。", "\n\n\n参数\n描述\n\n\n\n\nparallel(N)\n加载数据的并行度，N 默认为 4。\n\n\nload_batch_size(M)\n指定每次插入的批量大小，M 默认为 100。推荐取值范围为 [100,1000]。\n\n\nAPPEND | direct()\n使用 Hint 启用旁路导入功能。 \n      \n注意\n在执行旁路导入任务的过程中，不建议同时进行 OceanBase 数据库的升级操作，因为这可能导致旁路导入任务失败。\n\n\nAPPEND Hint 默认等同于使用的 direct(true, 0)，同时可以实现在线收集统计信息（GATHER_OPTIMIZER_STATISTICS Hint）的功能。\ndirect() 参数解释如下： \n        \nbool：表示写入的数据是否需要排序，true 表示需要排序，false 表示不需要排序。\nint：表示最大容忍的错误行数。\nload_mode：可选参数，表示旁路导入的模式。取值须使用英文单引号包起来，取值如下： \n          \nfull：默认值，表示全量导入。\ninc：表示增量导入，支持 INSERT 和 IGNORE 语义。\ninc_replace：表示增量导入，但不检查主键是否重复，相当于 REPLACE 语义的增量导入。\n\n\n 更多使用 LOAD DATA 旁路导入的信息，参见 使用 LOAD DATA 语句旁路导入数据/文件。\n\n\nREMOTE_OSS | LOCAL\n可选项， \n      \nREMOTE_OSS 用于指定是否从 OSS 文件系统读取数据。 \n        \n注意\n如果使用了此参数，file_name 必须是一个 OSS 的地址。\n\nLOCAL 用于指定是否从客户端的本地文件系统读取数据。如果不使用 LOCAL 参数，那么将从服务器端（OBServer 节点）的文件系统读取数据。\n\n\n\nfile_name\n指定输入文件的路径和文件名。 file_name 有以下格式： \n      \n导入文件在 OBServer 节点或客户端：/$PATH/$FILENAME。\n导入文件在 OSS 上：oss://$PATH/$FILENAME/?host=$HOST&access_id=$ACCESS_ID&access_key=$ACCESSKEY。\n 参数解释如下： \n      \n$PATH：指定了存储桶中的文件路径，表示文件所在的目录。\n$FILENAME：指定了文件的名称，表示要访问的具体文件。\n$HOST：指定了 OSS 服务的主机名或 CDN 加速的域名，即要访问的 OSS 服务的地址。\n$ACCESS_ID：指定了访问 OSS 服务所需的 Access Key ID，用于身份验证。\n$ACCESSKEY：指定了访问 OSS 服务所需的 Access Key Secret，用于身份验证。\n\n\n说明\n在导入 OSS 上的文件时，需要确保以下信息：\n\n确保访问 OSS 存储桶和文件的权限。你需要拥有足够的权限来读取指定的存储桶和文件。这通常需要在 OSS 控制台或通过 OSS API 设置访问权限，并将访问密钥（Access Key ID 和 Access Key Secret）配置为具有适当权限的凭据。\n确保数据库服务器可以通过网络连接到指定的 $HOST 地址，以访问 OSS 服务。如果使用的是 OSS 服务的 CDN 加速域名，还需要确保 CDN 配置正确，并且网络连接正常。\n\n\n\n\n\ntable_name\n导入数据的表的名称，支持分区表与非分区表。\n\n\nFIELDS | COLUMNS\n指定字段的格式。 \n      \nENCLOSED BY：设置导出值的修饰符。\nTERMINATED BY：设置导出列的结束符。\nESCAPED BY：设置导出值忽略的字符。\n\n\n\nLINES STARTING BY\n指定行起始符。\n\n\nLINES TERMINATED BY\n指定行结束符。\n\n\nIGNORES number { LINES | ROWS }\n忽略前几行，LINES 表示文件的前几行，ROWS 表示由字段分隔符指定的前几行数据。缺省时，会将输入文件中的字段逐个与表中的列进行对应。 如果输入文件中并没有包含所有的列，那么缺少的列按照以下的规则会被默认填充： \n      \n字符类型：空字符串。\n数值类型：0。\n日期类型：0000-00-00。\n\n\n\ncolumn_name_var\n指定导入的列名。\n\n\n"], "Examples": ["obclient> SET GLOBAL secure_file_priv = \"/\";\n", "obclinet> \\q\n", "Bye\n", "obclient> LOAD DATA INFILE '/home/admin/test.csv' INTO TABLE t1;\n", "LOAD DATA /*+ PARALLEL(4) APPEND */ INFILE '/home/admin/test.csv' INTO TABLE t1;\n", "LOAD DATA /*+ direct(true,1024) parallel(16) */ REMOTE_OSS INFILE 'oss://antsys-oceanbasebackup/backup_rd/xiaotao.ht/lineitem2.tbl?host=***.oss-cdn.***&access_id=***&access_key=***' INTO TABLE tbl1 FIELDS TERMINATED BY ',';\n", "obclient --local-infile -hxxx.xxx.xxx.xxx -P2881 -usys@oracle001 -p******\n", "Welcome to the OceanBase.  Commands end with ; or \\g.\nYour OceanBase connection id is 3221548006\nServer version: OceanBase 4.2.2.0 (r100000032024010510-75c47d4be18a399e13c5309de1a81da5caf4e7c0) (Built Jan  5 2024 10:17:55)\n\nCopyright (c) 2000, 2018, OceanBase and/or its affiliates. All rights reserved.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nobclient [SYS]>\n", "obclient [SYS]> LOAD DATA LOCAL INFILE '/home/admin/test_data/tbl1.csv' INTO TABLE tbl1 FIELDS TERMINATED BY ',';\n", "Query OK, 3 rows affected\nRecords: 3  Deleted: 0  Skipped: 0  Warnings: 0\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054303"], "Title": ["LOCK TABLE"], "Feature": ["LOCK TABLE [ schema. ]table_name\n\n  [ partition_extension_clause]\n    [, [ schema. ] table_name\n      [ partition_extension_clause ]\n     ]...\n  IN lock_mode MODE\n  [ NOWAIT  \n   | WAIT integer\n  ] ;\n\npartition_extension_clause:\n\n    PARTITION (partition_name, ...)\n  | SUBPARTITION (subpartition_name, ...)\n\n"], "Description": ["该语句根据指定模式锁定一个或多个表、表的分区或者二级分区。", "上锁的表将保持上锁状态，直至事务提交、回滚或者回滚到上锁前的 Savepoint。", "\n说明\n要锁定的表必须在用户自己的 Schema 中，或者用户必须具有 LOCK ANY TABLE 系统权限。\n"], "Examples": ["CREATE TABLE TEST(col1 INT, col2 INT)\nPARTITION BY RANGE (col1)\nSUBPARTITION BY RANGE (col2)\n  SUBPARTITION TEMPLATE\n    (\n    SUBPARTITION sp0 VALUES LESS THAN (3),\n    SUBPARTITION sp1 VALUES LESS THAN (6),\n    SUBPARTITION sp2 VALUES LESS THAN (9)\n    )\n(\n  PARTITION p0 VALUES LESS THAN (100),\n  PARTITION p1 VALUES LESS THAN (200),\n  PARTITION p2 VALUES LESS THAN (300)\n);\n", "obclient> LOCK TABLE test IN EXCLUSIVE MODE;\nQuery OK, 0 rows affected\n", "obclient> LOCK TABLE test PARTITION (p1) IN EXCLUSIVE MODE;\nQuery OK, 0 rows affected\n", "obclient> LOCK TABLE test SUBPARTITION (p1ssp1) IN EXCLUSIVE MODE;\nQuery OK, 0 rows affected\n", "obclient> LOCK TABLE test PARTITION (p1，p2) IN EXCLUSIVE MODE;\nQuery OK, 0 rows affected\n", "obclient> LOCK TABLE test SUBPARTITION (p0ssp1，p1ssp2) IN EXCLUSIVE MODE;\nQuery OK, 0 rows affected\n", "obclient> LOCK TABLE test PARTITION (p1, p2), test SUBPARTITION (p0ssp0, p0ssp1) IN EXCLUSIVE MODE;\nQuery OK, 0 rows affected\n", "obclient> LOCK TABLE test PARTITION (p0, p3) IN EXCLUSIVE MODE;\nORA-02149: Specified partition does not exist\n", "# conn1\nobclient> START TRANSACTION;\nQuery OK, 0 rows affected\nobclient> LOCK TABLE test IN EXCLUSIVE MODE;\nQuery OK, 0 rows affected\n\n# conn2\nobclient> START TRANSACTION;\nQuery OK, 0 rows affected\nobclient> SET ob_trx_timeout = 10000000000; # 10000 秒\nQuery OK, 0 rows affected\nobclient> SET ob_query_timeout = 1000000;   # 1 秒\nQuery OK, 0 rows affected\n\n# 请求客户端在 1 秒后将报出锁冲突的错误\nobclient> LOCK TABLE test IN SHARE MODE;\nORA-30006: resource busy; acquire with WAIT timeout expired\n", "# conn1\nobclient> START TRANSACTION;\nQuery OK, 0 rows affected\nobclient> LOCK TABLE test IN EXCLUSIVE MODE;\nQuery OK, 0 rows affected\n\n# conn2\nobclient> START TRANSACTION;\nQuery OK, 0 rows affected\nobclient> LOCK TABLE test IN SHARE MODE NOWAIT;\nORA-00054: resource busy and acquire with NOWAIT specified or timeout expired\n", "# conn1\nobclient> START TRANSACTION;\nQuery OK, 0 rows affected\nobclient> LOCK TABLE test IN EXCLUSIVE MODE;\nQuery OK, 0 rows affected\n\n# conn2\nobclient> START TRANSACTION;\nQuery OK, 0 rows affected\n\n# 请求客户端在 1 秒后将报出锁冲突的错误\nobclient> LOCK TABLE test IN SHARE MODE WAIT 1;\nORA-00054: resource busy and acquire with NOWAIT specified or timeout expired\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054295"], "Title": ["REVOKE"], "Feature": ["/*撤销对象权限*/\nREVOKE obj_privileges\n  ON obj_clause FROM user_list;\n\nuser_list:\n  user_name [, user_name ...]\n\nobj_privileges:\n  obj_privilege [, obj_privilege ...]\n\nobj_privilege:\n    ALTER\n  | DELETE\n  | INDEX\n  | INSERT\n  | SELECT\n  | UPDATE\n  | REFERENCES\n  | EXECUTE\n\nobj_clause:\n  relation_name\n  | relation_name '.' relation_name\n  | DIRECTORY relation_name\n\nrelation_name:\n  STR_VALUE\n\n/*撤销系统权限*/\nREVOKE {system_privilege_list | ALL PRIVILEGES}\n  FROM user_list;\nREVOKE ALL [PRIVILEGES], GRANT_OPTION FROM user_list;\n\nsystem_privilege_list:\n  system_privilege [, system_privilege ...]\n\nsystem_privilege:\n  CREATE SESSION\n  | EXEMPT REDACTION POLICY\n  | SYSDBA\n  | SYSOPER\n  | SYSBACKUP\n  | CREATE TABLE\n  | CREATE ANY TABLE\n  | ALTER ANY TABLE\n  | BACKUP ANY TABLE\n  | DROP ANY TABLE\n  | LOCK ANY TABLE\n  | COMMENT ANY TABLE\n  | SELECT ANY TABLE\n  | INSERT ANY TABLE\n  | UPDATE ANY TABLE\n  | DELETE ANY TABLE\n  | FLASHBACK ANY TABLE\n  | CREATE ROLE\n  | DROP ANY ROLE\n  | GRANT ANY ROLE\n  | ALTER ANY ROLE\n  | AUDIT ANY\n  | GRANT ANY PRIVILEGE\n  | GRANT ANY OBJECT PRIVILEGE\n  | CREATE ANY INDEX\n  | ALTER ANY INDEX\n  | DROP ANY INDEX\n  | CREATE ANY VIEW\n  | DROP ANY VIEW\n  | CREATE VIEW\n  | SELECT ANY DICTIONARY\n  | CREATE PROCEDURE\n  | CREATE ANY PROCEDURE\n  | ALTER ANY PROCEDURE\n  | DROP ANY PROCEDURE\n  | EXECUTE ANY PROCEDURE\n  | CREATE SYNONYM\n  | CREATE ANY SYNONYM\n  | DROP ANY SYNONYM\n  | CREATE PUBLIC SYNONYM\n  | DROP PUBLIC SYNONYM\n  | CREATE SEQUENCE\n  | CREATE ANY SEQUENCE\n  | ALTER ANY SEQUENCE\n  | DROP ANY SEQUENCE\n  | SELECT ANY SEQUENCE\n  | CREATE TRIGGER\n  | CREATE ANY TRIGGER\n  | ALTER ANY TRIGGER\n  | DROP ANY TRIGGER\n  | CREATE PROFILE\n  | ALTER PROFILE\n  | DROP PROFILE\n  | CREATE USER\n  | ALTER USER\n  | DROP USER\n  | CREATE TYPE\n  | CREATE ANY TYPE\n  | ALTER ANY TYPE\n  | DROP ANY TYPE\n  | EXECUTE ANY TYPE\n  | UNDER ANY TYPE\n  | PURGE DBA_RECYCLEBIN\n  | CREATE ANY OUTLINE\n  | ALTER ANY OUTLINE\n  | DROP ANY OUTLINE\n  | SYSKM\n  | CREATE TABLESPACE\n  | ALTER TABLESPACE\n  | DROP TABLESPACE\n  | SHOW PROCESS\n  | ALTER SYSTEM\n  | CREATE DATABASE LINK\n  | CREATE PUBLIC DATABASE LINK\n  | DROP DATABASE LINK\n  | ALTER SESSION\n  | ALTER DATABASE\n\n/*撤销角色*/\nREVOKE role_list FROM user_name;\n\nrole_list:\nrole_name [, role_name ...]\n"], "Description": ["该语句用于系统管理员撤销用户的某些权限。", "使用说明如下：", "用户必须拥有被撤销的权限（例如，user1 要撤销 user2 对表 tbl1 的 SELECT 权限，则 user1 必须拥有表 tbl1 的 SELECT 的权限），并且拥有 GRANT OPTION 权限。", "撤销 ALL PRIVILEGES 和 GRANT OPTION 权限时，当前用户必须拥有全局 GRANT OPTION 权限，或者对权限表的 UPDATE 及 DELETE 权限。", "当权限没有 GRANT OPTION 时，撤销操作不会级联。例如，用户 user1 给 user2 授予了某些权限，撤回 user1 的权限不会同时也撤回 user2 的相应权限。当拥有 GRANT OPTION 时，撤销操作会级联。", "\n\n\n参数\n描述\n\n\n\n\nobj_privileges\n指定撤销的对象权限类型。具体的权限类型及其说明请参见下方权限类型说明表。同时撤销多个权限时，权限类型用\",\"隔开。\n\n\nsystem_privilege\n指定撤销的系统权限类型。同时撤销多个权限时，权限类型用\",\"隔开。\n\n\nobj_clause\n指定撤销权限的层级，relation_name 指定具体对象的名称。权限可以分为以下几个层级： \n      \n全局层级：适用于所有的数据库。\n数据库层级：适用于一个给定数据库中的所有目标。\n表层级：表权限适用于一个给定表中的所有列。\n\n\n\nrole_list\n角色列表。\n\n\n", "可以撤销的权限类型如下表所示。", "权限类型说明表", "\n\n\n权限\n说明\n\n\n\n\nALL PRIVILEGES\n除 GRANT OPTION 以外所有权限。\n\n\nALTER\nALTER TABLE 的权限。\n\n\nCREATE\nCREATE TABLE 的权限。\n\n\nDELETE\nDELETE 的权限。\n\n\nDROP\nDROP 的权限。\n\n\nGRANT OPTION\nGRANT OPTION 的权限。\n\n\nINSERT\nINSERT 的权限。\n\n\nUPDATE\nUPDATE 的权限。\n\n\nSELECT\nSELECT 的权限。\n\n\nINDEX\nCREATE INDEX 和 DROP INDEX 的权限。\n\n\nSHOW VIEW\nSHOW CREATE VIEW 权限。\n\n\nSHOW DATABASES\n全局 SHOW DATABASES 的权限。\n\n\nSUPER\nSET GLOBAL 修改全局系统参数的权限。\n\n\nREFERENCES\n创建指向表的约束的权限。\n\n\nEXECUTE\n执行预处理程序的权限。\n\n\nFLASHBACK\nFLASHBACK 的权限。\n\n\nREAD\nREAD 的权限。\n\n\nWRITE\nWRITE 的权限。\n\n\nCREATE SESSION\n连接到数据库的权限。\n\n\nEXEMPT REDACTION POLICY\n绕过任意现有 REDACTION POLICY 并查看数据的权限。\n\n\nSYSDBA\nSYSDBA 的权限。\n\n\nSYSOPER\nSYSOPER 的权限。\n\n\nSYSBACKUP\nSYSBACKUP 的权限。\n\n\nCREATE TABLE\n在指定用户 Schema 内创建表的权限。\n\n\nCREATE ANY TABLE\n在除 SYS 用户外所有用户 Schema 内创建表的权限。\n\n\nALTER ANY TABLE\n在除 SYS 用户外所有用户 Schema 内修改表的权限。\n\n\nBACKUP ANY TABLE\n在除 SYS 用户外所有用户 Schema 内创建表的权限。\n\n\nDROP ANY TABLE\n在除 SYS 用户外所有用户 Schema 内备份表的权限。\n\n\nLOCK ANY TABLE\n在除 SYS 用户外所有用户 Schema 内锁定表的权限。\n\n\nCOMMENT ANY TABLE\n在除 SYS 用户外所有用户 Schema 内评论表的权限。\n\n\nSELECT ANY TABLE\n在除 SYS 用户外所有用户 Schema 内查看表的权限。\n\n\nINSERT ANY TABLE\n在除 SYS 用户外所有用户 Schema 内的表插入行的权限。\n\n\nUPDATE ANY TABLE\n在除 SYS 用户外所有用户 Schema 内的表更新行的权限。\n\n\nDELETE ANY TABLE\n在除 SYS 用户外所有用户 Schema 内删除表的权限。\n\n\nFLASHBACK ANY TABLE\n在除 SYS 用户外所有用户 Schema 内 FLASHBACK 表的权限。\n\n\nCREATE ROLE\n创建角色的权限。\n\n\nDROP ANY ROLE\n删除任意角色的权限。\n\n\nGRANT ANY ROLE\n授予任意角色的权限。\n\n\nALTER ANY ROLE\n修改任意角色的权限。\n\n\nAUDIT ANY\n在除 SYS 用户外所有用户 Schema 内修改对象的权限。\n\n\nGRANT ANY PRIVILEGE\n授予任意系统权限的权限。\n\n\nGRANT ANY OBJECT PRIVILEGE\n授予任意对象权限的权限。\n\n\nCREATE ANY INDEX\n在除 SYS 用户外所有用户 Schema 内创建索引的权限。\n\n\nALTER ANY INDEX\n在除 SYS 用户外所有用户 Schema 内修改索引的权限。\n\n\nDROP ANY INDEX\n在除 SYS 用户外所有用户 Schema 内删除索引的权限。\n\n\nCREATE ANY VIEW\n在除 SYS 用户外所有用户 Schema 内创建视图的权限。\n\n\nDROP ANY VIEW\n在除 SYS 用户外所有用户 Schema 内删除索引的权限。\n\n\nCREATE VIEW\n在指定用户 Schema 内创建视图的权限。\n\n\nSELECT ANY DICTIONARY\n在指定用户 Schema 内查询 DICTIONARY 的权限。\n\n\nCREATE PROCEDURE\n在指定用户 Schema 内创建 PROCEDURE 的权限。\n\n\nCREATE ANY PROCEDURE\n在除 SYS 用户外所有用户 Schema 内创建PROCEDURE 的权限。\n\n\nALTER ANY PROCEDURE\n在除 SYS 用户外所有用户 Schema 内修改PROCEDURE 的权限。\n\n\nDROP ANY PROCEDURE\n在除 SYS 用户外所有用户 Schema 内删除PROCEDURE 的权限。\n\n\nEXECUTE ANY PROCEDURE\n在除 SYS 用户外所有用户 Schema 内执行PROCEDURE 的权限。\n\n\nCREATE SYNONYM\n在指定用户 Schema 内创建 SYNONYM 的权限。\n\n\nCREATE ANY SYNONYM\n在除 SYS 用户外所有用户 Schema 内创建SYNONYM 的权限。\n\n\nDROP ANY SYNONYM\n在除 SYS 用户外所有用户 Schema 内删除SYNONYM 的权限。\n\n\nCREATE PUBLIC SYNONYM\n创建公共 SYNONYM 的权限。\n\n\nDROP PUBLIC SYNONYM\n删除公共 SYNONYM 的权限。\n\n\nCREATE SEQUENCE\n在指定用户 Schema 内创建 SEQUENCE 的权限。\n\n\nCREATE ANY SEQUENCE\n在除 SYS 用户外所有用户 Schema 内创建SEQUENCE 的权限。\n\n\nALTER ANY SEQUENCE\n在除 SYS 用户外所有用户 Schema 内修改SEQUENCE 的权限。\n\n\nDROP ANY SEQUENCE\n在除 SYS 用户外所有用户 Schema 内删除SEQUENCE 的权限。\n\n\nSELECT ANY SEQUENCE\n在除 SYS 用户外所有用户 Schema 内查询SEQUENCE 的权限。\n\n\nCREATE TRIGGER\n在指定用户 Schema 内创建 TRIGGER 的权限。\n\n\nCREATE ANY TRIGGER\n在除 SYS 用户外所有用户 Schema 内创建TRIGGER 的权限。\n\n\nALTER ANY TRIGGER\n在除 SYS 用户外所有用户 Schema 内修改TRIGGER 的权限。\n\n\nDROP ANY TRIGGER\n在除 SYS 用户外所有用户 Schema 内删除TRIGGER 的权限。\n\n\nCREATE PROFILE\n创建 PROFILE 的权限。\n\n\nALTER PROFILE\n修改 PROFILE 的权限。\n\n\nDROP PROFILE\n删除 PROFILE 的权限。\n\n\nCREATE USER\n创建用户的权限。\n\n\nALTER USER\n修改用户的权限。\n\n\nDROP USER\n删除用户的权限。\n\n\nCREATE TYPE\n在指定用户 Schema 内创建 TYPE 的权限。\n\n\nCREATE ANY TYPE\n在除 SYS 用户外所有用户 Schema 内创建 TYPE 的权限。\n\n\nALTER ANY TYPE\n在除 SYS 用户外所有用户 Schema 内修改 TYPE 的权限。\n\n\nDROP ANY TYPE\n在除 SYS 用户外所有用户 Schema 内删除 TYPE 的权限。\n\n\nEXECUTE ANY TYPE\n在除 SYS 用户外所有用户 Schema 内执行 TYPE 的权限。\n\n\nUNDER ANY TYPE\n在除 SYS 用户外所有用户 Schema 内 TYPE 的基础上创建 SUBTYPE 的权限。\n\n\nPURGE DBA_RECYCLEBIN\n从系统回收站中删除所有对象的权限。\n\n\nCREATE ANY OUTLINE\n在除 SYS 用户外所有用户 Schema 内创建OUTLINE 的权限。\n\n\nALTER ANY OUTLINE\n在除 SYS 用户外所有用户 Schema 内修改OUTLINE 的权限。\n\n\nDROP ANY OUTLINE\n在除 SYS 用户外所有用户 Schema 内删除OUTLINE 的权限。\n\n\nSYSKM\nSYSKM 的权限。\n\n\nCREATE TABLESPACE\n创建表空间的权限。\n\n\nALTER TABLESPACE\n修改表空间的权限。\n\n\nDROP TABLESPACE\n删除表空间的权限。\n\n\nALTER SYSTEM\nALTER SYSTEM 的权限\n\n\nCREATE DATABASE LINK\n在指定用户 Schema 内创建 DATABASE LINK 的权限。\n\n\nCREATE PUBLIC DATABASE LINK\n创建 PUBLIC DATABASE LINK 的权限。\n\n\nDROP DATABASE LINK\n在指定用户 Schema 内删除 DATABASE LINK 的权限。\n\n\nALTER SESSION\n修改 SESSION 的权限。\n\n\nALTER DATABASE\n修改 DATABASE 的权限。\n\n\n"], "Examples": ["obclient> REVOKE ALL PRIVILEGES FROM user1;\nQuery OK, 0 rows affected\n", "obclient> REVOKE SELECT ON user1.tbl1 FROM role1;\nQuery OK, 0 rows affected\n", "obclient> REVOKE DROP ANY TABLE FROM user1,user2;\nQuery OK, 0 rows affected\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054298"], "Title": ["ROLLBACK"], "Feature": ["ROLLBACK [WORK][ TO [ SAVEPOINT ] savepoint_name ];\n"], "Description": ["该语句用来撤销在当前事务中完成的工作。", "\n\n\n参数\n描述\n\n\n\n\nWORK\n为了 SQL 标准兼容性而提供的参数，为可选项。\n\n\nTO SAVEPOINT\n指定要将当前事务回滚到的保存点，为可选项。如果省略此子句，则该 ROLLBACK 语句将回滚整个事务，并且有以下结果： \n      \n结束交易。\n撤消当前事务中的所有更改。\n清除事务中的所有保存点。\n释放任何事务锁。\n ROLLBACK 与 TO SAVEPOINT 子句一起使用执行以下操作： \n      \n仅回滚保存点之后的事务部分，不会结束交易。\n删除在该保存点之后创建的所有保存点。\n\n\n\n"], "Examples": ["obclient> CREATE TABLE tbl1 (id INT,name VARCHAR(10),num INT);\nQuery OK, 0 rows affected\n\nobclient> INSERT INTO tbl1 VALUES (1, 'a',10),(2, 'b',20),(3, 'a',30);\nQuery OK, 3 rows affected\nRecords: 3  Duplicates: 0  Warnings: 0\n\nobclient> SELECT * FROM tbl1;\n+------+------+------+\n| ID   | NAME | NUM  |\n+------+------+------+\n|    1 | a    |   10 |\n|    2 | b    |   20 |\n|    3 | a    |   30 |\n+------+------+------+\n3 rows in set\n", "obclient> UPDATE tbl1 SET name = 'c' WHERE id = 3;\nQuery OK, 1 row affected\nRows matched: 1  Changed: 1  Warnings: 0\n\nobclient> SELECT * FROM tbl1;\n+------+------+------+\n| ID   | NAME | NUM  |\n+------+------+------+\n|    1 | a    |   10 |\n|    2 | b    |   20 |\n|    3 | c    |   30 |\n+------+------+------+\n3 rows in set\n\nobclient> ROLLBACK;\nQuery OK, 0 rows affected\n\nobclient> SELECT * FROM tbl1;\n+------+------+------+\n| ID   | NAME | NUM  |\n+------+------+------+\n|    1 | a    |   10 |\n|    2 | b    |   20 |\n|    3 | a    |   30 |\n+------+------+------+\n3 rows in set\n", "obclient> ROLLBACK TO SAVEPOINT savepoint1;\nQuery OK, 0 rows affected\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054304"], "Title": ["SAVEPOINT"], "Feature": ["SAVEPOINT savepoint_name;\n"], "Description": ["该语句用来在提交事务之前创建保存点，可以实现将事务部分回滚。", "\n说明\n\n保存点名称在同一个事务范围内是唯一的，后一个保存点会覆盖前一个同名的保存点。\n创建保存点后可以继续处理、提交工作、回滚整个事务或者将事务回滚到指定保存点。有关回事务滚事务的详细信息，请参见 ROLLBACK。\n\n", "\n\n\n参数\n描述\n\n\n\n\nsavepoint_name\n指定保存点的名称。\n\n\n"], "Examples": ["obclient> CREATE TABLE tbl1 (id INT,name VARCHAR(10),num INT);\nQuery OK, 0 rows affected\n\nobclient>  INSERT INTO tbl1 VALUES (1, 'a',10),(2, 'b',20),(3, 'a',30);\nQuery OK, 3 rows affected\nRecords: 3  Duplicates: 0  Warnings: 0\n\nobclient> SELECT * FROM tbl1;\n+------+------+------+\n| ID   | NAME | NUM  |\n+------+------+------+\n|    1 | a    |   10 |\n|    2 | b    |   20 |\n|    3 | a    |   30 |\n+------+------+------+\n3 rows in set\n", "obclient> UPDATE tbl1 SET name = 'c' WHERE id = 3;\nQuery OK, 1 row affected\nRows matched: 1  Changed: 1  Warnings: 0\n\nobclient> SAVEPOINT savepoint1;\nQuery OK, 0 rows affected\n", "obclient> INSERT INTO tbl1 VALUES (4, 'd',40);\nQuery OK, 1 row affected\n\nobclient> SELECT * FROM tbl1;\n+------+------+------+\n| ID   | NAME | NUM  |\n+------+------+------+\n|    1 | a    |   10 |\n|    2 | b    |   20 |\n|    3 | c    |   30 |\n|    4 | d    |   40 |\n+------+------+------+\n4 rows in set\n", "obclient> ROLLBACK TO SAVEPOINT savepoint1;\nQuery OK, 0 rows affected\n\nobclient> SELECT * FROM tbl1;\n+------+------+------+\n| ID   | NAME | NUM  |\n+------+------+------+\n|    1 | a    |   10 |\n|    2 | b    |   20 |\n|    3 | c    |   30 |\n+------+------+------+\n3 rows in set\n\nobclient> COMMIT;\nQuery OK, 0 rows affected\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054307"], "Title": ["SELECT INTO"], "Feature": ["SELECT [/*+parallel(N)*/] column_list_option \nINTO {OUTFILE 'file_name' [ {CHARSET | CHARACTER SET} charset_name] [field_opt] [line_opt] [file_opt]\n     | DUMPFILE 'file_name'\n     | into_var_list}\nFROM table_name_list\n[WHERE where_conditions]\n[GROUP BY group_by_list [HAVING having_search_conditions]]\n[ORDER BY order_expression_list];\n\ncolumn_list_option:\n    column_name [, column_name ...]\n\nfield_opt:\n    {COLUMNS | FIELDS} field_term_list\n\nfield_term_list:\n  field_term [, field_term ...]\n\nfield_term:\n    {[OPTIONALLY] ENCLOSED | TERMINATED | ESCAPED} BY string\n\nline_opt:\n    LINES line_term_list\n\nline_term_list:\n    line_term [, line_term ...]\n\nline_term:\n    {STARTING | TERMINATED} BY string\n\nfile_opt:\n    file_option [, file_option ...]\n\nfile_option:\n    SINGLE [=] {TRUE | FALSE}\n    | MAX_FILE_SIZE [=] {int | string}\n"], "Description": ["该语句用于将查询结果存储在变量或文件中。其中：", "SELECT ... INTO OUTFILE 用于将结果集存储在外部文件，并可以指定输出格式。", "SELECT ... INTO DUMPFILE 用于向外部文件写入不带格式的单行。", "SELECT ... INTO var_list 用于将结果集存储到变量。", "\n\n\n参数\n描述\n\n\n\n\nparallel(N)\n可选项，指定执行语句的并行度。\n\n\ncolumn_list_option\n表示导出的列选项。如果要选中全部数据可以用 * 表示。column_name：列名称。更多查询语句列选项的信息，参见 SIMPLE SELECT。\n\n\nfile_name\n用于指定导出文件的路径和文件名。file_name 有以下格式： \n      \n将导出文件保存在 OBServer 节点：/$PATH/$FILENAME。\n将导出文件保存在 OSS 上：oss://$PATH/$FILENAME/?host=$HOST&access_id=$ACCESS_ID&access_key=$ACCESSKEY。\n 参数解释如下： \n      \n$PATH：指定要保存导出文件的路径。 \n        \n导出到 OBServer 节点中就是指定导出文件在 OBServer 节点的路径。\n导出到 OSS 上就是指定存储桶中的文件路径。\n\n$FILENAME：指定要导出文件的名称。当 SINGLE = FALSE 时表示导出文件的前缀，不指定时会生成默认的前缀 data，系统自动生成后缀。\n$HOST：指定 OSS 服务的主机名或 CDN 加速的域名，即要访问的 OSS 服务的地址。\n$ACCESS_ID：指定访问 OSS 服务所需的 Access Key ID，用于身份验证。\n$ACCESSKEY：指定了访问 OSS 服务所需的 Access Key Secret，用于身份验证。\n\n\n说明\n由于阿里云 OSS 有文件大小的限制，对于超过 5 GB 的文件，导出到 OSS 时会被拆分成多个文件，每个文件小于 5 GB。\n\n\n\nCHARSET | CHARACTER SET charset_name\n可选项，指定导出到外部文件的字符集。charset_name 表示字符集的名称。\n\n\nfield_opt\n可选项，导出字段格式选项。指定输出文件中各个字段的格式，通过 FIELDS 或 COLUMNS 子句来指定。详细介绍可参见下文 field_term。\n\n\nline_opt\n可选项，导出数据行的开始和结束符选项。指定输出文件中每一行的开始和结束字符，通过 LINES 子句设置。详细介绍可参见下文 line_term。\n\n\nfile_opt\n可选项，控制是否导出到多个文件和导出到多文件时单个文件的大小。详细介绍可参见下文 file_option。\n\n\nFROM table_name_list\n指定选择数据的对象。\n\n\nWHERE where_conditions\n可选项，指定筛选条件，查询结果中仅包含满足条件的数据。更多查询语句的筛选信息，参见 SIMPLE SELECT。\n\n\nGROUP BY group_by_list\n可选项，指定分组的字段，通常与聚合函数配合使用。 \n      \n说明\nSELECT 子句后面的所有列中，没有使用聚合函数的列，必须出现在 GROUP BY 子句后面。\n\n\n\nHAVING having_search_conditions\n可选项，筛选分组后的各组数据。HAVING 子句与 WHERE 子句类似，但是 HAVING 子句可以使用累计函数（如 SUM、AVG 等）。\n\n\nORDER BY order_expression_list\n可选项，指定结果集按照一个列或者多个列用来 ASC 或 DESC 显示查询结果。不指定 ASC 或者 DESC 时，默认为 ASC。 \n      \nASC：表示升序。\nDESC：表示降序。\n\n\n\n", "field_term", "[OPTIONALLY] ENCLOSED BY string", "：用来指定包裹字段值的符号，默认没有引用符号。例如，", "ENCLOSED BY '\"'", " 表示字符值放在双引号之间。如果使用了 ", "OPTIONALLY", " 关键字，则仅对字符串类型的值使用指定字符包裹。", "TERMINATED BY string", "：用来指定字段值之间的符号。例如，", "TERMINATED BY ','", " 指定了逗号作为两个字段值之间的标志。", "ESCAPED BY string", "：用来指定转义字符，以便处理特殊字符或解析特殊格式的数据。默认的转义字符是反斜杠（", "\\", "）。", "line_term", "STARTING BY string", "：指定每一行开始的字符，默认没有起始符号。", "TERMINATED BY string", "：指定每一行的结束字符，默认使用换行符。例如，", "... LINES TERMINATED BY '\\n' ...", " 表示一行将以换行符作为结束标志。", "file_option", "SINGLE [=] {TRUE | FALSE}：用于控制将数据导出到单个文件或多个文件。", "\nSINGLE [=] TRUE：默认值，表示只能导出到单个文件。\nSINGLE [=] FALSE：表示可以导出到多个文件。\n\n注意\n当并行度大于 1 且 SINGLE = FALSE 时，可以导出到多个文件，达到并行读并行写和提高导出速度的效果。\n\n", "SINGLE [=] TRUE：默认值，表示只能导出到单个文件。", "SINGLE [=] FALSE：表示可以导出到多个文件。", "\n注意\n当并行度大于 1 且 SINGLE = FALSE 时，可以导出到多个文件，达到并行读并行写和提高导出速度的效果。\n", "MAX_FILE_SIZE [=] {int | string}：用于控制导出时单个文件的大小，仅在 SINGLE = FALSE 时生效。"], "Examples": ["ssh admin@xxx.xxx.xxx.xxx\n", "obclient -S /home/admin/oceanbase/run/sql.sock -usys@oracle001 -p******\n", "SET GLOBAL secure_file_priv = \"/home/admin/test_data\";\n", "SELECT /*+parallel(2)*/ *\nINTO OUTFILE '/home/admin/test_data/test_tbl1.csv'\n  FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '\"'\n  LINES TERMINATED BY '\\n'\nFROM test_tbl1;\n", "Query OK, 9 rows affected\n", "SELECT /*+parallel(2)*/ *\n  INTO OUTFILE '/home/admin/test_data/'\n  FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '\"'\n  LINES TERMINATED BY '\\n'\n  SINGLE = FALSE MAX_FILE_SIZE = '4MB'\nFROM test_tbl1;\n", "Query OK, 9 rows affected\n", "SELECT /*+parallel(2)*/ *\n  INTO OUTFILE '/home/admin/test_data/dd2024'\n  FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '\"'\n  LINES TERMINATED BY '\\n'\n  SINGLE = FALSE MAX_FILE_SIZE = '4MB'\nFROM test_tbl1;\n", "Query OK, 9 rows affected\n", "[xxx@xxx /home/admin/test_data]# ls\n", "data_0_0_0  data_0_1_0  dd2024_0_0_0  dd2024_0_1_0  test_tbl1.csv\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054313"], "Title": ["SET NAMES"], "Feature": ["SET NAMES 'charset_name' [COLLATE 'collation_name'];\n"], "Description": ["该语句用来设置当前会话的字符集以及字符集排序规则。", "\n\n\n参数\n描述\n\n\n\n\ncharset_name\n指定字符集。\n\n\ncollation_name\n指定字符集的排序规则。如未指定，则使用字符集默认字符集排序规则。\n\n\n", "\n说明\n可以通过 SHOW CHARSET; 查询系统支持的字符集，通过 SHOW COLLATION; 查询系统支持的字符集排序规则。\n"], "Examples": ["obclient> SET NAMES 'gbk';\nQuery OK, 0 rows affected\n\nobclient> SHOW VARIABLES LIKE 'character_set_c%';\n+--------------------------+-------+\n| VARIABLE_NAME            | VALUE |\n+--------------------------+-------+\n| character_set_client     | gbk   |\n| character_set_connection | gbk   |\n+--------------------------+-------+\n2 rows in set\n\nobclient> SHOW VARIABLES LIKE 'collation_connection';\n+----------------------+----------------+\n| VARIABLE_NAME        | VALUE          |\n+----------------------+----------------+\n| collation_connection | gbk_chinese_ci |\n+----------------------+----------------+\n1 row in set\n", "obclient> SET NAMES 'utf8mb4' COLLATE 'utf8mb4_general_ci';\nQuery OK, 0 rows affected\n\nobclient> SHOW VARIABLES LIKE 'character_set_c%';\n+--------------------------+---------+\n| VARIABLE_NAME            | VALUE   |\n+--------------------------+---------+\n| character_set_client     | utf8mb4 |\n| character_set_connection | utf8mb4 |\n+--------------------------+---------+\n2 rows in set\n\nobclient> SHOW VARIABLES LIKE 'collation_connection';\n+----------------------+--------------------+\n| VARIABLE_NAME        | VALUE              |\n+----------------------+--------------------+\n| collation_connection | utf8mb4_general_ci |\n+----------------------+--------------------+\n1 row in set\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054297"], "Title": ["SET PASSWORD"], "Feature": ["SET PASSWORD [FOR user_name] = PASSWORD(password);\n\npassword:\n  STR_VALUE\n"], "Description": ["该语句用于修改 OceanBase 数据库当前登录用户或其他用户的密码。", "有关其它修改用户密码的方式，请参见 ALTER USER。", "\n\n\n参数\n描述\n\n\n\n\nFOR\n表示修改指定用户的密码，为可选项。必须拥有 ALTER USER 的系统权限，才可以修改指定用户的密码。如果没有指定 FOR 子句，表示修改当前用户的密码。任何成功登录的用户都可以修改当前用户的密码。\n\n\nuser_name\n用户名称。\n\n\npassword\n用户的新密码。\n\n\n"], "Examples": ["obclient> SET PASSWORD FOR user1 = PASSWORD(**1***);\nQuery OK, 0 rows affected\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054314"], "Title": ["SET ROLE"], "Feature": ["SET ROLE\n{ role_name [ IDENTIFIED BY password ][, role_name [ IDENTIFIED BY password ] ]...\n| ALL [ EXCEPT role_name [, role_name ]... ]\n| NONE\n} ;\n"], "Description": ["该语句来启用或禁用为当前会话授予的角色。", "\n\n\n参数\n描述\n\n\n\n\nrole_name\n指定要为当前会话启用的角色名称。\n\n\nIDENTIFIED BY password\n指定角色的密码。如果角色有密码，则您必须指定密码才能启用该角色。\n\n\nALL\n启用为当前会话授予的所有角色。EXCEPT 子句表示列出的角色除外，为可选项。如果您已被直接授予任何具有密码的角色，则不能指定此子句，否则会引发报错。\n\n\nNONE\n禁用当前会话的所有角色。\n\n\n"], "Examples": ["obclient> SET ROLE role1 IDENTIFIED BY **1***;\nQuery OK, 0 rows affected\n", "obclient> SET ROLE ALL;\nORA-01979: missing or invalid password for role 'ROLE2'\n", "obclient> SET ROLE ALL EXCEPT role2;\nQuery OK, 0 rows affected\n", "obclient> SET ROLE NONE;\nQuery OK, 0 rows affected\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054311"], "Title": ["SET VARIABLE"], "Feature": ["SET variable_name = variable_value[,variable_name = variable_value...];\n"], "Description": ["该语句用来设置用户自定义变量（@）和系统定义的 Session 变量（@@）。", "\n\n\n参数\n描述\n\n\n\n\nvariable_name\n指定要设置的变量，可以是用户自定义的变量，也可以是系统变量。如果要设置多个变量，中间用英文逗号 , 分隔。\n\n\nvariable_value\n指定为变量设置的值。\n\n\n"], "Examples": ["obclient> SET @a = 1, @b = 2, @c = 3;\nQuery OK, 0 rows affected\n\nobclient> SET @@tx_isolation = 'read-committed';\nQuery OK, 0 rows affected\n\n\nobclient> SELECT @a,@b,@c,@@tx_isolation FROM DUAL;\n+------+------+------+----------------+\n| @A   | @B   | @C   | @@TX_ISOLATION |\n+------+------+------+----------------+\n|    1 |    2 |    3 | READ-COMMITTED |\n+------+------+------+----------------+\n1 row in set\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054299"], "Title": ["SHOW"], "Feature": ["SHOW {\n   | TABLE STATUS\n   | VARIABLES [like 'variable_name']\n   | CHARSET | CHARACTER SET  \n   | COLLATION\n   | PARAMETERS\n   | TABLEGROUPS\n   | CREATE TABLEGROUP tablegroup_name\n   | CREATE TABLE table_name\n   | CREATE VIEW view_name\n   | ERRORS\n   | GRANTS\n   | PRIVILEGES\n   | RECYCLEBIN\n   | [FULL] PROCESSLIST\n   | TRACE [FORMAT='JSON']\n};\n"], "Description": ["该语句用于展示数据库对象的信息。", "\n\n\n参数\n描述\n\n\n\n\nTABLE STATUS\n展示当前用户中所有表的详细信息。\n\n\nVARIABLES [like ‘variable_name’]\n显示变量信息。如果不指定 like 'variable_name'，则显示所有系统变量信息。variable_name 为变量名称。\n\n\nCHARSET | CHARACTER SET\n展示支持的字符集。\n\n\nCOLLATION\n展示支持的字符序。\n\n\nPARAMETERS\n展示所有系统配置项。\n\n\nTABLEGROUPS\n展示表组信息。\n\n\nCREATE TABLEGROUP tablegroup_name\n查看创建表组的语句。tablegroup_name 为表组名称。\n\n\nCREATE TABLE table_name\n查看创建表的语句。table_name 为表名。\n\n\nCREATE VIEW view_name\n查看创建视图的语句。view_name 为视图名称。\n\n\nERRORS\n查看错误信息。\n\n\nGRANTS\n查看当前用户的权限。\n\n\nPRIVILEGES\n查看各项权限的描述。\n\n\nRECYCLEBIN\n查看回收站。\n\n\n[FULL] PROCESSLIST\n查看当前租户进程列表。具体如下： \n      \nSHOW PROCESSLIST 显示简要的进程列表，具体如下： \n        \nID：进程的 ID，即当前会话的 Client Session ID，该 ID 是会话在客户端中的唯一标识。\nUSER：连接的用户名。\nHOST：客户端 IP 和端口（通过 ODP 连接则为 ODP 的 IP 和端口）。\nDB：访问的 Database 名称。\nCOMMAND：当前执行的命令类型，取值 Query、Sleep 等。\nTIME：当前命令执行时间，单位是秒。如果命令发生重试，会清零后重新计算。\nSTATE：当前会话状态，取值 SLEEP、ACTIVE 等。\nINFO：展示当前正在执行的命令，长度限制为 100 个字符，超出部分截断。\n\nSHOW FULL PROCESSLIST：显示完整的进程列表，包括每个进程的详细信息，具体如下： \n        \nID：进程的 ID，即当前会话的 Client Session ID，该 ID 是会话在客户端中的唯一标识。\nUSER：连接的用户名。\nTENANT：连接的租户。\nHOST：客户端 IP 和端口（通过 ODP 连接则为 ODP 的 IP 和端口）。\nDB：访问的 Database 名称。\nCOMMAND：当前执行的命令类型，取值 Query、Sleep 等。\nTIME：当前命令执行时间，单位是秒。如果命令发生重试，会清零后重新计算。\nSTATE：当前会话状态，取值 SLEEP、ACTIVE 等。\nINFO：展示当前正在执行的命令。\nIP：服务器 IP 地址。\nPORT：SQL 端口号。\n\n\n\n说明\n通过 SHOW PROCESSLIST 语句查询当前数据库中会话的数量和会话的 ID 的详细信息，请参见 查看租户会话。\n\n\n\nTRACE [FORMAT=‘JSON’]\n展示 SQL 语句的执行情况。可以选择以 JSON 的格式输出。\n\n\n"], "Examples": ["obclient> SHOW CREATE TABLE tbl1;\n+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| TABLE | CREATE TABLE                                                                                                                                                                          |\n+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| TBL1  | CREATE TABLE \"TBL1\" (\n  \"COL1\" NUMBER(38),\n  \"COL2\" NUMBER(38)\n) COMPRESS FOR ARCHIVE REPLICA_NUM = 2 BLOCK_SIZE = 16384 USE_BLOOM_FILTER = FALSE TABLET_SIZE = 134217728 PCTFREE = 0 |\n+-------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n1 row in set\n", "obclient> SHOW VARIABLES LIKE 'recyclebin';\n+---------------+-------+\n| VARIABLE_NAME | VALUE |\n+---------------+-------+\n| recyclebin    | ON    |\n+---------------+-------+\n1 row in set\n", "obclient> SHOW RECYCLEBIN;\n+-----------------------------------+---------------+-------+------------------------------+\n| OBJECT_NAME                       | ORIGINAL_NAME | TYPE  | CREATETIME                   |\n+-----------------------------------+---------------+-------+------------------------------+\n| RECYCLE_$_100004_1634807168766392 | TBL1          | TABLE | 21-OCT-21 05.06.08.767109 PM |\n| RECYCLE_$_100004_1634807177792816 | V1            | VIEW  | 21-OCT-21 05.06.17.791967 PM |\n+-----------------------------------+---------------+-------+------------------------------+\n2 rows in set\n", "obclient> SET ob_enable_show_trace = 1;\nQuery OK, 0 rows affected\n\nobclient> CREATE TABLE t1(c1 INT,c2 INT,c3 INT);\nQuery OK, 0 rows affected\n\nobclient> INSERT INTO t1 VALUES(1,1,1);\nQuery OK, 1 rows affected\n\nobclient> INSERT INTO t1 VALUES(2,2,2);\nQuery OK, 1 rows affected\n\nobclient> SELECT/*+PARALLEL(2)*/ COUNT(*) FROM t1;\n+----------+\n| COUNT(*) |\n+----------+\n|        2 |\n+----------+\n1 row in set\n\n\nobclient> SHOW TRACE FORMAT='JSON'\\G\n*************************** 1. row ***************************\nSHOW_TRACE_JSON: [{\"logs\":null,\"tags\":[[{\"sess_id\":3221487706},{\"action_name\":\"\"},{\"module_name\":\"\"},{\"client_info\":\"\"},{\"receive_ts\":1686736593090296},{\"log_trace_id\":\"YB42AC1E87DE-0005FDE6754F77C2-0-0\"}]],\"elapse\":14829,\"end_ts\":\"14-JUN-23 05.56.33.105170 PM\",\"parent\":\"0005fe13-f775-f6ae-7a1d-f670fd124e4b\",\"span_id\":\"0005fe13-f775-f725-9e96-fff3072b9b9a\",\"start_ts\":\"14-JUN-23 05.56.33.090341 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"com_query_process\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":14810,\"end_ts\":\"14-JUN-23 05.56.33.105157 PM\",\"parent\":\"0005fe13-f775-f725-9e96-fff3072b9b9a\",\"span_id\":\"0005fe13-f775-f72b-0b95-3f2260bf1134\",\"start_ts\":\"14-JUN-23 05.56.33.090347 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"mpquery_single_stmt\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":[[{\"sql_text\":\"SHOW TRACE FORMAT='JSON'\"}],[{\"hit_plan\":false}],[{\"sql_id\":\"D2A6E68D54F4B888F9443FD4EABB490C\"},{\"database_id\":201006},{\"plan_hash\":10171894614078661866}]],\"elapse\":3023,\"end_ts\":\"14-JUN-23 05.56.33.093385 PM\",\"parent\":\"0005fe13-f775-f72b-0b95-3f2260bf1134\",\"span_id\":\"0005fe13-f775-f73a-97f4-8cf1d45a057d\",\"start_ts\":\"14-JUN-23 05.56.33.090362 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"sql_compile\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":6,\"end_ts\":\"14-JUN-23 05.56.33.090372 PM\",\"parent\":\"0005fe13-f775-f73a-97f4-8cf1d45a057d\",\"span_id\":\"0005fe13-f775-f73e-81df-abe0749fb2dc\",\"start_ts\":\"14-JUN-23 05.56.33.090366 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"pc_get_plan\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":2953,\"end_ts\":\"14-JUN-23 05.56.33.093369 PM\",\"parent\":\"0005fe13-f775-f73a-97f4-8cf1d45a057d\",\"span_id\":\"0005fe13-f775-f770-5f63-c6244ec2d2bd\",\"start_ts\":\"14-JUN-23 05.56.33.090416 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"hard_parse\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":27,\"end_ts\":\"14-JUN-23 05.56.33.090444 PM\",\"parent\":\"0005fe13-f775-f770-5f63-c6244ec2d2bd\",\"span_id\":\"0005fe13-f775-f771-097e-2e4df274b94d\",\"start_ts\":\"14-JUN-23 05.56.33.090417 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"parse\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":1029,\"end_ts\":\"14-JUN-23 05.56.33.091497 PM\",\"parent\":\"0005fe13-f775-f770-5f63-c6244ec2d2bd\",\"span_id\":\"0005fe13-f775-f7a4-b2f9-37444f7eaa75\",\"start_ts\":\"14-JUN-23 05.56.33.090468 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"resolve\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":983,\"end_ts\":\"14-JUN-23 05.56.33.092530 PM\",\"parent\":\"0005fe13-f775-f770-5f63-c6244ec2d2bd\",\"span_id\":\"0005fe13-f775-fbdb-ad93-a44d9f9c1b6b\",\"start_ts\":\"14-JUN-23 05.56.33.091547 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"rewrite\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":498,\"end_ts\":\"14-JUN-23 05.56.33.093046 PM\",\"parent\":\"0005fe13-f775-f770-5f63-c6244ec2d2bd\",\"span_id\":\"0005fe13-f775-ffc4-6b32-0a4236bfb075\",\"start_ts\":\"14-JUN-23 05.56.33.092548 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"optimize\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":180,\"end_ts\":\"14-JUN-23 05.56.33.093242 PM\",\"parent\":\"0005fe13-f775-f770-5f63-c6244ec2d2bd\",\"span_id\":\"0005fe13-f776-01c6-3512-e03078f5b661\",\"start_ts\":\"14-JUN-23 05.56.33.093062 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"code_generate\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":11691,\"end_ts\":\"14-JUN-23 05.56.33.105088 PM\",\"parent\":\"0005fe13-f775-f72b-0b95-3f2260bf1134\",\"span_id\":\"0005fe13-f776-0315-b92a-3917bb7eb16e\",\"start_ts\":\"14-JUN-23 05.56.33.093397 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"sql_execute\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":37,\"end_ts\":\"14-JUN-23 05.56.33.093434 PM\",\"parent\":\"0005fe13-f776-0315-b92a-3917bb7eb16e\",\"span_id\":\"0005fe13-f776-0315-80dd-31db8fd59a4c\",\"start_ts\":\"14-JUN-23 05.56.33.093397 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"open\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":11559,\"end_ts\":\"14-JUN-23 05.56.33.105002 PM\",\"parent\":\"0005fe13-f776-0315-b92a-3917bb7eb16e\",\"span_id\":\"0005fe13-f776-0343-0d09-20e62196e201\",\"start_ts\":\"14-JUN-23 05.56.33.093443 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"response_result\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":60,\"end_ts\":\"14-JUN-23 05.56.33.093512 PM\",\"parent\":\"0005fe13-f776-0343-0d09-20e62196e201\",\"span_id\":\"0005fe13-f776-034c-ca80-255b49724557\",\"start_ts\":\"14-JUN-23 05.56.33.093452 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"do_local_das_task\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":[[{\"sql_text\":\"START TRANSACTION WITH CONSISTENT SNAPSHOT\"}],[{\"sql_id\":\"7F33FD22651F99E8AB2BAC5428623BCD\"},{\"database_id\":201001}],[{\"hit_plan\":false}]],\"elapse\":111,\"end_ts\":\"14-JUN-23 05.56.33.094108 PM\",\"parent\":\"0005fe13-f776-0343-0d09-20e62196e201\",\"span_id\":\"0005fe13-f776-056d-f2aa-701742ef8bfe\",\"start_ts\":\"14-JUN-23 05.56.33.093997 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"sql_compile\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":7,\"end_ts\":\"14-JUN-23 05.56.33.094005 PM\",\"parent\":\"0005fe13-f776-056d-f2aa-701742ef8bfe\",\"span_id\":\"0005fe13-f776-056e-88fb-dba1544109d5\",\"start_ts\":\"14-JUN-23 05.56.33.093998 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"pc_get_plan\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":65,\"end_ts\":\"14-JUN-23 05.56.33.094097 PM\",\"parent\":\"0005fe13-f776-056d-f2aa-701742ef8bfe\",\"span_id\":\"0005fe13-f776-0590-0540-58a0bf5fe462\",\"start_ts\":\"14-JUN-23 05.56.33.094032 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"hard_parse\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":23,\"end_ts\":\"14-JUN-23 05.56.33.094055 PM\",\"parent\":\"0005fe13-f776-0590-0540-58a0bf5fe462\",\"span_id\":\"0005fe13-f776-0590-099e-6e48209edfab\",\"start_ts\":\"14-JUN-23 05.56.33.094032 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"parse\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":10,\"end_ts\":\"14-JUN-23 05.56.33.094085 PM\",\"parent\":\"0005fe13-f776-0590-0540-58a0bf5fe462\",\"span_id\":\"0005fe13-f776-05bb-b66a-bf3b9895c04d\",\"start_ts\":\"14-JUN-23 05.56.33.094075 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"resolve\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":34,\"end_ts\":\"14-JUN-23 05.56.33.094180 PM\",\"parent\":\"0005fe13-f776-0343-0d09-20e62196e201\",\"span_id\":\"0005fe13-f776-0602-16e1-b249aecff1d9\",\"start_ts\":\"14-JUN-23 05.56.33.094146 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"open\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":25,\"end_ts\":\"14-JUN-23 05.56.33.094171 PM\",\"parent\":\"0005fe13-f776-0602-16e1-b249aecff1d9\",\"span_id\":\"0005fe13-f776-0602-a4d5-c18a35861355\",\"start_ts\":\"14-JUN-23 05.56.33.094146 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"cmd_open\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":[[{\"trans_id\":0}]],\"elapse\":1,\"end_ts\":\"14-JUN-23 05.56.33.094148 PM\",\"parent\":\"0005fe13-f776-0602-a4d5-c18a35861355\",\"span_id\":\"0005fe13-f776-0603-9b42-705d94f589e5\",\"start_ts\":\"14-JUN-23 05.56.33.094147 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"end_transaction\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":1,\"end_ts\":\"14-JUN-23 05.56.33.094202 PM\",\"parent\":\"0005fe13-f776-0343-0d09-20e62196e201\",\"span_id\":\"0005fe13-f776-0639-1902-8ebfa41d0abd\",\"start_ts\":\"14-JUN-23 05.56.33.094201 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"close\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":1150,\"end_ts\":\"14-JUN-23 05.56.33.095400 PM\",\"parent\":\"0005fe13-f776-0343-0d09-20e62196e201\",\"span_id\":\"0005fe13-f776-066a-7b64-42f9c85d5f57\",\"start_ts\":\"14-JUN-23 05.56.33.094250 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"inner_execute_read\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":[[{\"sql_text\":\"SELECT svr_ip, svr_port, tenant_id, trace_id, request_id, span_id, parent_span_id, span_name, ref_type, start_ts, end_ts, tags, logs FROM __all_virtual_trace_span_info WHERE tenant_id = 1004 AND trace_id = '0005fe13-f62f-e8cd-fad7-64c5c4fa3de4'\"}],[{\"sql_id\":\"9B307250A34F95FE531FDC05F9F87300\"},{\"database_id\":201001},{\"plan_hash\":13345609059733987708},{\"hit_plan\":true}]],\"elapse\":98,\"end_ts\":\"14-JUN-23 05.56.33.094360 PM\",\"parent\":\"0005fe13-f776-066a-7b64-42f9c85d5f57\",\"span_id\":\"0005fe13-f776-0676-d9f4-b4878c00d329\",\"start_ts\":\"14-JUN-23 05.56.33.094262 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"sql_compile\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":76,\"end_ts\":\"14-JUN-23 05.56.33.094339 PM\",\"parent\":\"0005fe13-f776-0676-d9f4-b4878c00d329\",\"span_id\":\"0005fe13-f776-0677-e2f1-d2ec6292745b\",\"start_ts\":\"14-JUN-23 05.56.33.094263 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"pc_get_plan\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":5,\"end_ts\":\"14-JUN-23 05.56.33.094375 PM\",\"parent\":\"0005fe13-f776-066a-7b64-42f9c85d5f57\",\"span_id\":\"0005fe13-f776-06e2-3f34-7d006345e36c\",\"start_ts\":\"14-JUN-23 05.56.33.094370 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"open\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":41,\"end_ts\":\"14-JUN-23 05.56.33.094439 PM\",\"parent\":\"0005fe13-f776-066a-7b64-42f9c85d5f57\",\"span_id\":\"0005fe13-f776-06fe-51d8-da0d02773219\",\"start_ts\":\"14-JUN-23 05.56.33.094398 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"do_local_das_task\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":28,\"end_ts\":\"14-JUN-23 05.56.33.096273 PM\",\"parent\":\"0005fe13-f776-0343-0d09-20e62196e201\",\"span_id\":\"0005fe13-f776-0e35-874a-f30554d6aaa5\",\"start_ts\":\"14-JUN-23 05.56.33.096245 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"close\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":12,\"end_ts\":\"14-JUN-23 05.56.33.096259 PM\",\"parent\":\"0005fe13-f776-0e35-874a-f30554d6aaa5\",\"span_id\":\"0005fe13-f776-0e37-77fe-804fdfe8d3e5\",\"start_ts\":\"14-JUN-23 05.56.33.096247 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"close_das_task\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":129,\"end_ts\":\"14-JUN-23 05.56.33.096417 PM\",\"parent\":\"0005fe13-f776-0343-0d09-20e62196e201\",\"span_id\":\"0005fe13-f776-0e60-c6c4-1bc243b72c60\",\"start_ts\":\"14-JUN-23 05.56.33.096288 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"inner_commit\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":[[{\"sql_id\":\"1D0BA376E273B9D622641124D8C59264\"},{\"database_id\":201001}],[{\"sql_text\":\"COMMIT\"}]],\"elapse\":47,\"end_ts\":\"14-JUN-23 05.56.33.096343 PM\",\"parent\":\"0005fe13-f776-0e60-c6c4-1bc243b72c60\",\"span_id\":\"0005fe13-f776-0e68-7082-78d6d27ff6b3\",\"start_ts\":\"14-JUN-23 05.56.33.096296 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"sql_compile\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":40,\"end_ts\":\"14-JUN-23 05.56.33.096337 PM\",\"parent\":\"0005fe13-f776-0e68-7082-78d6d27ff6b3\",\"span_id\":\"0005fe13-f776-0e69-86ed-974f57a2f1bf\",\"start_ts\":\"14-JUN-23 05.56.33.096297 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"hard_parse\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":8,\"end_ts\":\"14-JUN-23 05.56.33.096306 PM\",\"parent\":\"0005fe13-f776-0e69-86ed-974f57a2f1bf\",\"span_id\":\"0005fe13-f776-0e6a-cf72-65f53acbe223\",\"start_ts\":\"14-JUN-23 05.56.33.096298 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"parse\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":5,\"end_ts\":\"14-JUN-23 05.56.33.096326 PM\",\"parent\":\"0005fe13-f776-0e69-86ed-974f57a2f1bf\",\"span_id\":\"0005fe13-f776-0e81-49fb-8ed91cbaf8d8\",\"start_ts\":\"14-JUN-23 05.56.33.096321 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"resolve\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":32,\"end_ts\":\"14-JUN-23 05.56.33.096385 PM\",\"parent\":\"0005fe13-f776-0e60-c6c4-1bc243b72c60\",\"span_id\":\"0005fe13-f776-0ea1-af05-045e858dee98\",\"start_ts\":\"14-JUN-23 05.56.33.096353 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"open\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":27,\"end_ts\":\"14-JUN-23 05.56.33.096380 PM\",\"parent\":\"0005fe13-f776-0ea1-af05-045e858dee98\",\"span_id\":\"0005fe13-f776-0ea1-6e52-5c0a2cda5830\",\"start_ts\":\"14-JUN-23 05.56.33.096353 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"cmd_open\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":[[{\"trans_id\":643503}]],\"elapse\":16,\"end_ts\":\"14-JUN-23 05.56.33.096370 PM\",\"parent\":\"0005fe13-f776-0ea1-6e52-5c0a2cda5830\",\"span_id\":\"0005fe13-f776-0ea2-e9aa-723fc5771a26\",\"start_ts\":\"14-JUN-23 05.56.33.096354 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"end_transaction\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":0,\"end_ts\":\"14-JUN-23 05.56.33.096398 PM\",\"parent\":\"0005fe13-f776-0e60-c6c4-1bc243b72c60\",\"span_id\":\"0005fe13-f776-0ece-38ab-2587028fd24c\",\"start_ts\":\"14-JUN-23 05.56.33.096398 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"close\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":58,\"end_ts\":\"14-JUN-23 05.56.33.105077 PM\",\"parent\":\"0005fe13-f776-0315-b92a-3917bb7eb16e\",\"span_id\":\"0005fe13-f776-307b-7ddf-d182c73d91c2\",\"start_ts\":\"14-JUN-23 05.56.33.105019 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"close\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882},{\"logs\":null,\"tags\":null,\"elapse\":15,\"end_ts\":\"14-JUN-23 05.56.33.105036 PM\",\"parent\":\"0005fe13-f776-307b-7ddf-d182c73d91c2\",\"span_id\":\"0005fe13-f776-307d-9ca8-e6153b7afdbe\",\"start_ts\":\"14-JUN-23 05.56.33.105021 PM\",\"trace_id\":\"0005fe13-f62f-e8cd-fad7-64c5c4fa3de4\",\"span_name\":\"close_das_task\",\"tenant_id\":1004,\"rec_svr_ip\":\"172.xx.xxx.xxx\",\"rec_svr_port\":2882}]\n1 row in set\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054305"], "Title": ["SHRINK"], "Feature": ["ALTER TABLE table_name SHRINK SPACE;\n"], "Description": ["该语句会将表的数据重写。", "\n\n\n参数\n描述\n\n\n\n\ntable_name\n表名。\n\n\n"], "Examples": ["obclient> ALTER TABLE tbl1 SHRINK SPACE;\nQuery OK, 0 rows affected\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054300"], "Title": ["TRANSACTION"], "Feature": ["transaction_stmt:\n      START TRANSACTION [READ ONLY | READ WRITE];\n    | BEGIN [WORK];\n    | COMMIT [WORK];\n    | ROLLBACK [WORK];\n    | SET TRANSACTION {READ ONLY | READ WRITE};\n"], "Description": ["该语句用于开启事务。", "数据库事务（Database Transaction）是指作为单个逻辑工作单元执行的一系列操作。事务处理可以用来维护数据库的完整性，保证成批的 SQL 操作全部执行或全部不执行。", "显示事务是用户自定义或用户指定的事务。通过 BEGIN 和 BEGIN WORK（BEGIN 和 BEGIN WORK 被作为 START TRANSACTION的别名）语句显示开始，以 COMMIT 或 ROLLBACK 语句显示结束。", "\n说明\n\n在事务 COMMIT 前，可以执行一条 SELECT 语句查看本事务中的操作是否已经生效。\n在事务 COMMIT 前，当前事务会话之外的会话都是看不到本事务中的操作的。即在事务 COMMIT 前，只有本事务 Session 的访问能读到最新的结果，本事务 Session 之外的访问是看不到最新结果的。\n如果您想回滚该事务，直接用 ROOLBACK 代替 COMMIT。\n\n"], "Examples": ["obclient> CREATE TABLE tbl1 (id INT,name VARCHAR(10),num INT);\nQuery OK, 0 rows affected\n\nobclient> INSERT INTO tbl1 VALUES (1, 'a',100),(2, 'b',200),(3, 'a',50);\nQuery OK, 3 rows affected\nRecords: 3  Duplicates: 0  Warnings: 0\n\nobclient> SELECT * FROM tbl1;\n+------+------+------+\n| ID   | NAME | NUM  |\n+------+------+------+\n|    1 | a    |  100 |\n|    2 | b    |  200 |\n|    3 | a    |   50 |\n+------+------+------+\n3 rows in set\n", "obclient> START TRANSACTION;\nQuery OK, 0 rows affected\n\nobclient> UPDATE tbl1 SET name = 'c' WHERE id = 3;\nQuery OK, 1 row affected\nRows matched: 1  Changed: 1  Warnings: 0\n\nobclient> INSERT INTO tbl1 VALUES (4, 'a', 30);\nQuery OK, 1 row affected\n\nobclient> COMMIT;\nQuery OK, 0 rows affected\n\nobclient> SELECT * FROM tbl1;\n+------+------+------+\n| ID   | NAME | NUM  |\n+------+------+------+\n|    1 | a    |  100 |\n|    2 | b    |  200 |\n|    3 | c    |   50 |\n|    4 | a    |   30 |\n+------+------+------+\n4 rows in set\n", "obclient> BEGIN;\nQuery OK, 0 rows affected\n\nobclient> UPDATE tbl1 SET name = 'c' WHERE id = 3;\nQuery OK, 1 row affected\nRows matched: 1  Changed: 1  Warnings: 0\n\nobclient> INSERT INTO tbl1 VALUES (4, 'd', 300);\nQuery OK, 1 row affected\n\nobclient> SELECT * FROM tbl1;\n+------+------+------+\n| ID   | NAME | NUM  |\n+------+------+------+\n|    1 | a    |  100 |\n|    2 | b    |  200 |\n|    3 | c    |   50 |\n|    4 | d    |  300 |\n+------+------+------+\n4 rows in set\n\nobclient> ROLLBACK ;\nQuery OK, 0 rows affected\n\nobclient> SELECT * FROM tbl1;\n+------+------+------+\n| ID   | NAME | NUM  |\n+------+------+------+\n|    1 | a    |  100 |\n|    2 | b    |  200 |\n|    3 | a    |   50 |\n+------+------+------+\n3 rows in set\n"], "Category": ["DCL"]}
{"HTML": ["https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054309"], "Title": ["ALTER SYSTEM KILL SESSION"], "Feature": ["ALTER SYSTEM KILL SESSION 'session_id, serial#';\n\nALTER SYSTEM KILL SESSION 'session_id' [IMMEDIATE];\n"], "Description": ["该语句用于终止一个会话。该语句需要用户具备 ALTER SYSTEM 权限才能执行。", "\n\n\n参数\n描述\n\n\n\n\nsession_id\n当前会话的 Client Session ID，该 ID 是会话在客户端中的唯一标识。 \n      \n说明\n可以通过 SQL 语句 SHOW PROCESSLIST; 查看 session_id。\n\n\n\nserial#\n当前版本未实现语义，仅作语法兼容。\n\n\nIMMEDIATE\n立即切回指定 Session 实现 KILL，为可选项。当前版本未实现语义，仅作语法兼容。\n\n\n"], "Examples": ["obclient [SYS]> CREATE USER kill_user IDENTIFIED BY killuser123;\nQuery OK, 0 rows affected\n\nobclient [SYS]> GRANT CREATE SESSION TO kill_user;\nQuery OK, 0 rows affected\n\nobclient [SYS]> GRANT ALTER SYSTEM TO kill_user;\nQuery OK, 0 rows affected\n\nobclient [KILL_USER]> SHOW PROCESSLIST;\n+------------+-----------+----------------------+-----------+---------+------+--------+------------------+\n| ID         | USER      | HOST                 | DB        | COMMAND | TIME | STATE  | INFO             |\n+------------+-----------+----------------------+-----------+---------+------+--------+------------------+\n| 3221487726 | KILL_USER | 100.xx.xxx.xxx:34803 | KILL_USER | Query   |    0 | ACTIVE | SHOW PROCESSLIST |\n| 3221487722 | SYS       | 100.xx.xxx.xxx:40025 | SYS       | Sleep   |   93 | SLEEP  | NULL             |\n+------------+-----------+----------------------+-----------+---------+------+--------+------------------+\n1 row in set\n\nobclient [KILL_USER]> ALTER SYSTEM KILL SESSION '3221487726';\nQuery OK, 0 rows affected\n"], "Category": ["DCL"]}
