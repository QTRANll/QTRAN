{
    "HTML": [
        "https://www.oceanbase.com/docs/enterprise-oceanbase-database-cn-1000000001054473"
    ],
    "Title": [
        "SELECT 语句"
    ],
    "Feature": [
        "SELECT\n        [/*+ hint statement */]\n        [ALL | DISTINCT | UNIQUE | SQL_CALC_FOUND_ROWS]\n        [STRAIGHT_JOIN]\n        select_expr_list\n        [FROM from_list [WHERE condition]]\n        [GROUP BY group_expression_list [WITH ROLLUP] [HAVING condition]]\n        [ORDER BY order_expression_list]\n        [limit_clause]\n        [FOR UPDATE [opt_for_update_wait]]\n        [LOCK IN SHARE MODE];\nselect_expr:\n table_name.*\n  | table_alias_name.*\n  | expr [[AS] column_alias_name]\n\nfrom_list:\n      DUAL\n    | table_reference [, table_reference ...]\n\ntable_reference:\n      simple_table\n    | joined_table\n    | table_name@dblink_name\n\nsimple_table:\n    table_factor [partition_option]\n        [sample_clause [opt_seed]]\n        [[AS] table_alias_name][index_hint]\n    | (select_stmt [sample_clause [opt_seed])\n        [AS] table_alias_name [index_hint]\n    | (table_reference_list) [index_hint]\n\njoined_table:\n      table_reference [NATURAL][INNER] JOIN simple_table [join_condition]\n    | table_reference outer_join_type JOIN simple_table join_condition\n\npartition_option:\n    PARTITION (partition_name_list)\n\nsample_clause:\n    SAMPLE [BLOCK] [ ALL | BASE | INCR] (sample_percent)\n\nopt_seed:\n    SEED(integer)\n\nindex_hint:\n    {USE | FORCE | IGNORE} {KEY | INDEX}\n       [FOR {JOIN | ORDER BY | GROUP BY}] (index_list)\n\nindex_list:\n    index_name [, index_name ...]\n\npartition_name_list:\n    partition_name [, partition_name ...]\n\nouter_join_type:\n    [NATURAL]{LEFT | RIGHT | FULL} [OUTER]\n\njoin_condition:\n    ON expression\n\ncondition:\n    expression\n\ngroup_expression_list:\n    group_expression [, group_expression ...]\n\ngroup_expression:\n    expression [ASC | DESC]\n\norder_expression_list:\n    order_expression [, order_expression ...]\n\norder_expression:\n    expression [ASC | DESC]\n\nlimit_clause:\n  LIMIT {[offset,] row_count |row_count OFFSET offset}\n\nopt_for_update_wait:\n    WAIT { DECIMAL | INTNUM }\n  | NOWAIT | NO_WAIT\n"
    ],
    "Description": [
        "该语句用于查询表中的内容。",
        "\n\n\n参数\n描述\n\n\n\n\nALL | DISTINCT | UNIQUE | SQL_CALC_FOUND_ROWS\n在数据库表中，可能会包含重复值。 \n      \nDISTINCT | UNIQUE：在查询结果中相同的行只显示一行。\nALL：则列出所有的行，缺省为 ALL。\nSQL_CALC_FOUND_ROWS：在带有 LIMIT 子句的查询中，记录全部返回的行数，并可以在接下来执行的 FOUND_ROWS() 函数获取全部行数。\n\n\n\nSTRAIGHT_JOIN\n可选项，强制优化器按照 FROM 子句中所列出的顺序连接表。调优命令，不影响执行结果。 \n      \n注意\nOceanBase 数据库并不完全兼容 MySQL 中的 STRAIGHT_JOIN 语法。当 STRAIGHT_JOIN 能够明确指定表连接的顺序时，OceanBase 数据库会按照这个命令执行。如果 STRAIGHT_JOIN 无法确定唯一的连接顺序，OceanBase 数据库将会忽略这个命令。\n\n\n\nselect_expr\n列出要查询的表达式或列名，以逗号（,）分隔。也可以用星号（*）表示所有列。\n\n\nAS othername\n为输出字段重新命名。\n\n\nFROM table_references\n指明了从哪个表或哪些表中读取数据（支持多表查询）。\n\n\nWHERE where_conditions\n可选项，WHERE 字句用来设置一个筛选条件，查询结果中仅包含满足条件的数据。where_conditions 为表达式。\n\n\nGROUP BY group_by_list\n用于进行分类汇总。\n\n\nWITH ROLLUP\n将各分组进行汇总以表示更高级的聚合（也称为超聚合），并产生额外的行。\n\n\nHAVING search_confitions\nHAVING 字句与 WHERE 字句类似，但是 HAVING 字句可以使用聚合函数（如 SUM，AVG 等）。\n\n\nSAMPLE [BLOCK] [ ALL | BASE | INCR] (sample_percent)\n只扫描一部分记录。 \n      \nBLOCK 表示扫描随机数据块进行，默认为扫描随机行。\nALL 表示扫描所有数据，缺省为 ALL。\nBASE 表示扫描基线数据。\nINCR 表示扫描增量数据。\nsample_percent 表示采样比例，单位为 %，可以使用 INTEGER 或 DECIMAL 类型。\n\n\n\nSEED integer\n采样的种子值，取值范围为 [0,4294967295]，相同的采样种子值总会返回相同的结果。\n\n\n{USE | FORCE | IGNORE} {KEY | INDEX} [FOR {JOIN | ORDER BY | GROUP BY}] (index_list)\n进行查询是否使用指定的索引。 \n      \nUSE：指示某项操作使用索引。\nFORCE：指示某些操作强制使用索引。\nIGNORE：是指某项操作不使用索引。\nFOR JOIN：指定索引进行连接。\nFOR ORDER BY：指定索引进行排序。\nFOR GROUP BY：指定索引进行分组。\n\n\n\nSQL_CALC_FOUND_ROWS\n用来按升序（ASC）或者降序（DESC）显示查询结果。缺省为 ASC。\n\n\n[LIMIT {[offset,] row_count |row_count OFFSET offset}]\n强制 SELECT 语句返回指定的记录数。 LIMIT 接受一个或两个数字参数。参数必须是一个整数常量。 \n      \n如果给定两个参数，第一个参数指定第一个返回记录行的偏移量，第二个参数指定返回记录行的最大数目。 初始记录行的偏移量是 0。\n如果只给定一个参数，它表示返回记录行的最大数目，偏移量为 0。\n\n\n\nFOR UPDATE\n对查询结果所有行上排他锁，以阻止其他事务的并发修改，或阻止在某些事务隔离级别时的并发读取。 \n      \nWAIT：表示等待其他事务释放资源的时间，如果超过该时间，则返回无法获得资源，单位为秒。\nNOWAIT | NO_WAIT：表示不等待其他事务释放资源，直接返回无法获得资源。\n\n\n\nPARTITION(partition_list)\n指定查询表的分区信息。例如 partition(p0,p1...)。\n\n\ndblink_name\n使用 dblink 查询远端数据库表的数据。 \n      \n说明\n该内容仅适用于 OceanBase 数据库企业版。OceanBase 数据库社区版暂不支持 dblink 功能。\n\n\n\nLOCK IN SHARE MODE\n锁定查询结果。\n\n\n"
    ],
    "Examples": [
        "obclient> SELECT name FROM a;\n+------+\n| name |\n+------+\n| a    |\n| b    |\n| a    |\n+------+\n",
        "obclient> SELECT DISTINCT name FROM a;\n+------+\n| name |\n+------+\n| a    |\n| b    |\n+------+\n",
        "obclient> SELECT id, name, num/2 AS avg FROM a;\n+------+------+----------+\n| id   | name | avg      |\n+------+------+----------+\n|    1 | a    |  50.0000 |\n|    2 | b    | 100.0000 |\n|    3 | a    |  25.0000 |\n+------+------+----------+\n",
        "obclient> SELECT id, name, num FROM a WHERE name = 'a';\n+------+------+------+\n| id   | name | num  |\n+------+------+------+\n|    1 | a    |  100 |\n|    3 | a    |   50 |\n+------+------+------+\n",
        "obclient> SELECT id, name, SUM(num) FROM a GROUP BY name;\n+------+------+----------+\n| id   | name | SUM(num) |\n+------+------+----------+\n|    1 | a    |      150 |\n|    2 | b    |      200 |\n+------+------+----------+\n",
        "obclient> SELECT id, name, SUM(num) as sum FROM a GROUP BY name HAVING SUM(num) < 160;\n+------+------+------+\n| id   | name | sum  |\n+------+------+------+\n|    1 | a    |  150 |\n+------+------+------+\n",
        "obclient> SELECT * FROM a ORDER BY num ASC;\n+------+------+------+\n| id   | name | num  |\n+------+------+------+\n|    3 | a    |   50 |\n|    1 | a    |  100 |\n|    2 | b    |  200 |\n+------+------+------+\n",
        "obclient> SELECT * FROM a ORDER BY num DESC;\n+------+------+------+\n| id   | name | num  |\n+------+------+------+\n|    2 | b    |  200 |\n|    1 | a    |  100 |\n|    3 | a    |   50 |\n+------+------+------+\n",
        "obclient> SELECT * FROM a LIMIT 1,2;\n+------+------+------+\n| id   | name | num  |\n+------+------+------+\n|    2 | b    |  200 |\n|    3 | a    |   50 |\n+------+------+------+\n",
        "obclient> SELECT * FROM a LIMIT 1 FOR UPDATE;\n",
        "obclient> SELECT * FROM a ORDER BY id LIMIT 1 FOR UPDATE;\n",
        "obclient> SELECT * FROM a LOCK IN SHARE MODE;\n+------+------+------+\n| id   | name | num  |\n+------+------+------+\n|    1 | a    |  100 |\n|    2 | b    |  200 |\n|    3 | a    |  50 |\n+------+------+------+\n3 row in set\n",
        "obclient> SELECT * FROM number_t@ob_dblink;\n+--------+-------------+---------+---------------------+--------------------------------+\n| c_int  | c_bigint    | c_float |    c_double         |   c_decimal                    |\n+--------+-------------+---------+---------------------+--------------------------------+\n| 214748 | 92233720368 | 3.40282 | 1.7976931348623157  | 123456789123456789.1234567890  |\n+--------+-------------+---------+---------------------+--------------------------------+\n1 row in set\n",
        "obclient> SELECT a.c_decimal, b.c_double FROM number_t a, number_t@ob_dblink b where a.c_int = b.c_int;\n+--------------------------------+---------------------+\n|   c_decimal                    |    c_double         |\n+---------------------+--------------------------------+\n| 123456789123456789.1234567890  |  1.7976931348623157 |\n+---------------------+--------------------------------+\n1 row in set\n",
        "obclient> SELECT * FROM mysql.datetime_t@ob_dblink;\n+-------------+------------+---------+----------------------+----------------------+\n| c_date      | c_time     | c_year  | c_datetime           |  c_timestamp         |\n+-------------+------------+---------+-----------------------+---------------------+\n|  2023-04-13 | 12:12:12   |  2078   | 2100-11-01 12:12:13  | 2100-12-01 21:14:15  |\n+-------------+------------+---------+----------------------+----------------------+\n1 row in set\n"
    ],
    "Category": [
        "No Category"
    ]
}