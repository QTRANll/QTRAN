{
    "HTML": [
        "https://docs.pingcap.com//zh/tidb/stable/sql-statement-show-analyze-status"
    ],
    "Title": [
        "SHOW ANALYZE STATUS"
    ],
    "Feature": [
        "ShowAnalyzeStatusStmt ::= 'SHOW' 'ANALYZE' 'STATUS' ShowLikeOrWhereOpt\n\nShowLikeOrWhereOpt ::= 'LIKE' SimpleExpr | 'WHERE' Expression\n"
    ],
    "Description": [
        "SHOW ANALYZE STATUS \u8bed\u53e5\u63d0\u4f9b TiDB \u6b63\u5728\u6267\u884c\u7684\u7edf\u8ba1\u4fe1\u606f\u6536\u96c6\u4efb\u52a1\u4ee5\u53ca\u6709\u9650\u6761\u5386\u53f2\u4efb\u52a1\u8bb0\u5f55\u3002",
        "\u4ece TiDB v6.1.0 \u8d77\uff0c\u6267\u884c SHOW ANALYZE STATUS \u8bed\u53e5\u5c06\u663e\u793a\u96c6\u7fa4\u7ea7\u522b\u7684\u4efb\u52a1\uff0c\u4e14 TiDB \u91cd\u542f\u540e\u4ecd\u80fd\u770b\u5230\u91cd\u542f\u4e4b\u524d\u7684\u4efb\u52a1\u8bb0\u5f55\u3002\u5728 TiDB v6.1.0 \u4e4b\u524d\uff0c\u6267\u884c SHOW ANALYZE STATUS \u8bed\u53e5\u4ec5\u663e\u793a\u5b9e\u4f8b\u7ea7\u522b\u7684\u4efb\u52a1\uff0c\u4e14 TiDB \u91cd\u542f\u540e\u4efb\u52a1\u8bb0\u5f55\u4f1a\u88ab\u6e05\u7a7a\u3002",
        "\u4ece TiDB v6.1.0 \u8d77\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u7cfb\u7edf\u8868 mysql.analyze_jobs \u67e5\u770b\u8fc7\u53bb 7 \u5929\u5185\u7684\u5386\u53f2\u8bb0\u5f55\u3002",
        "\u4ece TiDB v7.3.0 \u8d77\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u7cfb\u7edf\u8868 mysql.analyze_jobs \u6216\u8005 SHOW ANALYZE STATUS \u67e5\u770b\u5f53\u524d ANALYZE \u4efb\u52a1\u7684\u8fdb\u5ea6\u3002",
        "\u76ee\u524d\uff0cSHOW ANALYZE STATUS \u8bed\u53e5\u8fd4\u56de\u4ee5\u4e0b\u5217\uff1a",
        "\u5217\u540d\u8bf4\u660eTable_schema\u6570\u636e\u5e93\u540dTable_name\u8868\u540dPartition_name\u5206\u533a\u540dJob_info\u4efb\u52a1\u5177\u4f53\u4fe1\u606f\u3002\u5f53\u6536\u96c6\u7d22\u5f15\u7684\u7edf\u8ba1\u4fe1\u606f\u65f6\uff0c\u8be5\u4fe1\u606f\u4f1a\u5305\u542b\u7d22\u5f15\u540d\u3002\u5f53 tidb_analyze_version = 2 \u65f6\uff0c\u8be5\u4fe1\u606f\u4f1a\u5305\u542b\u91c7\u6837\u7387\u7b49\u914d\u7f6e\u9879\u3002Processed_rows\u5df2\u7ecf ANALYZE \u7684\u884c\u6570Start_time\u4efb\u52a1\u5f00\u59cb\u6267\u884c\u7684\u65f6\u95f4End_time\u4efb\u52a1\u7ed3\u675f\u6267\u884c\u7684\u65f6\u95f4State\u4efb\u52a1\u72b6\u6001\uff0c\u5305\u62ec pending\uff08\u7b49\u5f85\uff09\u3001running\uff08\u6b63\u5728\u6267\u884c\uff09\u3001finished\uff08\u6267\u884c\u6210\u529f\uff09\u548c failed\uff08\u6267\u884c\u5931\u8d25\uff09Fail_reason\u4efb\u52a1\u5931\u8d25\u7684\u539f\u56e0\u3002\u5982\u679c\u6267\u884c\u6210\u529f\u5219\u4e3a NULL\u3002Instance\u6267\u884c\u4efb\u52a1\u7684 TiDB \u5b9e\u4f8bProcess_id\u6267\u884c\u4efb\u52a1\u7684 process ID"
    ],
    "Examples": [
        "mysql> create table t(x int, index idx(x)) partition by hash(x) partitions 2;\nQuery OK, 0 rows affected (0.69 sec)\n\nmysql> set @@tidb_analyze_version = 1;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> analyze table t;\nQuery OK, 0 rows affected (0.20 sec)\n\nmysql> show analyze status;\n+--------------+------------+----------------+-------------------+----------------+---------------------+---------------------+----------+-------------+----------------+------------+------------------+----------+---------------------+\n| Table_schema | Table_name | Partition_name | Job_info          | Processed_rows | Start_time          | End_time            | State    | Fail_reason | Instance       | Process_ID | Remaining_seconds| Progress | Estimated_total_rows|\n+--------------+------------+----------------+-------------------+----------------+---------------------+---------------------+----------+-------------+----------------+------------+------------------+----------+---------------------+\n| test         | t          | p1             | analyze index idx |              0 | 2022-05-27 11:29:46 | 2022-05-27 11:29:46 | finished | NULL        | 127.0.0.1:4000 | NULL       | NULL             | NULL     | NULL                |\n| test         | t          | p0             | analyze index idx |              0 | 2022-05-27 11:29:46 | 2022-05-27 11:29:46 | finished | NULL        | 127.0.0.1:4000 | NULL       | NULL             | NULL     | NULL                |\n| test         | t          | p1             | analyze columns   |              0 | 2022-05-27 11:29:46 | 2022-05-27 11:29:46 | finished | NULL        | 127.0.0.1:4000 | NULL       | NULL             | NULL     | NULL                |\n| test         | t          | p0             | analyze columns   |              0 | 2022-05-27 11:29:46 | 2022-05-27 11:29:46 | finished | NULL        | 127.0.0.1:4000 | NULL       | NULL             | NULL     | NULL                |\n| test         | t1         | p0             | analyze columns   |       28523259 | 2022-05-27 11:29:46 | 2022-05-27 11:29:46 | running  | NULL        | 127.0.0.1:4000 | 690208308  | 0s               | 0.9843   | 28978290            |\n+--------------+------------+----------------+-------------------+----------------+---------------------+---------------------+----------+-------------+----------------+------------+------------------+----------+---------------------+\n4 rows in set (0.01 sec)\n\nmysql> set @@tidb_analyze_version = 2;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> analyze table t;\nQuery OK, 0 rows affected, 2 warnings (0.03 sec)\n\nmysql> show analyze status;\n+--------------+------------+----------------+--------------------------------------------------------------------+----------------+---------------------+---------------------+----------+-------------+----------------+------------+--------------------+----------+----------------------+\n| Table_schema | Table_name | Partition_name | Job_info                                                           | Processed_rows | Start_time          | End_time            | State    | Fail_reason | Instance       | Process_ID | Remaining_seconds  | Progress | Estimated_total_rows |\n+--------------+------------+----------------+--------------------------------------------------------------------+----------------+---------------------+---------------------+----------+-------------+----------------+------------+--------------------+----------+----------------------+\n| test         | t          | p1             | analyze table all columns with 256 buckets, 500 topn, 1 samplerate |              0 | 2022-05-27 11:30:12 | 2022-05-27 11:30:12 | finished | NULL        | 127.0.0.1:4000 | NULL       | NULL               | NULL     | NULL                 |\n| test         | t          | p0             | analyze table all columns with 256 buckets, 500 topn, 1 samplerate |              0 | 2022-05-27 11:30:12 | 2022-05-27 11:30:12 | finished | NULL        | 127.0.0.1:4000 | NULL       | NULL               | NULL     | NULL                 |\n| test         | t          | p1             | analyze index idx                                                  |              0 | 2022-05-27 11:29:46 | 2022-05-27 11:29:46 | finished | NULL        | 127.0.0.1:4000 | NULL       | NULL               | NULL     | NULL                 |\n| test         | t          | p0             | analyze index idx                                                  |              0 | 2022-05-27 11:29:46 | 2022-05-27 11:29:46 | finished | NULL        | 127.0.0.1:4000 | NULL       | NULL               | NULL     | NULL                 |\n| test         | t          | p1             | analyze columns                                                    |              0 | 2022-05-27 11:29:46 | 2022-05-27 11:29:46 | finished | NULL        | 127.0.0.1:4000 | NULL       | NULL               | NULL     | NULL                 |\n| test         | t          | p0             | analyze columns                                                    |              0 | 2022-05-27 11:29:46 | 2022-05-27 11:29:46 | finished | NULL        | 127.0.0.1:4000 | NULL       | NULL               | NULL     | NULL                 |\n+--------------+------------+----------------+--------------------------------------------------------------------+----------------+---------------------+---------------------+----------+-------------+----------------+------------+--------------------+----------+----------------------+\n6 rows in set (0.00 sec)\n"
    ],
    "Category": [
        "\u7edf\u8ba1\u4fe1\u606f\u548c\u6267\u884c\u8ba1\u5212\u7ba1\u7406"
    ]
}