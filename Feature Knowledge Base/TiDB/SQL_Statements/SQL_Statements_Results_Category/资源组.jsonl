{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-alter-resource-group"], "Title": ["ALTER RESOURCE GROUP"], "Feature": ["AlterResourceGroupStmt ::=\n   \"ALTER\" \"RESOURCE\" \"GROUP\" IfExists ResourceGroupName ResourceGroupOptionList\n\nIfExists ::=\n    ('IF' 'EXISTS')?\n\nResourceGroupName ::=\n    Identifier\n|   \"DEFAULT\"\n\nResourceGroupOptionList ::=\n    DirectResourceGroupOption\n|   ResourceGroupOptionList DirectResourceGroupOption\n|   ResourceGroupOptionList ',' DirectResourceGroupOption\n\nDirectResourceGroupOption ::=\n    \"RU_PER_SEC\" EqOpt stringLit\n|   \"PRIORITY\" EqOpt ResourceGroupPriorityOption\n|   \"BURSTABLE\"\n|   \"BURSTABLE\" EqOpt Boolean\n|   \"QUERY_LIMIT\" EqOpt '(' ResourceGroupRunawayOptionList ')'\n|   \"QUERY_LIMIT\" EqOpt '(' ')'\n|   \"QUERY_LIMIT\" EqOpt \"NULL\"\n|   \"BACKGROUND\" EqOpt '(' BackgroundOptionList ')'\n|   \"BACKGROUND\" EqOpt '(' ')'\n|   \"BACKGROUND\" EqOpt \"NULL\"\n\nResourceGroupPriorityOption ::=\n    LOW\n|   MEDIUM\n|   HIGH\n\nResourceGroupRunawayOptionList ::= \n    DirectResourceGroupRunawayOption\n|   ResourceGroupRunawayOptionList DirectResourceGroupRunawayOption\n|   ResourceGroupRunawayOptionList ',' DirectResourceGroupRunawayOption\n\nDirectResourceGroupRunawayOption ::=\n    \"EXEC_ELAPSED\" EqOpt stringLit\n|   \"ACTION\" EqOpt ResourceGroupRunawayActionOption\n|   \"WATCH\" EqOpt ResourceGroupRunawayWatchOption \"DURATION\" EqOpt stringLit\n\nResourceGroupRunawayWatchOption ::=\n    EXACT\n|   SIMILAR\n\nResourceGroupRunawayActionOption ::=\n    DRYRUN\n|   COOLDOWN\n|   KILL\n\nBackgroundOptionList ::= \n    DirectBackgroundOption\n|   BackgroundOptionList DirectBackgroundOption\n|   BackgroundOptionList ',' DirectBackgroundOption\n\nDirectBackgroundOption ::= \n    \"TASK_TYPES\" EqOpt stringLit\n"], "Description": ["ALTER RESOURCE GROUP \u8bed\u53e5\u7528\u4e8e\u5728\u5f53\u524d\u6240\u9009\u6570\u636e\u5e93\u4e2d\u4fee\u6539\u8d44\u6e90\u7ec4\u3002"], "Examples": ["DROP RESOURCE GROUP IF EXISTS rg1;\n", "CREATE RESOURCE GROUP IF NOT EXISTS rg1\n  RU_PER_SEC = 100\n  BURSTABLE;\n", "SELECT * FROM information_schema.resource_groups WHERE NAME ='rg1';\n", "ALTER RESOURCE GROUP rg1\n  RU_PER_SEC = 200\n  PRIORITY = LOW\n  QUERY_LIMIT = (EXEC_ELAPSED='1s' ACTION=COOLDOWN WATCH=EXACT DURATION '30s');\n", "SELECT * FROM information_schema.resource_groups WHERE NAME ='rg1';\n", "ALTER RESOURCE GROUP default BACKGROUND = (TASK_TYPES = \"br,ddl\");\n", "SELECT * FROM information_schema.resource_groups WHERE NAME ='default';\n"], "Category": ["\u8d44\u6e90\u7ec4"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-calibrate-resource"], "Title": ["CALIBRATE RESOURCE"], "Feature": ["CalibrateResourceStmt ::= 'CALIBRATE' 'RESOURCE' CalibrateOption\n\nCalibrateOption ::=\n('START_TIME' 'TIMESTAMP' ('DURATION' stringLit | 'END_TIME' 'TIMESTAMP')?)\n| ('WORKLOAD' ('TPCC' | 'OLTP_READ_WRITE' | 'OLTP_READ_ONLY' | 'OLTP_WRITE_ONLY'))?\n\n"], "Description": ["CALIBRATE RESOURCE \u8bed\u53e5\u7528\u4e8e\u9884\u4f30\u5e76\u8f93\u51fa\u5f53\u524d\u96c6\u7fa4\u7684 Request Unit (RU) \u7684\u5bb9\u91cf\u3002"], "Examples": ["CALIBRATE RESOURCE START_TIME '2023-04-18 08:00:00' DURATION '20m';\n+-------+\n| QUOTA |\n+-------+\n| 27969 |\n+-------+\n1 row in set (0.01 sec)\n", "CALIBRATE RESOURCE START_TIME '2023-04-18 08:00:00' END_TIME '2023-04-18 08:20:00';\n+-------+\n| QUOTA |\n+-------+\n| 27969 |\n+-------+\n1 row in set (0.01 sec)\n", "CALIBRATE RESOURCE START_TIME '2023-04-18 08:00:00' DURATION '25h';\nERROR 1105 (HY000): the duration of calibration is too long, which could lead to inaccurate output. Please make the duration between 10m0s and 24h0m0s\nCALIBRATE RESOURCE START_TIME '2023-04-18 08:00:00' DURATION '9m';\nERROR 1105 (HY000): the duration of calibration is too short, which could lead to inaccurate output. Please make the duration between 10m0s and 24h0m0s\n", "CALIBRATE RESOURCE START_TIME '2023-04-18 08:00:00' DURATION '60m';\nError 1105 (HY000): There is no CPU quota metrics, metrics 'tikv_cpu_quota' is empty\n", "CALIBRATE RESOURCE START_TIME '2023-04-18 08:00:00' DURATION '60m';\nERROR 1105 (HY000): The workload in selected time window is too low, with which TiDB is unable to reach a capacity estimation; please select another time window with higher workload, or calibrate resource by hardware instead\n", "CALIBRATE RESOURCE;\n+-------+\n| QUOTA |\n+-------+\n| 190470 |\n+-------+\n1 row in set (0.01 sec)\n\nCALIBRATE RESOURCE WORKLOAD OLTP_WRITE_ONLY;\n+-------+\n| QUOTA |\n+-------+\n| 27444 |\n+-------+\n1 row in set (0.01 sec)\n"], "Category": ["\u8d44\u6e90\u7ec4"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-create-resource-group"], "Title": ["CREATE RESOURCE GROUP"], "Feature": ["CreateResourceGroupStmt ::=\n   \"CREATE\" \"RESOURCE\" \"GROUP\" IfNotExists ResourceGroupName ResourceGroupOptionList\n\nIfNotExists ::=\n    ('IF' 'NOT' 'EXISTS')?\n\nResourceGroupName ::=\n    Identifier\n|   \"DEFAULT\"\n\nResourceGroupOptionList ::=\n    DirectResourceGroupOption\n|   ResourceGroupOptionList DirectResourceGroupOption\n|   ResourceGroupOptionList ',' DirectResourceGroupOption\n\nDirectResourceGroupOption ::=\n    \"RU_PER_SEC\" EqOpt stringLit\n|   \"PRIORITY\" EqOpt ResourceGroupPriorityOption\n|   \"BURSTABLE\"\n|   \"BURSTABLE\" EqOpt Boolean\n|   \"QUERY_LIMIT\" EqOpt '(' ResourceGroupRunawayOptionList ')'\n|   \"QUERY_LIMIT\" EqOpt '(' ')'\n|   \"QUERY_LIMIT\" EqOpt \"NULL\"\n|   \"BACKGROUND\" EqOpt '(' BackgroundOptionList ')'\n|   \"BACKGROUND\" EqOpt '(' ')'\n|   \"BACKGROUND\" EqOpt \"NULL\"\n\nResourceGroupPriorityOption ::=\n    LOW\n|   MEDIUM\n|   HIGH\n\nResourceGroupRunawayOptionList ::= \n    DirectResourceGroupRunawayOption\n|   ResourceGroupRunawayOptionList DirectResourceGroupRunawayOption\n|   ResourceGroupRunawayOptionList ',' DirectResourceGroupRunawayOption\n\nDirectResourceGroupRunawayOption ::=\n    \"EXEC_ELAPSED\" EqOpt stringLit\n|   \"ACTION\" EqOpt ResourceGroupRunawayActionOption\n|   \"WATCH\" EqOpt ResourceGroupRunawayWatchOption WatchDurationOption\n\nWatchDurationOption ::=\n    (\"DURATION\" EqOpt stringLit | \"DURATION\" EqOpt \"UNLIMITED\")?\n\nResourceGroupRunawayWatchOption ::=\n    EXACT\n|   SIMILAR\n|   PLAN\n\nResourceGroupRunawayActionOption ::=\n    DRYRUN\n|   COOLDOWN\n|   KILL\n"], "Description": ["CREATE RESOURCE GROUP \u8bed\u53e5\u7528\u4e8e\u5728\u5f53\u524d\u6240\u9009\u6570\u636e\u5e93\u4e2d\u521b\u5efa\u8d44\u6e90\u7ec4\u3002"], "Examples": ["DROP RESOURCE GROUP IF EXISTS rg1;\n", "CREATE RESOURCE GROUP IF NOT EXISTS rg1\n  RU_PER_SEC = 100\n  PRIORITY = HIGH\n  BURSTABLE;\n", "CREATE RESOURCE GROUP IF NOT EXISTS rg2\n  RU_PER_SEC = 200 QUERY_LIMIT=(EXEC_ELAPSED='100ms', ACTION=KILL);\n", "SELECT * FROM information_schema.resource_groups WHERE NAME ='rg1' or NAME = 'rg2';\n"], "Category": ["\u8d44\u6e90\u7ec4"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-drop-resource-group"], "Title": ["DROP RESOURCE GROUP"], "Feature": ["DropResourceGroupStmt ::=\n    \"DROP\" \"RESOURCE\" \"GROUP\" IfExists ResourceGroupName\n\nIfExists ::=\n    ('IF' 'EXISTS')?\n\nResourceGroupName ::=\n    Identifier\n|   \"DEFAULT\"\n"], "Description": ["DROP RESOURCE GROUP \u8bed\u53e5\u7528\u4e8e\u5728\u5f53\u524d\u6240\u9009\u6570\u636e\u5e93\u4e2d\u5220\u9664\u8d44\u6e90\u7ec4\u3002"], "Examples": ["DROP RESOURCE GROUP IF EXISTS rg1;\n", "CREATE RESOURCE GROUP IF NOT EXISTS rg1 RU_PER_SEC = 500 BURSTABLE;\n", "SELECT * FROM information_schema.resource_groups WHERE NAME ='rg1';\n", "DROP RESOURCE GROUP IF EXISTS rg1;\n", "SELECT * FROM information_schema.resource_groups WHERE NAME ='rg1';\n"], "Category": ["\u8d44\u6e90\u7ec4"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-set-resource-group"], "Title": ["SET RESOURCE GROUP"], "Feature": ["SetResourceGroupStmt ::=\n    \"SET\" \"RESOURCE\" \"GROUP\" ResourceGroupName\n\nResourceGroupName ::=\n    Identifier\n|   \"DEFAULT\"\n"], "Description": ["SET RESOURCE GROUP \u7528\u4e8e\u8bbe\u7f6e\u5f53\u524d\u4f1a\u8bdd\u4f7f\u7528\u7684\u8d44\u6e90\u7ec4\u3002"], "Examples": ["CREATE USER 'user1';\nCREATE RESOURCE GROUP 'rg1' RU_PER_SEC = 1000;\nALTER USER 'user1' RESOURCE GROUP `rg1`;\n", "SELECT CURRENT_RESOURCE_GROUP();\n", "SET RESOURCE GROUP `rg2`;\nSELECT CURRENT_RESOURCE_GROUP();\n", "SET RESOURCE GROUP `default`;\nSELECT CURRENT_RESOURCE_GROUP();\n"], "Category": ["\u8d44\u6e90\u7ec4"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-show-create-resource-group"], "Title": ["SHOW CREATE RESOURCE GROUP"], "Feature": ["ShowCreateResourceGroupStmt ::=\n    \"SHOW\" \"CREATE\" \"RESOURCE\" \"GROUP\" ResourceGroupName\n\nResourceGroupName ::=\n    Identifier\n|   \"DEFAULT\"\n"], "Description": ["SHOW CREATE RESOURCE GROUP \u8bed\u53e5\u53ef\u7528\u4e8e\u67e5\u770b\u8d44\u6e90\u7ec4\u5f53\u524d\u7684\u5b9a\u4e49\u3002"], "Examples": ["CREATE RESOURCE GROUP rg1 RU_PER_SEC=100;\nQuery OK, 0 rows affected (0.10 sec)\n", "SHOW CREATE RESOURCE GROUP rg1;\n***************************[ 1. row ]***************************\n+----------------+------------------------------------------------------------+\n| Resource_Group | Create Resource Group                                      |\n+----------------+------------------------------------------------------------+\n| rg1            | CREATE RESOURCE GROUP `rg1` RU_PER_SEC=100 PRIORITY=MEDIUM |\n+----------------+------------------------------------------------------------+\n1 row in set (0.01 sec)\n"], "Category": ["\u8d44\u6e90\u7ec4"]}
