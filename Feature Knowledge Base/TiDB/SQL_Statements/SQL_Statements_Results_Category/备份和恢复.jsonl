{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-backup"], "Title": ["BACKUP"], "Feature": ["BackupStmt ::=\n    \"BACKUP\" BRIETables \"TO\" stringLit BackupOption*\n\nBRIETables ::=\n    \"DATABASE\" ( '*' | DBName (',' DBName)* )\n|   \"TABLE\" TableNameList\n\nBackupOption ::=\n    \"RATE_LIMIT\" '='? LengthNum \"MB\" '/' \"SECOND\"\n|   \"CONCURRENCY\" '='? LengthNum\n|   \"CHECKSUM\" '='? Boolean\n|   \"SEND_CREDENTIALS_TO_TIKV\" '='? Boolean\n|   \"LAST_BACKUP\" '='? BackupTSO\n|   \"SNAPSHOT\" '='? ( BackupTSO | LengthNum TimestampUnit \"AGO\" )\n\nBoolean ::=\n    NUM | \"TRUE\" | \"FALSE\"\n\nBackupTSO ::=\n    LengthNum | stringLit\n"], "Description": [".css-1weqspv{padding-top:0.5rem;padding-bottom:0.5rem;}.css-1weqspv .MuiAlert-message p{margin-bottom:0px;margin-top:0px;}", "\u8b66\u544aBACKUP \u8bed\u53e5\u76ee\u524d\u4e3a\u5b9e\u9a8c\u7279\u6027\uff0c\u4e0d\u5efa\u8bae\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u3002\u8be5\u529f\u80fd\u53ef\u80fd\u4f1a\u5728\u672a\u4e8b\u5148\u901a\u77e5\u7684\u60c5\u51b5\u4e0b\u53d1\u751f\u53d8\u5316\u6216\u5220\u9664\u3002\u5982\u679c\u53d1\u73b0 bug\uff0c\u8bf7\u5728 GitHub \u4e0a\u63d0 issue \u53cd\u9988\u3002", "BACKUP \u8bed\u53e5\u7528\u4e8e\u5bf9 TiDB \u96c6\u7fa4\u6267\u884c\u5206\u5e03\u5f0f\u5907\u4efd\u64cd\u4f5c\u3002", "BACKUP \u8bed\u53e5\u4f7f\u7528\u7684\u5f15\u64ce\u4e0e BR \u76f8\u540c\uff0c\u4f46\u5907\u4efd\u8fc7\u7a0b\u662f\u7531 TiDB \u672c\u8eab\u9a71\u52a8\uff0c\u800c\u975e\u5355\u72ec\u7684 BR \u5de5\u5177\u3002BR \u5de5\u5177\u7684\u4f18\u52bf\u548c\u8b66\u544a\u4e5f\u9002\u7528\u4e8e BACKUP \u8bed\u53e5\u3002", "\u6267\u884c BACKUP \u9700\u8981 BACKUP_ADMIN \u6216 SUPER \u6743\u9650\u3002\u6b64\u5916\uff0c\u6267\u884c\u5907\u4efd\u7684 TiDB \u8282\u70b9\u548c\u96c6\u7fa4\u4e2d\u7684\u6240\u6709 TiKV \u8282\u70b9\u90fd\u5fc5\u987b\u6709\u5bf9\u76ee\u6807\u5b58\u50a8\u7684\u8bfb\u6216\u5199\u6743\u9650\u3002", "BACKUP \u8bed\u53e5\u5f00\u59cb\u6267\u884c\u540e\u5c06\u4f1a\u88ab\u963b\u585e\uff0c\u76f4\u5230\u6574\u4e2a\u5907\u4efd\u4efb\u52a1\u5b8c\u6210\u3001\u5931\u8d25\u6216\u53d6\u6d88\u3002\u56e0\u6b64\uff0c\u6267\u884c BACKUP \u65f6\u9700\u8981\u51c6\u5907\u4e00\u4e2a\u6301\u4e45\u7684\u8fde\u63a5\u3002\u5982\u9700\u53d6\u6d88\u4efb\u52a1\uff0c\u53ef\u6267\u884c KILL TIDB QUERY \u8bed\u53e5\u3002", "\u4e00\u6b21\u53ea\u80fd\u6267\u884c\u4e00\u4e2a BACKUP \u548c RESTORE \u4efb\u52a1\u3002\u5982\u679c TiDB server \u4e0a\u5df2\u7ecf\u5728\u6267\u884c\u4e00\u4e2a BACKUP \u6216 RESTORE \u8bed\u53e5\uff0c\u65b0\u7684 BACKUP \u5c06\u7b49\u5f85\u524d\u9762\u6240\u6709\u7684\u4efb\u52a1\u5b8c\u6210\u540e\u518d\u6267\u884c\u3002"], "Examples": ["BACKUP DATABASE `test` TO 'local:///mnt/backup/2020/04/';\n", "BACKUP TABLE `test`.`sbtest01` TO 'local:///mnt/backup/sbtest01/';\n", "BACKUP TABLE sbtest02, sbtest03, sbtest04 TO 'local:///mnt/backup/sbtest/';\n", "BACKUP DATABASE * TO 'local:///mnt/backup/full/';\n", "BACKUP DATABASE `test` TO 's3://example-bucket-2020/backup-05/?access-key={YOUR_ACCESS_KEY}&secret-access-key={YOUR_SECRET_KEY}';\n", "BACKUP DATABASE `test` TO 's3://example-bucket-2020/backup-05/'\n    SEND_CREDENTIALS_TO_TIKV = FALSE;\n", "BACKUP DATABASE `test` TO 's3://example-bucket-2020/backup-06/'\n    RATE_LIMIT = 120 MB/SECOND\n    CONCURRENCY = 8\n    CHECKSUM = FALSE;\n", "-- \u76f8\u5bf9\u65f6\u95f4\nBACKUP DATABASE `test` TO 'local:///mnt/backup/hist01'\n    SNAPSHOT = 36 HOUR AGO;\n-- \u65f6\u95f4\u6233\uff08\u5f53\u524d\u65f6\u533a\uff09\nBACKUP DATABASE `test` TO 'local:///mnt/backup/hist02'\n    SNAPSHOT = '2020-04-01 12:00:00';\n-- TSO\nBACKUP DATABASE `test` TO 'local:///mnt/backup/hist03'\n    SNAPSHOT = 415685305958400;\n", "-- \u65f6\u95f4\u6233\uff08\u5f53\u524d\u65f6\u533a\uff09\nBACKUP DATABASE `test` TO 'local:///mnt/backup/hist02'\n    LAST_BACKUP = '2020-04-01 12:00:00';\n\n-- TSO\nBACKUP DATABASE `test` TO 'local:///mnt/backup/hist03'\n    LAST_BACKUP = 415685305958400;\n"], "Category": ["\u5907\u4efd\u548c\u6062\u590d"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-flashback-cluster"], "Title": ["FLASHBACK CLUSTER"], "Feature": ["FlashbackToTimestampStmt\n         ::= 'FLASHBACK' 'CLUSTER' 'TO' 'TIMESTAMP' stringLit\n           | 'FLASHBACK' 'CLUSTER' 'TO' 'TSO' LengthNum\n"], "Description": ["TiDB v6.4.0 \u5f15\u5165\u4e86 FLASHBACK CLUSTER TO TIMESTAMP \u8bed\u6cd5\uff0c\u5176\u529f\u80fd\u662f\u5c06\u96c6\u7fa4\u7684\u6570\u636e\u6062\u590d\u5230\u8fc7\u53bb\u6307\u5b9a\u7684\u65f6\u95f4\u70b9\u3002\u6307\u5b9a\u65f6\u95f4\u70b9\u65f6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u65e5\u671f\u65f6\u95f4\u548c\u65f6\u95f4\u51fd\u6570\uff0c\u65e5\u671f\u65f6\u95f4\u7684\u683c\u5f0f\u4e3a\uff1a'2016-10-08 16:45:26.999'\uff0c\u6700\u5c0f\u65f6\u95f4\u7cbe\u5ea6\u8303\u56f4\u4e3a\u6beb\u79d2\uff0c\u901a\u5e38\u53ef\u53ea\u5199\u5230\u79d2\uff0c\u4f8b\u5982 '2016-10-08 16:45:26'\u3002", "TiDB v6.5.6\u3001v7.1.3\u3001v7.5.1\u3001v7.6.0 \u5f00\u59cb\u5f15\u5165\u4e86 FLASHBACK CLUSTER TO TSO \u7684\u8bed\u6cd5\uff0c\u652f\u6301\u4f7f\u7528\u65f6\u95f4\u6233 TSO \u66f4\u52a0\u7cbe\u786e\u5730\u6307\u5b9a\u6062\u590d\u65f6\u95f4\u70b9\uff0c\u5b9e\u73b0\u66f4\u52a0\u7075\u6d3b\u7684\u6570\u636e\u6062\u590d\u3002", ".css-1weqspv{padding-top:0.5rem;padding-bottom:0.5rem;}.css-1weqspv .MuiAlert-message p{margin-bottom:0px;margin-top:0px;}", "\u8b66\u544a\u5728\u6307\u5b9a\u6062\u590d\u65f6\u95f4\u70b9\u65f6\uff0c\u8bf7\u52a1\u5fc5\u68c0\u67e5 TIMESTAMP \u6216 TSO \u7684\u6709\u6548\u6027\uff0c\u907f\u514d\u6307\u5b9a\u53ef\u80fd\u8d85\u8fc7 PD \u5f53\u524d\u5206\u914d\u7684\u6700\u5927 TSO\uff08\u53c2\u8003 Grafana PD \u9762\u677f\u4e0a Current TSO\uff09\u7684\u672a\u6765\u65f6\u95f4\u3002\u5426\u5219\uff0c\u53ef\u80fd\u7834\u574f\u5e76\u53d1\u5904\u7406\u7ebf\u6027\u4e00\u81f4\u6027\u4ee5\u53ca\u4e8b\u52a1\u9694\u79bb\u7ea7\u522b\uff0c\u5bfc\u81f4\u4e25\u91cd\u7684\u6570\u636e\u6b63\u786e\u6027\u7684\u95ee\u9898\u3002", "\u8b66\u544a\u5728 TiDB v7.1.0 \u4e2d\u4f7f\u7528\u8be5\u529f\u80fd\u53ef\u80fd\u4f1a\u51fa\u73b0 FLASHBACK \u5b8c\u6210\u540e\u90e8\u5206 Region \u4ecd\u5904\u4e8e FLASHBACK \u8fc7\u7a0b\u4e2d\u7684\u95ee\u9898\u3002\u8bf7\u5c3d\u91cf\u907f\u514d\u5728 v7.1.0 \u4e2d\u4f7f\u7528\u8be5\u529f\u80fd\u3002\u8be6\u60c5\u53ef\u89c1 #44292\u3002\u5982\u679c\u5df2\u7ecf\u51fa\u73b0\u8be5\u95ee\u9898\uff0c\u53ef\u4ee5\u4f7f\u7528 TiDB \u5feb\u7167\u5907\u4efd\u4e0e\u6062\u590d\u529f\u80fd\u8fdb\u884c\u6570\u636e\u6062\u590d\u3002", "\u6ce8\u610fFLASHBACK CLUSTER TO [TIMESTAMP|TSO] \u662f\u7528\u6700\u65b0\u7684\u65f6\u95f4\u6233\u5199\u5165\u7279\u5b9a\u65f6\u95f4\u70b9\u7684\u65e7\u6570\u636e\uff0c\u4f46\u4e0d\u4f1a\u5220\u9664\u5f53\u524d\u6570\u636e\uff0c\u6240\u4ee5\u5728\u4f7f\u7528\u524d\u8bf7\u786e\u4fdd\u96c6\u7fa4\u6709\u8db3\u591f\u7684\u5b58\u50a8\u7a7a\u95f4\u6765\u540c\u65f6\u5bb9\u7eb3\u65e7\u6570\u636e\u548c\u5f53\u524d\u6570\u636e\u3002"], "Examples": ["mysql> CREATE TABLE t(a INT);\nQuery OK, 0 rows affected (0.09 sec)\n\nmysql> SELECT * FROM t;\nEmpty set (0.01 sec)\n\nmysql> SELECT now();\n+---------------------+\n| now()               |\n+---------------------+\n| 2022-09-28 17:24:16 |\n+---------------------+\n1 row in set (0.02 sec)\n\nmysql> INSERT INTO t VALUES (1);\nQuery OK, 1 row affected (0.02 sec)\n\nmysql> SELECT * FROM t;\n+------+\n| a    |\n+------+\n|    1 |\n+------+\n1 row in set (0.01 sec)\n\nmysql> FLASHBACK CLUSTER TO TIMESTAMP '2022-09-28 17:24:16';\nQuery OK, 0 rows affected (0.20 sec)\n\nmysql> SELECT * FROM t;\nEmpty set (0.00 sec)\n", "mysql> INSERT INTO t VALUES (1);\nQuery OK, 1 row affected (0.02 sec)\n\nmysql> SELECT * FROM t;\n+------+\n| a    |\n+------+\n|    1 |\n+------+\n1 row in set (0.01 sec)\n\n\nmysql> BEGIN;\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> SELECT @@tidb_current_ts;  --  \u83b7\u53d6\u5f53\u524d TSO\n+--------------------+\n| @@tidb_current_ts  |\n+--------------------+\n| 446113975683252225 |\n+--------------------+\n1 row in set (0.00 sec)\n\nmysql> ROLLBACK;\nQuery OK, 0 rows affected (0.00 sec)\n\n\nmysql> DELETE FROM t;\nQuery OK, 1 rows affected (0.00 sec)\n\n\nmysql> FLASHBACK CLUSTER TO TSO 446113975683252225;\nQuery OK, 0 rows affected (0.20 sec)\n\nmysql> SELECT * FROM t;\n+------+\n| a    |\n+------+\n|    1 |\n+------+\n1 row in set (0.01 sec)\n", "mysql> ALTER TABLE t ADD INDEX k(a);\nQuery OK, 0 rows affected (0.56 sec)\n\nmysql> ADMIN SHOW DDL JOBS 1;\n+--------+---------+-----------------------+------------------------+--------------+-----------+----------+-----------+---------------------+---------------------+---------------------+--------+\n| JOB_ID | DB_NAME | TABLE_NAME            | JOB_TYPE               | SCHEMA_STATE | SCHEMA_ID | TABLE_ID | ROW_COUNT | CREATE_TIME         | START_TIME          | END_TIME            | STATE  |\n+--------+---------+-----------------------+------------------------+--------------+-----------+----------+-----------+---------------------+---------------------+---------------------+--------+\n|     84 | test    | t                     | add index /* ingest */ | public       |         2 |       82 |         0 | 2023-01-29 14:33:11 | 2023-01-29 14:33:11 | 2023-01-29 14:33:12 | synced |\n+--------+---------+-----------------------+------------------------+--------------+-----------+----------+-----------+---------------------+---------------------+---------------------+--------+\n1 rows in set (0.01 sec)\n\nmysql> FLASHBACK CLUSTER TO TIMESTAMP '2023-01-29 14:33:12';\nERROR 1105 (HY000): Detected another DDL job at 2023-01-29 14:33:12 +0800 CST, can't do flashback\n"], "Category": ["\u5907\u4efd\u548c\u6062\u590d"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-flashback-database"], "Title": ["FLASHBACK DATABASE"], "Feature": ["FlashbackDatabaseStmt ::=\n    'FLASHBACK' DatabaseSym DBName FlashbackToNewName\n\nFlashbackToNewName ::=\n    ( 'TO' Identifier )?\n"], "Description": ["TiDB v6.4.0 \u5f15\u5165\u4e86 FLASHBACK DATABASE \u8bed\u6cd5\uff0c\u5176\u529f\u80fd\u662f\u5728 Garbage Collection (GC) life time \u65f6\u95f4\u5185\uff0c\u53ef\u4ee5\u7528 FLASHBACK DATABASE \u8bed\u53e5\u6765\u6062\u590d\u88ab DROP \u5220\u9664\u7684\u6570\u636e\u5e93\u4ee5\u53ca\u6570\u636e\u3002", "\u53ef\u4ee5\u4f7f\u7528\u7cfb\u7edf\u53d8\u91cf tidb_gc_life_time \u914d\u7f6e\u6570\u636e\u7684\u5386\u53f2\u7248\u672c\u7684\u4fdd\u7559\u65f6\u95f4\uff08\u9ed8\u8ba4\u503c\u662f 10m0s\uff09\u3002\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b SQL \u8bed\u53e5\u67e5\u8be2\u5f53\u524d\u7684 safePoint\uff0c\u5373 GC \u5df2\u7ecf\u6e05\u7406\u5230\u7684\u65f6\u95f4\u70b9\uff1a", "SELECT * FROM mysql.tidb WHERE variable_name = 'tikv_gc_safe_point';\n", "\u53ea\u8981\u4e00\u4e2a\u6570\u636e\u5e93\u662f\u5728 tikv_gc_safe_point \u65f6\u95f4\u4e4b\u540e\u88ab DROP\uff0c\u5373\u53ef\u4ee5\u7528 FLASHBACK DATABASE \u8bed\u6cd5\u6765\u6062\u590d\u3002"], "Examples": ["\u6062\u590d\u88ab DROP \u5220\u9664\u7684 test \u6570\u636e\u5e93\uff1aDROP DATABASE test;\nFLASHBACK DATABASE test;\n\u6062\u590d\u88ab DROP \u5220\u9664\u7684 test \u6570\u636e\u5e93\u5e76\u91cd\u547d\u540d\u4e3a test1\uff1aDROP DATABASE test;\nFLASHBACK DATABASE test TO test1;\n"], "Category": ["\u5907\u4efd\u548c\u6062\u590d"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-flashback-table"], "Title": ["FLASHBACK TABLE"], "Feature": ["FlashbackTableStmt ::=\n    'FLASHBACK' 'TABLE' TableName FlashbackToNewName\n\nTableName ::=\n    Identifier ( '.' Identifier )?\n\nFlashbackToNewName ::=\n    ( 'TO' Identifier )?\n"], "Description": ["\u5728 TiDB 4.0 \u4e2d\uff0c\u5f15\u5165\u4e86 FLASHBACK TABLE \u8bed\u6cd5\uff0c\u5176\u529f\u80fd\u662f\u5728 Garbage Collection (GC) life time \u65f6\u95f4\u5185\uff0c\u53ef\u4ee5\u7528 FLASHBACK TABLE \u8bed\u53e5\u6765\u6062\u590d\u88ab DROP \u6216 TRUNCATE \u5220\u9664\u7684\u8868\u4ee5\u53ca\u6570\u636e\u3002", "\u53ef\u4ee5\u4f7f\u7528\u7cfb\u7edf\u53d8\u91cf tidb_gc_life_time \u914d\u7f6e\u6570\u636e\u7684\u5386\u53f2\u7248\u672c\u7684\u4fdd\u7559\u65f6\u95f4\uff08\u9ed8\u8ba4\u503c\u662f 10m0s\uff09\u3002\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b SQL \u8bed\u53e5\u67e5\u8be2\u5f53\u524d\u7684 safePoint\uff0c\u5373 GC \u5df2\u7ecf\u6e05\u7406\u5230\u7684\u65f6\u95f4\u70b9\uff1a", "SELECT * FROM mysql.tidb WHERE variable_name = 'tikv_gc_safe_point';\n", "\u53ea\u8981\u88ab DROP \u6216 TRUNCATE \u5220\u9664\u7684\u8868\u662f\u5728 tikv_gc_safe_point \u65f6\u95f4\u4e4b\u540e\uff0c\u90fd\u80fd\u7528 FLASHBACK TABLE \u8bed\u6cd5\u6765\u6062\u590d\u3002"], "Examples": ["\u6062\u590d\u88ab DROP \u5220\u9664\u7684\u8868\u6570\u636e\uff1aDROP TABLE t;\nFLASHBACK TABLE t;\n\u6062\u590d\u88ab TRUNCATE \u7684\u8868\u6570\u636e\uff0c\u7531\u4e8e\u88ab TRUNCATE \u7684\u8868\u8fd8\u5b58\u5728\uff0c\u6240\u4ee5\u9700\u8981\u91cd\u547d\u540d\u88ab\u6062\u590d\u7684\u8868\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u8868 t \u5df2\u5b58\u5728\u3002TRUNCATE TABLE t;\nFLASHBACK TABLE t TO t1;\n"], "Category": ["\u5907\u4efd\u548c\u6062\u590d"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-recover-table"], "Title": ["RECOVER TABLE"], "Feature": ["RecoverTableStmt ::=\n    'RECOVER' 'TABLE' ( 'BY' 'JOB' Int64Num | TableName Int64Num? )\n\nTableName ::=\n    Identifier ( '.' Identifier )?\n\nInt64Num ::= NUM\n\nNUM ::= intLit\n"], "Description": ["RECOVER TABLE \u7684\u529f\u80fd\u662f\u6062\u590d\u88ab\u5220\u9664\u7684\u8868\u53ca\u5176\u6570\u636e\u3002\u5728 DROP TABLE \u540e\uff0c\u5728 GC life time \u65f6\u95f4\u5185\uff0c\u53ef\u4ee5\u7528 RECOVER TABLE \u8bed\u53e5\u6062\u590d\u88ab\u5220\u9664\u7684\u8868\u4ee5\u53ca\u5176\u6570\u636e\u3002"], "Examples": ["\u6839\u636e\u8868\u540d\u6062\u590d\u88ab\u5220\u9664\u7684\u8868\u3002DROP TABLE t;\nRECOVER TABLE t;\n  \u6839\u636e\u8868\u540d\u6062\u590d\u88ab\u5220\u9664\u7684\u8868\u9700\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\uff1a\u6700\u8fd1 DDL JOB \u5386\u53f2\u4e2d\u627e\u5230\u7684\u7b2c\u4e00\u4e2a DROP TABLE \u64cd\u4f5c\uff0c\u4e14DROP TABLE \u6240\u5220\u9664\u7684\u8868\u7684\u540d\u79f0\u4e0e RECOVER TABLE \u8bed\u53e5\u6307\u5b9a\u8868\u540d\u76f8\u540c\u6839\u636e\u5220\u9664\u8868\u65f6\u7684 DDL JOB ID \u6062\u590d\u88ab\u5220\u9664\u7684\u8868\u3002  \u5982\u679c\u7b2c\u4e00\u6b21\u5220\u9664\u8868 t \u540e\uff0c\u53c8\u65b0\u5efa\u4e86\u4e00\u4e2a\u8868 t\uff0c\u7136\u540e\u53c8\u628a\u65b0\u5efa\u7684\u8868 t \u5220\u9664\u4e86\uff0c\u6b64\u65f6\u5982\u679c\u60f3\u6062\u590d\u6700\u5f00\u59cb\u5220\u9664\u7684\u8868 t\uff0c\u5c31\u9700\u8981\u7528\u5230\u6307\u5b9a DDL JOB ID \u7684\u8bed\u6cd5\u4e86\u3002DROP TABLE t;\nADMIN SHOW DDL JOBS 1;\n  \u4e0a\u9762\u8fd9\u4e2a\u8bed\u53e5\u7528\u6765\u67e5\u627e\u5220\u9664\u8868 t \u65f6\u7684 DDL JOB ID\uff0c\u8fd9\u91cc\u662f 53\uff1a+--------+---------+------------+------------+--------------+-----------+----------+-----------+-----------------------------------+--------+\n| JOB_ID | DB_NAME | TABLE_NAME | JOB_TYPE   | SCHEMA_STATE | SCHEMA_ID | TABLE_ID | ROW_COUNT | START_TIME                        | STATE  |\n+--------+---------+------------+------------+--------------+-----------+----------+-----------+-----------------------------------+--------+\n| 53     | test    |            | drop table | none         | 1         | 41       | 0         | 2019-07-10 13:23:18.277 +0800 CST | synced |\n+--------+---------+------------+------------+--------------+-----------+----------+-----------+-----------------------------------+--------+\nRECOVER TABLE BY JOB 53;\n  \u6839\u636e\u5220\u9664\u8868\u65f6\u7684 DDL JOB ID \u6062\u590d\u88ab\u5220\u9664\u7684\u8868\uff0c\u4f1a\u76f4\u63a5\u7528 DDL JOB ID \u627e\u5230\u88ab\u5220\u9664\u8868\u8fdb\u884c\u6062\u590d\u3002\u5982\u679c\u6307\u5b9a\u7684 DDL JOB ID \u7684 DDL JOB \u4e0d\u662f DROP TABLE \u7c7b\u578b\uff0c\u4f1a\u62a5\u9519\u3002"], "Category": ["\u5907\u4efd\u548c\u6062\u590d"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-restore"], "Title": ["RESTORE"], "Feature": ["RestoreStmt ::=\n    \"RESTORE\" BRIETables \"FROM\" stringLit RestoreOption*\n\nBRIETables ::=\n    \"DATABASE\" ( '*' | DBName (',' DBName)* )\n|   \"TABLE\" TableNameList\n\nRestoreOption ::=\n    \"RATE_LIMIT\" '='? LengthNum \"MB\" '/' \"SECOND\"\n|   \"CONCURRENCY\" '='? LengthNum\n|   \"CHECKSUM\" '='? Boolean\n|   \"SEND_CREDENTIALS_TO_TIKV\" '='? Boolean\n\nBoolean ::=\n    NUM | \"TRUE\" | \"FALSE\"\n"], "Description": [".css-1weqspv{padding-top:0.5rem;padding-bottom:0.5rem;}.css-1weqspv .MuiAlert-message p{margin-bottom:0px;margin-top:0px;}", "\u8b66\u544aRESTORE \u8bed\u53e5\u76ee\u524d\u4e3a\u5b9e\u9a8c\u7279\u6027\uff0c\u4e0d\u5efa\u8bae\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u3002\u8be5\u529f\u80fd\u53ef\u80fd\u4f1a\u5728\u672a\u4e8b\u5148\u901a\u77e5\u7684\u60c5\u51b5\u4e0b\u53d1\u751f\u53d8\u5316\u6216\u5220\u9664\u3002\u5982\u679c\u53d1\u73b0 bug\uff0c\u8bf7\u5728 GitHub \u4e0a\u63d0 issue \u53cd\u9988\u3002", "RESTORE \u8bed\u53e5\u7528\u4e8e\u6267\u884c\u5206\u5e03\u5f0f\u6062\u590d\uff0c\u628a BACKUP \u8bed\u53e5\u751f\u6210\u7684\u5907\u4efd\u6587\u4ef6\u6062\u590d\u5230 TiDB \u96c6\u7fa4\u4e2d\u3002", "RESTORE \u8bed\u53e5\u4f7f\u7528\u7684\u5f15\u64ce\u4e0e BR \u76f8\u540c\uff0c\u4f46\u6062\u590d\u8fc7\u7a0b\u662f\u7531 TiDB \u672c\u8eab\u9a71\u52a8\uff0c\u800c\u975e\u5355\u72ec\u7684 BR \u5de5\u5177\u3002BR \u5de5\u5177\u7684\u4f18\u52bf\u548c\u8b66\u544a\u4e5f\u9002\u7528\u4e8e RESTORE \u8bed\u53e5\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cRESTORE \u8bed\u53e5\u76ee\u524d\u4e0d\u9075\u5faa ACID \u539f\u5219\u3002", "\u6267\u884c RESTORE \u8bed\u53e5\u524d\uff0c\u786e\u4fdd\u96c6\u7fa4\u5df2\u6ee1\u8db3\u4ee5\u4e0b\u8981\u6c42\uff1a", "\u96c6\u7fa4\u5904\u4e8e\u201c\u4e0b\u7ebf\u201d\u72b6\u6001\uff0c\u5f53\u524d\u7684 TiDB \u4f1a\u8bdd\u662f\u552f\u4e00\u5728\u8bbf\u95ee\u5f85\u6062\u590d\u8868\u7684\u6d3b\u8dc3 SQL \u8fde\u63a5\u3002\u6267\u884c\u5168\u91cf\u6062\u590d\u65f6\uff0c\u786e\u4fdd\u5373\u5c06\u6062\u590d\u7684\u8868\u4e0d\u5b58\u5728\u4e8e\u96c6\u7fa4\u4e2d\uff0c\u56e0\u4e3a\u73b0\u6709\u7684\u6570\u636e\u53ef\u80fd\u88ab\u8986\u76d6\uff0c\u4ece\u800c\u5bfc\u81f4\u6570\u636e\u4e0e\u7d22\u5f15\u4e0d\u4e00\u81f4\u3002\u6267\u884c\u589e\u91cf\u6062\u590d\u65f6\uff0c\u8868\u7684\u72b6\u6001\u5e94\u8be5\u4e0e\u521b\u5efa\u5907\u4efd\u65f6 LAST_BACKUP \u65f6\u95f4\u6233\u7684\u72b6\u6001\u5b8c\u5168\u4e00\u81f4\u3002", "\u6267\u884c RESTORE \u9700\u8981 RESTORE_ADMIN \u6216 SUPER \u6743\u9650\u3002\u6b64\u5916\uff0c\u6267\u884c\u6062\u590d\u64cd\u4f5c\u7684 TiDB \u8282\u70b9\u548c\u96c6\u7fa4\u4e2d\u7684\u6240\u6709 TiKV \u8282\u70b9\u90fd\u5fc5\u987b\u6709\u5bf9\u76ee\u6807\u5b58\u50a8\u7684\u8bfb\u6743\u9650\u3002", "RESTORE \u8bed\u53e5\u5f00\u59cb\u6267\u884c\u540e\u5c06\u4f1a\u88ab\u963b\u585e\uff0c\u76f4\u5230\u6574\u4e2a\u6062\u590d\u4efb\u52a1\u5b8c\u6210\u3001\u5931\u8d25\u6216\u53d6\u6d88\u3002\u56e0\u6b64\uff0c\u6267\u884c RESTORE \u65f6\u9700\u8981\u51c6\u5907\u4e00\u4e2a\u6301\u4e45\u7684\u8fde\u63a5\u3002\u5982\u9700\u53d6\u6d88\u4efb\u52a1\uff0c\u53ef\u6267\u884c KILL TIDB QUERY \u8bed\u53e5\u3002", "\u4e00\u6b21\u53ea\u80fd\u6267\u884c\u4e00\u4e2a BACKUP \u548c RESTORE \u4efb\u52a1\u3002\u5982\u679c TiDB server \u4e0a\u5df2\u7ecf\u5728\u6267\u884c\u4e00\u4e2a BACKUP \u6216 RESTORE \u8bed\u53e5\uff0c\u65b0\u7684 RESTORE \u5c06\u7b49\u5f85\u524d\u9762\u6240\u6709\u7684\u4efb\u52a1\u5b8c\u6210\u540e\u518d\u6267\u884c\u3002", "RESTORE \u53ea\u80fd\u5728 \"tikv\" \u5b58\u50a8\u5f15\u64ce\u4e0a\u4f7f\u7528\uff0c\u5982\u679c\u4f7f\u7528 \"unistore\" \u5b58\u50a8\u5f15\u64ce\uff0cRESTORE \u64cd\u4f5c\u4f1a\u5931\u8d25\u3002"], "Examples": ["RESTORE DATABASE * FROM 'local:///mnt/backup/2020/04/';\n", "RESTORE DATABASE `test` FROM 'local:///mnt/backup/2020/04/';\n", "RESTORE TABLE `test`.`sbtest01`, `test`.`sbtest02` FROM 'local:///mnt/backup/2020/04/';\n", "RESTORE DATABASE * FROM 's3://example-bucket-2020/backup-05/';\n", "RESTORE DATABASE * FROM 's3://example-bucket-2020/backup-05/'\n    SEND_CREDENTIALS_TO_TIKV = FALSE;\n", "RESTORE DATABASE * FROM 's3://example-bucket-2020/backup-06/'\n    RATE_LIMIT = 120 MB/SECOND\n    CONCURRENCY = 64\n    CHECKSUM = FALSE;\n", "BACKUP DATABASE `test` TO 's3://example-bucket/full-backup'  SNAPSHOT = 413612900352000;\nBACKUP DATABASE `test` TO 's3://example-bucket/inc-backup-1' SNAPSHOT = 414971854848000 LAST_BACKUP = 413612900352000;\nBACKUP DATABASE `test` TO 's3://example-bucket/inc-backup-2' SNAPSHOT = 416353458585600 LAST_BACKUP = 414971854848000;\n", "RESTORE DATABASE * FROM 's3://example-bucket/full-backup';\nRESTORE DATABASE * FROM 's3://example-bucket/inc-backup-1';\nRESTORE DATABASE * FROM 's3://example-bucket/inc-backup-2';\n"], "Category": ["\u5907\u4efd\u548c\u6062\u590d"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-show-backups"], "Title": ["SHOW [BACKUPS|RESTORES]"], "Feature": ["ShowBRIEStmt ::=\n    \"SHOW\" (\"BACKUPS\" | \"RESTORES\") ShowLikeOrWhere?\n\nShowLikeOrWhere ::=\n    \"LIKE\" SimpleExpr\n|   \"WHERE\" Expression\n"], "Description": ["SHOW [BACKUPS|RESTORES] \u8bed\u53e5\u4f1a\u5217\u51fa\u6240\u6709\u961f\u5217\u4e2d\u6216\u6b63\u5728\u6267\u884c\u7684 BACKUP \u548c RESTORE \u4efb\u52a1\u3002", "\u67e5\u8be2 BACKUP \u4efb\u52a1\u65f6\uff0c\u4f7f\u7528 SHOW BACKUPS \u8bed\u53e5\u3002\u67e5\u8be2 RESTORE \u4efb\u52a1\u65f6\uff0c\u4f7f\u7528 SHOW RESTORES \u8bed\u53e5\u3002\u6267\u884c\u4e24\u4e2a\u8bed\u53e5\u5747\u9700\u8981 SUPER \u6743\u9650\u3002"], "Examples": ["BACKUP DATABASE `test` TO 's3://example-bucket/backup-01/';\n", "SHOW BACKUPS;\n", "KILL TIDB QUERY 4;\n", "SHOW BACKUPS LIKE 's3://%';\n", "SHOW BACKUPS WHERE `Progress` < 25.0;\n"], "Category": ["\u5907\u4efd\u548c\u6062\u590d"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-show-backups"], "Title": ["SHOW [BACKUPS|RESTORES]"], "Feature": ["ShowBRIEStmt ::=\n    \"SHOW\" (\"BACKUPS\" | \"RESTORES\") ShowLikeOrWhere?\n\nShowLikeOrWhere ::=\n    \"LIKE\" SimpleExpr\n|   \"WHERE\" Expression\n"], "Description": ["SHOW [BACKUPS|RESTORES] \u8bed\u53e5\u4f1a\u5217\u51fa\u6240\u6709\u961f\u5217\u4e2d\u6216\u6b63\u5728\u6267\u884c\u7684 BACKUP \u548c RESTORE \u4efb\u52a1\u3002", "\u67e5\u8be2 BACKUP \u4efb\u52a1\u65f6\uff0c\u4f7f\u7528 SHOW BACKUPS \u8bed\u53e5\u3002\u67e5\u8be2 RESTORE \u4efb\u52a1\u65f6\uff0c\u4f7f\u7528 SHOW RESTORES \u8bed\u53e5\u3002\u6267\u884c\u4e24\u4e2a\u8bed\u53e5\u5747\u9700\u8981 SUPER \u6743\u9650\u3002"], "Examples": ["BACKUP DATABASE `test` TO 's3://example-bucket/backup-01/';\n", "SHOW BACKUPS;\n", "KILL TIDB QUERY 4;\n", "SHOW BACKUPS LIKE 's3://%';\n", "SHOW BACKUPS WHERE `Progress` < 25.0;\n"], "Category": ["\u5907\u4efd\u548c\u6062\u590d"]}
