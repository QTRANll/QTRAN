{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-alter-user"], "Title": ["ALTER USER"], "Feature": ["AlterUserStmt ::=\n    'ALTER' 'USER' IfExists (UserSpecList RequireClauseOpt ConnectionOptions PasswordOption LockOption AttributeOption | 'USER' '(' ')' 'IDENTIFIED' 'BY' AuthString) ResourceGroupNameOption\n\nUserSpecList ::=\n    UserSpec ( ',' UserSpec )*\n\nUserSpec ::=\n    Username AuthOption\n\nRequireClauseOpt ::=\n    ( 'REQUIRE' 'NONE' | 'REQUIRE' 'SSL' | 'REQUIRE' 'X509' | 'REQUIRE' RequireList )?  \n    \nRequireList ::=\n    ( \"ISSUER\" stringLit | \"SUBJECT\" stringLit | \"CIPHER\" stringLit | \"SAN\" stringLit | \"TOKEN_ISSUER\" stringLit )*\n\nUsername ::=\n    StringName ('@' StringName | singleAtIdentifier)? | 'CURRENT_USER' OptionalBraces\n\nAuthOption ::=\n    ( 'IDENTIFIED' ( 'BY' ( AuthString | 'PASSWORD' HashString ) | 'WITH' StringName ( 'BY' AuthString | 'AS' HashString )? ) )?\n\nPasswordOption ::= ( 'PASSWORD' 'EXPIRE' ( 'DEFAULT' | 'NEVER' | 'INTERVAL' N 'DAY' )? | 'PASSWORD' 'HISTORY' ( 'DEFAULT' | N ) | 'PASSWORD' 'REUSE' 'INTERVAL' ( 'DEFAULT' | N 'DAY' ) | 'FAILED_LOGIN_ATTEMPTS' N | 'PASSWORD_LOCK_TIME' ( N | 'UNBOUNDED' ) )*\n\nLockOption ::= ( 'ACCOUNT' 'LOCK' | 'ACCOUNT' 'UNLOCK' )?\n\nAttributeOption ::= ( 'COMMENT' CommentString | 'ATTRIBUTE' AttributeString )?\n\nResourceGroupNameOption::= ( 'RESOURCE' 'GROUP' Identifier)?\n\nRequireClauseOpt ::= ('REQUIRE' ('NONE' | 'SSL' | 'X509' | RequireListElement ('AND'? RequireListElement)*))?\n\nRequireListElement ::= 'ISSUER' Issuer | 'SUBJECT' Subject | 'CIPHER' Cipher | 'SAN' SAN | 'TOKEN_ISSUER' TokenIssuer\n"], "Description": ["ALTER USER \u8bed\u53e5\u7528\u4e8e\u66f4\u6539 TiDB \u6743\u9650\u7cfb\u7edf\u5185\u7684\u5df2\u6709\u7528\u6237\u3002\u548c MySQL \u4e00\u6837\uff0c\u5728 TiDB \u6743\u9650\u7cfb\u7edf\u4e2d\uff0c\u7528\u6237\u662f\u7528\u6237\u540d\u548c\u7528\u6237\u540d\u6240\u8fde\u63a5\u4e3b\u673a\u7684\u7ec4\u5408\u3002\u56e0\u6b64\uff0c\u53ef\u521b\u5efa\u4e00\u4e2a\u7528\u6237 'newuser2'@'192.168.1.1'\uff0c\u4f7f\u5176\u53ea\u80fd\u901a\u8fc7 IP \u5730\u5740 192.168.1.1 \u8fdb\u884c\u8fde\u63a5\u3002\u76f8\u540c\u7684\u7528\u6237\u540d\u4ece\u4e0d\u540c\u4e3b\u673a\u767b\u5f55\u65f6\u53ef\u80fd\u4f1a\u62e5\u6709\u4e0d\u540c\u7684\u6743\u9650\u3002"], "Examples": ["CREATE USER 'newuser' IDENTIFIED BY 'newuserpassword';\n", "SHOW CREATE USER 'newuser';\n", "ALTER USER 'newuser' IDENTIFIED BY 'newnewpassword';\n", "SHOW CREATE USER 'newuser';\n", "ALTER USER 'newuser' ACCOUNT LOCK;\n", "ALTER USER 'newuser' ATTRIBUTE '{\"newAttr\": \"value\", \"deprecatedAttr\": null}';\nSELECT * FROM information_schema.user_attributes;\n", "ALTER USER 'newuser' COMMENT 'Here is the comment';\nSELECT * FROM information_schema.user_attributes;\n", "ALTER USER 'newuser' ATTRIBUTE '{\"comment\": null}';\nSELECT * FROM information_schema.user_attributes;\n", "ALTER USER 'newuser' PASSWORD EXPIRE NEVER;\n", "ALTER USER 'newuser' PASSWORD REUSE INTERVAL 90 DAY;\n", "ALTER USER 'newuser' RESOURCE GROUP rg1;\n", "SELECT USER, JSON_EXTRACT(User_attributes, \"$.resource_group\") FROM mysql.user WHERE user = \"newuser\";\n", "ALTER USER 'newuser' RESOURCE GROUP `default`;\nSELECT USER, JSON_EXTRACT(User_attributes, \"$.resource_group\") FROM mysql.user WHERE user = \"newuser\";\n"], "Category": ["\u8d26\u6237\u7ba1\u7406\u4e0e\u6570\u636e\u63a7\u5236\u8bed\u8a00 (DCL)"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-create-role"], "Title": ["CREATE ROLE"], "Feature": ["CreateRoleStmt ::=\n    'CREATE' 'ROLE' IfNotExists RoleSpec (',' RoleSpec)*\n\nIfNotExists ::=\n    ('IF' 'NOT' 'EXISTS')?\n\nRoleSpec ::=\n    Rolename\n"], "Description": ["CREATE ROLE \u8bed\u53e5\u662f\u57fa\u4e8e\u89d2\u8272\u7684\u8bbf\u95ee\u63a7\u5236 (RBAC) \u64cd\u4f5c\u7684\u4e00\u90e8\u5206\uff0c\u7528\u4e8e\u521b\u5efa\u65b0\u89d2\u8272\u5e76\u5c06\u65b0\u89d2\u8272\u5206\u914d\u7ed9\u7528\u6237\u3002"], "Examples": ["CREATE ROLE analyticsteam;\nQuery OK, 0 rows affected (0.02 sec)\n\nGRANT SELECT ON test.* TO analyticsteam;\nQuery OK, 0 rows affected (0.02 sec)\n\nCREATE USER jennifer;\nQuery OK, 0 rows affected (0.01 sec)\n\nGRANT analyticsteam TO jennifer;\nQuery OK, 0 rows affected (0.01 sec)\n", "SHOW GRANTS;\n+---------------------------------------------+\n| Grants for User                             |\n+---------------------------------------------+\n| GRANT USAGE ON *.* TO 'jennifer'@'%'        |\n| GRANT 'analyticsteam'@'%' TO 'jennifer'@'%' |\n+---------------------------------------------+\n2 rows in set (0.00 sec)\n\nSHOW TABLES in test;\nERROR 1044 (42000): Access denied for user 'jennifer'@'%' to database 'test'\nSET ROLE analyticsteam;\nQuery OK, 0 rows affected (0.00 sec)\n\nSHOW GRANTS;\n+---------------------------------------------+\n| Grants for User                             |\n+---------------------------------------------+\n| GRANT USAGE ON *.* TO 'jennifer'@'%'        |\n| GRANT SELECT ON test.* TO 'jennifer'@'%'    |\n| GRANT 'analyticsteam'@'%' TO 'jennifer'@'%' |\n+---------------------------------------------+\n3 rows in set (0.00 sec)\n\nSHOW TABLES IN test;\n+----------------+\n| Tables_in_test |\n+----------------+\n| t1             |\n+----------------+\n1 row in set (0.00 sec)\n", "SET DEFAULT ROLE analyticsteam TO jennifer;\nQuery OK, 0 rows affected (0.02 sec)\n", "SHOW GRANTS;\n+---------------------------------------------+\n| Grants for User                             |\n+---------------------------------------------+\n| GRANT USAGE ON *.* TO 'jennifer'@'%'        |\n| GRANT SELECT ON test.* TO 'jennifer'@'%'    |\n| GRANT 'analyticsteam'@'%' TO 'jennifer'@'%' |\n+---------------------------------------------+\n3 rows in set (0.00 sec)\n\nSHOW TABLES IN test;\n+----------------+\n| Tables_in_test |\n+----------------+\n| t1             |\n+----------------+\n1 row in set (0.00 sec)\n"], "Category": ["\u8d26\u6237\u7ba1\u7406\u4e0e\u6570\u636e\u63a7\u5236\u8bed\u8a00 (DCL)"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-create-user"], "Title": ["CREATE USER"], "Feature": ["CreateUserStmt ::=\n    'CREATE' 'USER' IfNotExists UserSpecList RequireClauseOpt ConnectionOptions PasswordOption LockOption AttributeOption ResourceGroupNameOption\n\nIfNotExists ::=\n    ('IF' 'NOT' 'EXISTS')?\n\nUserSpecList ::=\n    UserSpec ( ',' UserSpec )*\n\nRequireClauseOpt ::=\n    ( 'REQUIRE' 'NONE' | 'REQUIRE' 'SSL' | 'REQUIRE' 'X509' | 'REQUIRE' RequireList )?  \n    \nRequireList ::=\n    ( \"ISSUER\" stringLit | \"SUBJECT\" stringLit | \"CIPHER\" stringLit | \"SAN\" stringLit | \"TOKEN_ISSUER\" stringLit )*\n\nUserSpec ::=\n    Username AuthOption\n\nAuthOption ::=\n    ( 'IDENTIFIED' ( 'BY' ( AuthString | 'PASSWORD' HashString ) | 'WITH' StringName ( 'BY' AuthString | 'AS' HashString )? ) )?\n\nStringName ::=\n    stringLit\n|   Identifier\n\nPasswordOption ::= ( 'PASSWORD' 'EXPIRE' ( 'DEFAULT' | 'NEVER' | 'INTERVAL' N 'DAY' )? | 'PASSWORD' 'HISTORY' ( 'DEFAULT' | N ) | 'PASSWORD' 'REUSE' 'INTERVAL' ( 'DEFAULT' | N 'DAY' ) | 'FAILED_LOGIN_ATTEMPTS' N | 'PASSWORD_LOCK_TIME' ( N | 'UNBOUNDED' ) )*\n\nLockOption ::= ( 'ACCOUNT' 'LOCK' | 'ACCOUNT' 'UNLOCK' )?\n\nAttributeOption ::= ( 'COMMENT' CommentString | 'ATTRIBUTE' AttributeString )?\n\nResourceGroupNameOption::= ( 'RESOURCE' 'GROUP' Identifier)?\n\nRequireClauseOpt ::= ('REQUIRE' ('NONE' | 'SSL' | 'X509' | RequireListElement ('AND'? RequireListElement)*))?\n\nRequireListElement ::= 'ISSUER' Issuer | 'SUBJECT' Subject | 'CIPHER' Cipher | 'SAN' SAN | 'TOKEN_ISSUER' TokenIssuer\n"], "Description": ["CREATE USER \u8bed\u53e5\u7528\u4e8e\u521b\u5efa\u5e26\u6709\u6307\u5b9a\u5bc6\u7801\u7684\u65b0\u7528\u6237\u3002\u548c MySQL \u4e00\u6837\uff0c\u5728 TiDB \u6743\u9650\u7cfb\u7edf\u4e2d\uff0c\u7528\u6237\u662f\u7528\u6237\u540d\u548c\u7528\u6237\u540d\u6240\u8fde\u63a5\u4e3b\u673a\u7684\u7ec4\u5408\u3002\u56e0\u6b64\uff0c\u53ef\u521b\u5efa\u4e00\u4e2a\u7528\u6237 'newuser2'@'192.168.1.1'\uff0c\u4f7f\u5176\u53ea\u80fd\u901a\u8fc7 IP \u5730\u5740 192.168.1.1 \u8fdb\u884c\u8fde\u63a5\u3002\u76f8\u540c\u7684\u7528\u6237\u540d\u4ece\u4e0d\u540c\u4e3b\u673a\u767b\u5f55\u65f6\u53ef\u80fd\u4f1a\u62e5\u6709\u4e0d\u540c\u7684\u6743\u9650\u3002"], "Examples": ["CREATE USER 'newuser' IDENTIFIED BY 'newuserpassword';\n", "CREATE USER 'newuser2'@'192.168.1.1' IDENTIFIED BY 'newuserpassword';\n", "CREATE USER 'newuser3'@'%' IDENTIFIED BY 'newuserpassword' REQUIRE SSL;\n", "CREATE USER 'newuser4'@'%' IDENTIFIED BY 'newuserpassword' REQUIRE ISSUER '/C=US/ST=California/L=San Francisco/O=PingCAP';\n", "CREATE USER 'newuser5'@'%' ACCOUNT LOCK;\n", "CREATE USER 'newuser6'@'%' COMMENT 'This user is created only for test';\nSELECT * FROM information_schema.user_attributes;\n", "CREATE USER 'newuser7'@'%' ATTRIBUTE '{\"email\": \"user@pingcap.com\"}';\nSELECT * FROM information_schema.user_attributes;\n", "CREATE USER 'newuser8'@'%' PASSWORD HISTORY 5;\n", "CREATE USER 'newuser9'@'%' PASSWORD EXPIRE;\n", "CREATE USER 'newuser7'@'%' RESOURCE GROUP rg1;\nSELECT USER, HOST, USER_ATTRIBUTES FROM MYSQL.USER WHERE USER='newuser7';\n"], "Category": ["\u8d26\u6237\u7ba1\u7406\u4e0e\u6570\u636e\u63a7\u5236\u8bed\u8a00 (DCL)"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-drop-role"], "Title": ["DROP ROLE"], "Feature": ["DropRoleStmt ::=\n    'DROP' 'ROLE' ( 'IF' 'EXISTS' )? RolenameList\n\nRolenameList ::=\n    Rolename ( ',' Rolename )*\n"], "Description": ["\u4f7f\u7528 DROP ROLE \u8bed\u53e5\u53ef\u5220\u9664\u5df2\u7528 CREATE ROLE \u8bed\u53e5\u521b\u5efa\u7684\u89d2\u8272\u3002"], "Examples": ["CREATE ROLE analyticsteam;\nQuery OK, 0 rows affected (0.02 sec)\n\nGRANT SELECT ON test.* TO analyticsteam;\nQuery OK, 0 rows affected (0.02 sec)\n\nCREATE USER jennifer;\nQuery OK, 0 rows affected (0.01 sec)\n\nGRANT analyticsteam TO jennifer;\nQuery OK, 0 rows affected (0.01 sec)\n", "SHOW GRANTS;\n+---------------------------------------------+\n| Grants for User                             |\n+---------------------------------------------+\n| GRANT USAGE ON *.* TO 'jennifer'@'%'        |\n| GRANT 'analyticsteam'@'%' TO 'jennifer'@'%' |\n+---------------------------------------------+\n2 rows in set (0.00 sec)\n\nSHOW TABLES in test;\nERROR 1044 (42000): Access denied for user 'jennifer'@'%' to database 'test'\nSET ROLE analyticsteam;\nQuery OK, 0 rows affected (0.00 sec)\n\nSHOW GRANTS;\n+---------------------------------------------+\n| Grants for User                             |\n+---------------------------------------------+\n| GRANT USAGE ON *.* TO 'jennifer'@'%'        |\n| GRANT SELECT ON test.* TO 'jennifer'@'%'    |\n| GRANT 'analyticsteam'@'%' TO 'jennifer'@'%' |\n+---------------------------------------------+\n3 rows in set (0.00 sec)\n\nSHOW TABLES IN test;\n+----------------+\n| Tables_in_test |\n+----------------+\n| t1             |\n+----------------+\n1 row in set (0.00 sec)\n", "SET DEFAULT ROLE analyticsteam TO jennifer;\nQuery OK, 0 rows affected (0.02 sec)\n", "SHOW GRANTS;\n+---------------------------------------------+\n| Grants for User                             |\n+---------------------------------------------+\n| GRANT USAGE ON *.* TO 'jennifer'@'%'        |\n| GRANT SELECT ON test.* TO 'jennifer'@'%'    |\n| GRANT 'analyticsteam'@'%' TO 'jennifer'@'%' |\n+---------------------------------------------+\n3 rows in set (0.00 sec)\n\nSHOW TABLES IN test;\n+----------------+\n| Tables_in_test |\n+----------------+\n| t1             |\n+----------------+\n1 row in set (0.00 sec)\n", "DROP ROLE analyticsteam;\nQuery OK, 0 rows affected (0.02 sec)\n", "SHOW GRANTS;\n+--------------------------------------+\n| Grants for User                      |\n+--------------------------------------+\n| GRANT USAGE ON *.* TO 'jennifer'@'%' |\n+--------------------------------------+\n1 row in set (0.00 sec)\n\nSET ROLE analyticsteam;\nERROR 3530 (HY000): `analyticsteam`@`%` is is not granted to jennifer@%\n"], "Category": ["\u8d26\u6237\u7ba1\u7406\u4e0e\u6570\u636e\u63a7\u5236\u8bed\u8a00 (DCL)"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-drop-user"], "Title": ["DROP USER"], "Feature": ["DropUserStmt ::=\n    'DROP' 'USER' ( 'IF' 'EXISTS' )? UsernameList\n\nUsername ::=\n    StringName ('@' StringName | singleAtIdentifier)? | 'CURRENT_USER' OptionalBraces\n"], "Description": ["DROP USER \u8bed\u53e5\u7528\u4e8e\u4ece TiDB \u7cfb\u7edf\u6570\u636e\u5e93\u4e2d\u5220\u9664\u7528\u6237\u3002\u5982\u679c\u7528\u6237\u4e0d\u5b58\u5728\uff0c\u4f7f\u7528\u5173\u952e\u8bcd IF EXISTS \u53ef\u907f\u514d\u51fa\u73b0\u8b66\u544a\u3002\u6267\u884c DROP USER \u8bed\u53e5\u9700\u8981\u62e5\u6709 CREATE USER \u6743\u9650\u3002"], "Examples": ["DROP USER 'idontexist';\n", "DROP USER IF EXISTS 'idontexist';\n", "CREATE USER 'newuser' IDENTIFIED BY 'mypassword';\n", "GRANT ALL ON test.* TO 'newuser';\n", "SHOW GRANTS FOR 'newuser';\n", "REVOKE ALL ON test.* FROM 'newuser';\n", "SHOW GRANTS FOR 'newuser';\n", "DROP USER 'newuser';\n", "SHOW GRANTS FOR 'newuser';\n"], "Category": ["\u8d26\u6237\u7ba1\u7406\u4e0e\u6570\u636e\u63a7\u5236\u8bed\u8a00 (DCL)"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-flush-privileges"], "Title": ["FLUSH PRIVILEGES"], "Feature": ["FlushStmt ::=\n    'FLUSH' NoWriteToBinLogAliasOpt FlushOption\n\nNoWriteToBinLogAliasOpt ::=\n    ( 'NO_WRITE_TO_BINLOG' | 'LOCAL' )?\n\nFlushOption ::=\n    'PRIVILEGES'\n|   'STATUS'\n|    'TIDB' 'PLUGINS' PluginNameList\n|    'HOSTS'\n|   LogTypeOpt 'LOGS'\n|   TableOrTables TableNameListOpt WithReadLockOpt\n"], "Description": ["FLUSH PRIVILEGES \u8bed\u53e5\u53ef\u89e6\u53d1 TiDB \u4ece\u6743\u9650\u8868\u4e2d\u91cd\u65b0\u52a0\u8f7d\u6743\u9650\u7684\u5185\u5b58\u526f\u672c\u3002\u5728\u5bf9\u5982 mysql.user \u4e00\u7c7b\u7684\u8868\u8fdb\u884c\u624b\u52a8\u7f16\u8f91\u540e\uff0c\u5e94\u5f53\u6267\u884c FLUSH PRIVILEGES\u3002\u4f7f\u7528\u5982 GRANT \u6216 REVOKE \u4e00\u7c7b\u7684\u6743\u9650\u8bed\u53e5\u540e\uff0c\u4e0d\u9700\u8981\u6267\u884c FLUSH PRIVILEGES \u8bed\u53e5\u3002\u6267\u884c FLUSH PRIVILEGES \u8bed\u53e5\u7684\u7528\u6237\u9700\u8981\u62e5\u6709 RELOAD \u6743\u9650\u3002"], "Examples": ["FLUSH PRIVILEGES;\n"], "Category": ["\u8d26\u6237\u7ba1\u7406\u4e0e\u6570\u636e\u63a7\u5236\u8bed\u8a00 (DCL)"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-grant-privileges"], "Title": ["GRANT <privileges>"], "Feature": ["GrantStmt ::=\n    'GRANT' PrivElemList 'ON' ObjectType PrivLevel 'TO' UserSpecList RequireClauseOpt WithGrantOptionOpt\n\nPrivElemList ::=\n    PrivElem ( ',' PrivElem )*\n\nPrivElem ::=\n    PrivType ( '(' ColumnNameList ')' )?\n\nPrivType ::=\n    'ALL' 'PRIVILEGES'?\n|    'ALTER' 'ROUTINE'?\n|   'CREATE' ( 'USER' | 'TEMPORARY' 'TABLES' | 'VIEW' | 'ROLE' | 'ROUTINE' )?\n|   'TRIGGER'\n|   'DELETE'\n|   'DROP' 'ROLE'?\n|    'PROCESS'\n|   'EXECUTE'\n|   'INDEX'\n|   'INSERT'\n|   'SELECT'\n|   'SUPER'\n|   'SHOW' ( 'DATABASES' | 'VIEW' )\n|   'UPDATE'\n|    'GRANT' 'OPTION'\n|    'REFERENCES'\n|    'REPLICATION' ( 'SLAVE' | 'CLIENT' )\n|    'USAGE'\n|   'RELOAD'\n|   'FILE'\n|   'CONFIG'\n|   'LOCK' 'TABLES'\n|   'EVENT'\n|   'SHUTDOWN'\n\nObjectType ::=\n    'TABLE'?\n\nPrivLevel ::=\n    '*' ( '.' '*' )?\n|    Identifier ( '.' ( '*' | Identifier ) )?\n\nUserSpecList ::=\n    UserSpec ( ',' UserSpec )*\n\nRequireClauseOpt ::= ('REQUIRE' ('NONE' | 'SSL' | 'X509' | RequireListElement ('AND'? RequireListElement)*))?\n\nRequireListElement ::= 'ISSUER' Issuer | 'SUBJECT' Subject | 'CIPHER' Cipher | 'SAN' SAN | 'TOKEN_ISSUER' TokenIssuer\n"], "Description": ["GRANT <privileges> \u8bed\u53e5\u7528\u4e8e\u4e3a TiDB \u4e2d\u5df2\u5b58\u5728\u7684\u7528\u6237\u5206\u914d\u6743\u9650\u3002TiDB \u4e2d\u7684\u6743\u9650\u7cfb\u7edf\u540c MySQL \u4e00\u6837\uff0c\u90fd\u57fa\u4e8e\u6570\u636e\u5e93/\u8868\u6a21\u5f0f\u6765\u5206\u914d\u51ed\u636e\u3002\u6267\u884c GRANT <privileges> \u8bed\u53e5\u9700\u8981\u62e5\u6709\u5206\u914d\u7684\u6743\u9650\uff0c\u5e76\u4e14\u62e5\u6709 GRANT OPTION \u6743\u9650\u3002"], "Examples": ["CREATE USER 'newuser' IDENTIFIED BY 'mypassword';\n", "GRANT ALL ON test.* TO 'newuser';\n", "SHOW GRANTS FOR 'newuser';\n"], "Category": ["\u8d26\u6237\u7ba1\u7406\u4e0e\u6570\u636e\u63a7\u5236\u8bed\u8a00 (DCL)"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-grant-role"], "Title": ["GRANT <role>"], "Feature": ["GrantRoleStmt ::=\n    'GRANT' RolenameList 'TO' UsernameList\n\nRolenameList ::=\n    Rolename ( ',' Rolename )*\n\nUsernameList ::=\n    Username ( ',' Username )*\n"], "Description": ["GRANT <role> \u8bed\u53e5\u7528\u4e8e\u5c06\u4e4b\u524d\u521b\u5efa\u7684\u89d2\u8272\u6388\u4e88\u7ed9\u73b0\u6709\u7528\u6237\u3002\u7528\u6237\u53ef\u4ee5\u901a\u8fc7 SET ROLE <rolename> \u8bed\u53e5\u62e5\u6709\u89d2\u8272\u6743\u9650\uff0c\u6216\u8005\u901a\u8fc7 SET ROLE ALL \u8bed\u53e5\u62e5\u6709\u88ab\u6388\u4e88\u7684\u6240\u6709\u89d2\u8272\u3002"], "Examples": ["CREATE ROLE analyticsteam;\nQuery OK, 0 rows affected (0.02 sec)\n\nGRANT SELECT ON test.* TO analyticsteam;\nQuery OK, 0 rows affected (0.02 sec)\n\nCREATE USER jennifer;\nQuery OK, 0 rows affected (0.01 sec)\n\nGRANT analyticsteam TO jennifer;\nQuery OK, 0 rows affected (0.01 sec)\n", "SHOW GRANTS;\n+---------------------------------------------+\n| Grants for User                             |\n+---------------------------------------------+\n| GRANT USAGE ON *.* TO 'jennifer'@'%'        |\n| GRANT 'analyticsteam'@'%' TO 'jennifer'@'%' |\n+---------------------------------------------+\n2 rows in set (0.00 sec)\n\nSHOW TABLES in test;\nERROR 1044 (42000): Access denied for user 'jennifer'@'%' to database 'test'\nSET ROLE analyticsteam;\nQuery OK, 0 rows affected (0.00 sec)\n\nSHOW GRANTS;\n+---------------------------------------------+\n| Grants for User                             |\n+---------------------------------------------+\n| GRANT USAGE ON *.* TO 'jennifer'@'%'        |\n| GRANT SELECT ON test.* TO 'jennifer'@'%'    |\n| GRANT 'analyticsteam'@'%' TO 'jennifer'@'%' |\n+---------------------------------------------+\n3 rows in set (0.00 sec)\n\nSHOW TABLES IN test;\n+----------------+\n| Tables_in_test |\n+----------------+\n| t1             |\n+----------------+\n1 row in set (0.00 sec)\n", "SET DEFAULT ROLE analyticsteam TO jennifer;\nQuery OK, 0 rows affected (0.02 sec)\n", "SHOW GRANTS;\n+---------------------------------------------+\n| Grants for User                             |\n+---------------------------------------------+\n| GRANT USAGE ON *.* TO 'jennifer'@'%'        |\n| GRANT SELECT ON test.* TO 'jennifer'@'%'    |\n| GRANT 'analyticsteam'@'%' TO 'jennifer'@'%' |\n+---------------------------------------------+\n3 rows in set (0.00 sec)\n\nSHOW TABLES IN test;\n+----------------+\n| Tables_in_test |\n+----------------+\n| t1             |\n+----------------+\n1 row in set (0.00 sec)\n"], "Category": ["\u8d26\u6237\u7ba1\u7406\u4e0e\u6570\u636e\u63a7\u5236\u8bed\u8a00 (DCL)"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-rename-user"], "Title": ["RENAME USER"], "Feature": ["RenameUserStmt ::=\n    'RENAME' 'USER' UserToUser ( ',' UserToUser )*\n\nUserToUser ::=\n    Username 'TO' Username\n\nUsername ::=\n    StringName ('@' StringName | singleAtIdentifier)? | 'CURRENT_USER' OptionalBraces\n"], "Description": ["RENAME USER \u8bed\u53e5\u7528\u4e8e\u5bf9\u5df2\u6709\u7528\u6237\u8fdb\u884c\u91cd\u547d\u540d\u3002"], "Examples": ["CREATE USER 'newuser' IDENTIFIED BY 'mypassword';\n", "SHOW GRANTS FOR 'newuser';\n", "RENAME USER 'newuser' TO 'testuser';\n", "SHOW GRANTS FOR 'testuser';\n", "SHOW GRANTS FOR 'newuser';\n"], "Category": ["\u8d26\u6237\u7ba1\u7406\u4e0e\u6570\u636e\u63a7\u5236\u8bed\u8a00 (DCL)"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-revoke-privileges"], "Title": ["REVOKE <privileges>"], "Feature": ["GrantStmt ::=\n    'GRANT' PrivElemList 'ON' ObjectType PrivLevel 'TO' UserSpecList RequireClauseOpt WithGrantOptionOpt\n\nPrivElemList ::=\n    PrivElem ( ',' PrivElem )*\n\nPrivElem ::=\n    PrivType ( '(' ColumnNameList ')' )?\n\nPrivType ::=\n    'ALL' 'PRIVILEGES'?\n|   'ALTER' 'ROUTINE'?\n|   'CREATE' ( 'USER' | 'TEMPORARY' 'TABLES' | 'VIEW' | 'ROLE' | 'ROUTINE' )?\n|    'TRIGGER'\n|   'DELETE'\n|    'DROP' 'ROLE'?\n|    'PROCESS'\n|    'EXECUTE'\n|   'INDEX'\n|   'INSERT'\n|   'SELECT'\n|   'SUPER'\n|    'SHOW' ( 'DATABASES' | 'VIEW' )\n|   'UPDATE'\n|   'GRANT' 'OPTION'\n|   'REFERENCES'\n|   'REPLICATION' ( 'SLAVE' | 'CLIENT' )\n|   'USAGE'\n|    'RELOAD'\n|   'FILE'\n|   'CONFIG'\n|   'LOCK' 'TABLES'\n|    'EVENT'\n|   'SHUTDOWN'\n\nObjectType ::=\n    'TABLE'?\n\nPrivLevel ::=\n    '*' ( '.' '*' )?\n|    Identifier ( '.' ( '*' | Identifier ) )?\n\nUserSpecList ::=\n    UserSpec ( ',' UserSpec )*\n\nRequireClauseOpt ::= ('REQUIRE' ('NONE' | 'SSL' | 'X509' | RequireListElement ('AND'? RequireListElement)*))?\n\nRequireListElement ::= 'ISSUER' Issuer | 'SUBJECT' Subject | 'CIPHER' Cipher | 'SAN' SAN | 'TOKEN_ISSUER' TokenIssuer\n"], "Description": ["REVOKE <privileges> \u8bed\u53e5\u7528\u4e8e\u5220\u9664\u5df2\u6709\u7528\u6237\u7684\u6743\u9650\u3002\u6267\u884c REVOKE <privileges> \u8bed\u53e5\u9700\u8981\u62e5\u6709\u5206\u914d\u7684\u6743\u9650\uff0c\u5e76\u4e14\u62e5\u6709 GRANT OPTION \u6743\u9650\u3002"], "Examples": ["CREATE USER 'newuser' IDENTIFIED BY 'mypassword';\n", "GRANT ALL ON test.* TO 'newuser';\n", "SHOW GRANTS FOR 'newuser';\n", "REVOKE ALL ON test.* FROM 'newuser';\n", "SHOW GRANTS FOR 'newuser';\n", "DROP USER 'newuser';\n", "SHOW GRANTS FOR 'newuser';\n"], "Category": ["\u8d26\u6237\u7ba1\u7406\u4e0e\u6570\u636e\u63a7\u5236\u8bed\u8a00 (DCL)"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-revoke-role"], "Title": ["REVOKE <role>"], "Feature": ["RevokeRoleStmt ::=\n    'REVOKE' RolenameList 'FROM' UsernameList\n\nRolenameList ::=\n    Rolename ( ',' Rolename )*\n\nUsernameList ::=\n    Username ( ',' Username )*\n"], "Description": ["REVOKE <role> \u8bed\u53e5\u7528\u4e8e\u4ece\u6307\u5b9a\u7684\u7528\u6237\uff08\u6216\u7528\u6237\u5217\u8868\uff09\u4e2d\u6536\u56de\u4e4b\u524d\u6388\u4e88\u7684\u89d2\u8272\u3002"], "Examples": ["CREATE ROLE analyticsteam;\nQuery OK, 0 rows affected (0.02 sec)\n\nGRANT SELECT ON test.* TO analyticsteam;\nQuery OK, 0 rows affected (0.02 sec)\n\nCREATE USER jennifer;\nQuery OK, 0 rows affected (0.01 sec)\n\nGRANT analyticsteam TO jennifer;\nQuery OK, 0 rows affected (0.01 sec)\n", "SHOW GRANTS;\n+---------------------------------------------+\n| Grants for User                             |\n+---------------------------------------------+\n| GRANT USAGE ON *.* TO 'jennifer'@'%'        |\n| GRANT 'analyticsteam'@'%' TO 'jennifer'@'%' |\n+---------------------------------------------+\n2 rows in set (0.00 sec)\n\nSHOW TABLES in test;\nERROR 1044 (42000): Access denied for user 'jennifer'@'%' to database 'test'\nSET ROLE analyticsteam;\nQuery OK, 0 rows affected (0.00 sec)\n\nSHOW GRANTS;\n+---------------------------------------------+\n| Grants for User                             |\n+---------------------------------------------+\n| GRANT USAGE ON *.* TO 'jennifer'@'%'        |\n| GRANT SELECT ON test.* TO 'jennifer'@'%'    |\n| GRANT 'analyticsteam'@'%' TO 'jennifer'@'%' |\n+---------------------------------------------+\n3 rows in set (0.00 sec)\n\nSHOW TABLES IN test;\n+----------------+\n| Tables_in_test |\n+----------------+\n| t1             |\n+----------------+\n1 row in set (0.00 sec)\n", "SET DEFAULT ROLE analyticsteam TO jennifer;\nQuery OK, 0 rows affected (0.02 sec)\n", "SHOW GRANTS;\n+---------------------------------------------+\n| Grants for User                             |\n+---------------------------------------------+\n| GRANT USAGE ON *.* TO 'jennifer'@'%'        |\n| GRANT SELECT ON test.* TO 'jennifer'@'%'    |\n| GRANT 'analyticsteam'@'%' TO 'jennifer'@'%' |\n+---------------------------------------------+\n3 rows in set (0.00 sec)\n\nSHOW TABLES IN test;\n+----------------+\n| Tables_in_test |\n+----------------+\n| t1             |\n+----------------+\n1 row in set (0.00 sec)\n", "REVOKE analyticsteam FROM jennifer;\nQuery OK, 0 rows affected (0.01 sec)\n", "SHOW GRANTS;\n+--------------------------------------+\n| Grants for User                      |\n+--------------------------------------+\n| GRANT USAGE ON *.* TO 'jennifer'@'%' |\n+--------------------------------------+\n1 row in set (0.00 sec)\n"], "Category": ["\u8d26\u6237\u7ba1\u7406\u4e0e\u6570\u636e\u63a7\u5236\u8bed\u8a00 (DCL)"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-set-default-role"], "Title": ["SET DEFAULT ROLE"], "Feature": ["SetDefaultRoleStmt ::=\n    \"SET\" \"DEFAULT\" \"ROLE\" ( \"NONE\" | \"ALL\" | Rolename (\",\" Rolename)* ) \"TO\" Username (\",\" Username)*\n"], "Description": ["SET DEFAULT ROLE \u8bed\u53e5\u9ed8\u8ba4\u8bbe\u7f6e\u5c06\u7279\u5b9a\u89d2\u8272\u5e94\u7528\u4e8e\u7528\u6237\u3002\u56e0\u6b64\uff0c\u7528\u6237\u4e0d\u5fc5\u6267\u884c SET ROLE <rolename> \u6216 SET ROLE ALL \u8bed\u53e5\uff0c\u4e5f\u53ef\u4ee5\u81ea\u52a8\u5177\u6709\u4e0e\u89d2\u8272\u76f8\u5173\u8054\u7684\u6743\u9650\u3002"], "Examples": ["CREATE ROLE analyticsteam;\nQuery OK, 0 rows affected (0.02 sec)\n\nGRANT SELECT ON test.* TO analyticsteam;\nQuery OK, 0 rows affected (0.02 sec)\n\nCREATE USER jennifer;\nQuery OK, 0 rows affected (0.01 sec)\n\nGRANT analyticsteam TO jennifer;\nQuery OK, 0 rows affected (0.01 sec)\n", "SHOW GRANTS;\n+---------------------------------------------+\n| Grants for User                             |\n+---------------------------------------------+\n| GRANT USAGE ON *.* TO 'jennifer'@'%'        |\n| GRANT 'analyticsteam'@'%' TO 'jennifer'@'%' |\n+---------------------------------------------+\n2 rows in set (0.00 sec)\n\nSHOW TABLES in test;\nERROR 1044 (42000): Access denied for user 'jennifer'@'%' to database 'test'\nSET ROLE analyticsteam;\nQuery OK, 0 rows affected (0.00 sec)\n\nSHOW GRANTS;\n+---------------------------------------------+\n| Grants for User                             |\n+---------------------------------------------+\n| GRANT USAGE ON *.* TO 'jennifer'@'%'        |\n| GRANT Select ON test.* TO 'jennifer'@'%'    |\n| GRANT 'analyticsteam'@'%' TO 'jennifer'@'%' |\n+---------------------------------------------+\n3 rows in set (0.00 sec)\n\nSHOW TABLES IN test;\n+----------------+\n| Tables_in_test |\n+----------------+\n| t1             |\n+----------------+\n1 row in set (0.00 sec)\n", "SET DEFAULT ROLE analyticsteam TO jennifer;\nQuery OK, 0 rows affected (0.02 sec)\n", "SHOW GRANTS;\n+---------------------------------------------+\n| Grants for User                             |\n+---------------------------------------------+\n| GRANT USAGE ON *.* TO 'jennifer'@'%'        |\n| GRANT Select ON test.* TO 'jennifer'@'%'    |\n| GRANT 'analyticsteam'@'%' TO 'jennifer'@'%' |\n+---------------------------------------------+\n3 rows in set (0.00 sec)\n\nSHOW TABLES IN test;\n+----------------+\n| Tables_in_test |\n+----------------+\n| t1             |\n+----------------+\n1 row in set (0.00 sec)\n", "SET DEFAULT ROLE analyticsteam TO jennifer;\nERROR 3530 (HY000): `analyticsteam`@`%` is is not granted to jennifer@%\n"], "Category": ["\u8d26\u6237\u7ba1\u7406\u4e0e\u6570\u636e\u63a7\u5236\u8bed\u8a00 (DCL)"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-set-password"], "Title": ["SET PASSWORD"], "Feature": ["SetPasswordStmt ::=\n    \"SET\" \"PASSWORD\" ( \"FOR\" Username )? \"=\" ( stringLit | \"PASSWORD\" \"(\" stringLit \")\" )\n"], "Description": ["SET PASSWORD \u8bed\u53e5\u7528\u4e8e\u66f4\u6539 TiDB \u7cfb\u7edf\u6570\u636e\u5e93\u4e2d\u7684\u7528\u6237\u5bc6\u7801\u3002"], "Examples": ["SET PASSWORD='test';\n", "CREATE USER 'newuser' IDENTIFIED BY 'test';\n", "SHOW CREATE USER 'newuser';\n", "SET PASSWORD FOR 'newuser' = 'test';\n", "SHOW CREATE USER 'newuser';\n", "SET PASSWORD FOR 'newuser' = PASSWORD('test');\n", "SHOW CREATE USER 'newuser';\n"], "Category": ["\u8d26\u6237\u7ba1\u7406\u4e0e\u6570\u636e\u63a7\u5236\u8bed\u8a00 (DCL)"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-set-role"], "Title": ["SET ROLE"], "Feature": ["SetRoleStmt ::=\n    \"SET\" \"ROLE\" ( \"DEFAULT\" | \"ALL\" ( \"EXCEPT\" Rolename (\",\" Rolename)* )? | \"NONE\" | Rolename (\",\" Rolename)* )?\n"], "Description": ["SET ROLE \u7528\u4e8e\u5728\u5f53\u524d\u7528\u6237\u4f1a\u8bdd\u4e2d\u542f\u7528\u89d2\u8272\u3002\u4f7f\u7528 SET ROLE \u542f\u7528\u89d2\u8272\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u89d2\u8272\u7684\u6743\u9650\u3002"], "Examples": ["CREATE USER 'u1'@'%';\nCREATE ROLE 'r1', 'r2', 'r3';\nGRANT 'r1', 'r2', 'r3' TO 'u1'@'%';\nSET DEFAULT ROLE 'r1' TO 'u1'@'%';\n", "SET ROLE ALL;\nSELECT CURRENT_ROLE();\n", "SET ROLE 'r2', 'r3';\nSELECT CURRENT_ROLE();\n", "SET ROLE DEFAULT;\nSELECT CURRENT_ROLE();\n", "SET ROLE NONE;\nSELECT CURRENT_ROLE();\n"], "Category": ["\u8d26\u6237\u7ba1\u7406\u4e0e\u6570\u636e\u63a7\u5236\u8bed\u8a00 (DCL)"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-show-create-user"], "Title": ["SHOW CREATE USER"], "Feature": ["ShowCreateUserStmt ::=\n    \"SHOW\" \"CREATE\" \"USER\" (Username (\"@\" Hostname)? | \"CURRENT_USER\" ( \"(\" \")\" )? )\n"], "Description": ["SHOW CREATE USER \u8bed\u53e5\u7528\u4e8e\u663e\u793a\u5982\u4f55\u4f7f\u7528 CREATE USER \u8bed\u6cd5\u6765\u91cd\u65b0\u521b\u5efa\u7528\u6237\u3002"], "Examples": ["SHOW CREATE USER 'root';\n", "+--------------------------------------------------------------------------------------------------------------------------+\n| CREATE USER for root@%                                                                                                   |\n+--------------------------------------------------------------------------------------------------------------------------+\n| CREATE USER 'root'@'%' IDENTIFIED WITH 'mysql_native_password' AS '' REQUIRE NONE PASSWORD EXPIRE DEFAULT ACCOUNT UNLOCK |\n+--------------------------------------------------------------------------------------------------------------------------+\n1 row in set (0.00 sec)\n\nmysql> SHOW GRANTS FOR 'root';\n+-------------------------------------------+\n| Grants for root@%                         |\n+-------------------------------------------+\n| GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' |\n+-------------------------------------------+\n1 row in set (0.00 sec)\n"], "Category": ["\u8d26\u6237\u7ba1\u7406\u4e0e\u6570\u636e\u63a7\u5236\u8bed\u8a00 (DCL)"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-show-grants"], "Title": ["SHOW GRANTS"], "Feature": ["ShowGrantsStmt ::=\n    \"SHOW\" \"GRANTS\" (\"FOR\" Username (\"USING\" RolenameList)?)?\n\nUsername ::=\n    \"CURRENT_USER\" ( \"(\" \")\" )?\n| Username (\"@\" Hostname)?\n\nRolenameList ::=\n    Rolename (\"@\" Hostname)? (\",\" Rolename (\"@\" Hostname)? )*\n"], "Description": ["SHOW GRANTS \u8bed\u53e5\u7528\u4e8e\u663e\u793a\u4e0e\u7528\u6237\u5173\u8054\u7684\u6743\u9650\u5217\u8868\u3002\u4e0e\u5728 MySQL \u4e2d\u4e00\u6837\uff0cUSAGE \u6743\u9650\u8868\u793a\u767b\u5f55 TiDB \u7684\u80fd\u529b\u3002"], "Examples": ["SHOW GRANTS;\n", "SHOW GRANTS FOR 'u1';\n", "CREATE USER u1;\n", "GRANT SELECT ON test.* TO u1;\n", "SHOW GRANTS FOR u1;\n"], "Category": ["\u8d26\u6237\u7ba1\u7406\u4e0e\u6570\u636e\u63a7\u5236\u8bed\u8a00 (DCL)"]}
{"HTML": ["https://docs.pingcap.com//zh/tidb/stable/sql-statement-show-privileges"], "Title": ["SHOW PRIVILEGES"], "Feature": ["ShowPrivilegesStmt ::=\n    \"SHOW\" \"PRIVILEGES\"\n"], "Description": ["SHOW PRIVILEGES \u8bed\u53e5\u7528\u4e8e\u663e\u793a TiDB \u4e2d\u53ef\u5206\u914d\u6743\u9650\u7684\u5217\u8868\u3002\u6b64\u5217\u8868\u4e3a\u9759\u6001\u5217\u8868\uff0c\u4e0d\u53cd\u6620\u5f53\u524d\u7528\u6237\u7684\u6743\u9650\u3002"], "Examples": ["SHOW PRIVILEGES;\n"], "Category": ["\u8d26\u6237\u7ba1\u7406\u4e0e\u6570\u636e\u63a7\u5236\u8bed\u8a00 (DCL)"]}
