{"HTML": ["https://docs.pingcap.com/zh/tidb/v8.3/tidb-functions"], "Title": ["CURRENT_RESOURCE_GROUP"], "Feature": ["CURRENT_RESOURCE_GROUP"], "Description": ["CURRENT_RESOURCE_GROUP", "CURRENT_RESOURCE_GROUP() \u51fd\u6570\u7528\u4e8e\u67e5\u8be2\u5f53\u524d\u8fde\u63a5\u7ed1\u5b9a\u7684\u8d44\u6e90\u7ec4\u540d\u79f0\u3002\u5f53\u5f00\u542f\u8d44\u6e90\u7ba1\u63a7 (Resource Control) \u529f\u80fd\u65f6\uff0c\u6267\u884c SQL \u8bed\u53e5\u5bf9\u8d44\u6e90\u7684\u5360\u7528\u4f1a\u53d7\u5230\u6240\u7ed1\u5b9a\u7684\u8d44\u6e90\u7ec4\u8d44\u6e90\u914d\u7f6e\u7684\u9650\u5236\u3002", "\u5728\u4f1a\u8bdd\u5efa\u7acb\u65f6\uff0cTiDB \u9ed8\u8ba4\u4f1a\u5c06\u8fde\u63a5\u7ed1\u5b9a\u81f3\u767b\u5f55\u7528\u6237\u7ed1\u5b9a\u7684\u8d44\u6e90\u7ec4\uff0c\u5982\u679c\u7528\u6237\u6ca1\u6709\u7ed1\u5b9a\u4efb\u4f55\u8d44\u6e90\u7ec4\uff0c\u5219\u4f1a\u5c06\u8fde\u63a5\u7ed1\u5b9a\u81f3 default \u8d44\u6e90\u7ec4\u3002\u5728\u4f1a\u8bdd\u5efa\u7acb\u4e4b\u540e\uff0c\u7ed1\u5b9a\u7684\u8d44\u6e90\u7ec4\u9ed8\u8ba4\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u5373\u4f7f\u6267\u884c\u4e86\u4fee\u6539\u7528\u6237\u7ed1\u5b9a\u7684\u8d44\u6e90\u7ec4\u3002\u5982\u9700\u4fee\u6539\u5f53\u524d\u4f1a\u8bdd\u7ed1\u5b9a\u7684\u8d44\u6e90\u7ec4\uff0c\u53ef\u4ee5\u4f7f\u7528 SET RESOURCE GROUP \u8bed\u53e5\u3002"], "Examples": ["CREATE USER 'user1';\nCREATE RESOURCE GROUP rg1 RU_PER_SEC = 1000;\nCREATE RESOURCE GROUP rg2 RU_PER_SEC = 2000;\nALTER USER 'user1' RESOURCE GROUP `rg1`;\n", "SELECT CURRENT_RESOURCE_GROUP();\n", "SET RESOURCE GROUP `rg2`;\nSELECT CURRENT_RESOURCE_GROUP();\n"], "Category": ["TiDB \u7279\u6709\u7684\u51fd\u6570"]}
{"HTML": ["https://docs.pingcap.com/zh/tidb/v8.3/tidb-functions"], "Title": ["TIDB_BOUNDED_STALENESS"], "Feature": ["TIDB_BOUNDED_STALENESS"], "Description": ["TIDB_BOUNDED_STALENESS", "TIDB_BOUNDED_STALENESS() \u51fd\u6570\u7528\u4f5c AS OF TIMESTAMP \u8bed\u6cd5\u7684\u4e00\u90e8\u5206\u3002"], "Examples": [], "Category": ["TiDB \u7279\u6709\u7684\u51fd\u6570"]}
{"HTML": ["https://docs.pingcap.com/zh/tidb/v8.3/tidb-functions"], "Title": ["TIDB_CURRENT_TSO"], "Feature": ["TIDB_CURRENT_TSO"], "Description": ["TIDB_CURRENT_TSO", "TIDB_CURRENT_TSO() \u51fd\u6570\u8fd4\u56de\u5f53\u524d\u4e8b\u52a1\u7684 TSO\uff0c\u7c7b\u4f3c\u4e8e tidb_current_ts \u53d8\u91cf\u3002", "BEGIN;\n", "Query OK, 0 rows affected (0.00 sec)\n", "SELECT TIDB_CURRENT_TSO();\n", "+--------------------+\n| TIDB_CURRENT_TSO() |\n+--------------------+\n| 450456244814610433 |\n+--------------------+\n1 row in set (0.00 sec)\n", "SELECT @@tidb_current_ts;\n", "+--------------------+\n| @@tidb_current_ts  |\n+--------------------+\n| 450456244814610433 |\n+--------------------+\n1 row in set (0.00 sec)\n"], "Examples": ["BEGIN;\n", "SELECT TIDB_CURRENT_TSO();\n", "SELECT @@tidb_current_ts;\n"], "Category": ["TiDB \u7279\u6709\u7684\u51fd\u6570"]}
{"HTML": ["https://docs.pingcap.com/zh/tidb/v8.3/tidb-functions"], "Title": ["TIDB_DECODE_BINARY_PLAN"], "Feature": ["TIDB_DECODE_BINARY_PLAN"], "Description": ["TIDB_DECODE_BINARY_PLAN", "TIDB_DECODE_BINARY_PLAN(binary_plan) \u51fd\u6570\u7528\u4e8e\u89e3\u7801\u4ee5\u4e8c\u8fdb\u5236\u683c\u5f0f\u7f16\u7801\u7684\u6267\u884c\u8ba1\u5212\uff0c\u4f8b\u5982 STATEMENTS_SUMMARY \u8868\u4e2d BINARY_PLAN \u5217\u7684\u8ba1\u5212\u3002", "\u5fc5\u987b\u5c06 tidb_generate_binary_plan \u53d8\u91cf\u8bbe\u7f6e\u4e3a ON\uff0c\u4e8c\u8fdb\u5236\u8ba1\u5212\u624d\u53ef\u7528\u3002"], "Examples": [], "Category": ["TiDB \u7279\u6709\u7684\u51fd\u6570"]}
{"HTML": ["https://docs.pingcap.com/zh/tidb/v8.3/tidb-functions"], "Title": ["TIDB_DECODE_KEY"], "Feature": ["TIDB_DECODE_KEY"], "Description": ["TIDB_DECODE_KEY", "TIDB_DECODE_KEY() \u51fd\u6570\u7528\u4e8e\u5c06 TiDB \u7f16\u7801\u7684\u952e\u8f93\u5165\u89e3\u7801\u4e3a\u5305\u542b _tidb_rowid \u548c table_id \u7684 JSON \u7ed3\u6784\u3002\u5728\u4e00\u4e9b\u7cfb\u7edf\u8868\u548c\u65e5\u5fd7\u8f93\u51fa\u4e2d\u6709 TiDB \u7f16\u7801\u7684\u952e\u3002"], "Examples": ["SELECT tidb_decode_key('7480000000000000FF3E5F720400000000FF0000000601633430FF3338646232FF2D64FF3531632D3131FF65FF622D386337352DFFFF3830653635303138FFFF61396265000000FF00FB000000000000F9');\n", "SELECT\n  TABLE_NAME,\n  TIDB_DECODE_KEY(START_KEY),\n  TIDB_DECODE_KEY(END_KEY)\nFROM\n  information_schema.TIKV_REGION_STATUS\nWHERE\n  TABLE_NAME='stock'\n  AND IS_INDEX=0\nORDER BY\n  START_KEY;\n"], "Category": ["TiDB \u7279\u6709\u7684\u51fd\u6570"]}
{"HTML": ["https://docs.pingcap.com/zh/tidb/v8.3/tidb-functions"], "Title": ["TIDB_DECODE_PLAN"], "Feature": ["TIDB_DECODE_PLAN"], "Description": ["TIDB_DECODE_PLAN", "\u4f60\u53ef\u4ee5\u5728\u6162\u67e5\u8be2\u65e5\u5fd7\u4e2d\u627e\u5230\u7f16\u7801\u5f62\u5f0f\u7684 TiDB \u6267\u884c\u8ba1\u5212\uff0c\u7136\u540e\u4f7f\u7528 TIDB_DECODE_PLAN() \u51fd\u6570\u5c06\u7f16\u7801\u7684\u6267\u884c\u8ba1\u5212\u89e3\u7801\u4e3a\u6613\u8bfb\u7684\u5f62\u5f0f\u3002", "\u8be5\u51fd\u6570\u5f88\u6709\u7528\uff0c\u56e0\u4e3a\u5728\u6267\u884c\u8bed\u53e5\u65f6 TiDB \u4f1a\u6355\u83b7\u6267\u884c\u8ba1\u5212\u3002\u91cd\u65b0\u6267\u884c EXPLAIN \u4e2d\u7684\u8bed\u53e5\u53ef\u80fd\u4f1a\u4ea7\u751f\u4e0d\u540c\u7684\u7ed3\u679c\uff0c\u56e0\u4e3a\u6570\u636e\u5206\u5e03\u548c\u7edf\u8ba1\u6570\u636e\u4f1a\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\u800c\u53d8\u5316\u3002", "SELECT tidb_decode_plan('8QIYMAkzMV83CQEH8E85LjA0CWRhdGE6U2VsZWN0aW9uXzYJOTYwCXRpbWU6NzEzLjHCtXMsIGxvb3BzOjIsIGNvcF90YXNrOiB7bnVtOiAxLCBtYXg6IDU2OC41wgErRHByb2Nfa2V5czogMCwgcnBjXxEpAQwFWBAgNTQ5LglZyGNvcHJfY2FjaGVfaGl0X3JhdGlvOiAwLjAwfQkzLjk5IEtCCU4vQQoxCTFfNgkxXzAJMwm2SGx0KHRlc3QudC5hLCAxMDAwMCkNuQRrdgmiAHsFbBQzMTMuOMIBmQnEDDk2MH0BUgEEGAoyCTQzXzUFVwX1oGFibGU6dCwga2VlcCBvcmRlcjpmYWxzZSwgc3RhdHM6cHNldWRvCTk2ISE2aAAIMTUzXmYA')\\G\n", "*************************** 1. row ***************************\n  tidb_decode_plan('8QIYMAkzMV83CQEH8E85LjA0CWRhdGE6U2VsZWN0aW9uXzYJOTYwCXRpbWU6NzEzLjHCtXMsIGxvb3BzOjIsIGNvcF90YXNrOiB7bnVtOiAxLCBtYXg6IDU2OC41wgErRHByb2Nfa2V5czogMCwgcnBjXxEpAQwFWBAgNTQ5LglZyGNvcHJfY2FjaGVfaGl0X3JhdGlvOiAwLjAwfQkzLjk5IEtCCU4vQQoxCTFfNgkxXz:     id                     task         estRows    operator info                              actRows    execution info                                                                                                                         memory     disk\n    TableReader_7          root         319.04     data:Selection_6                           960        time:713.1\u00b5s, loops:2, cop_task: {num: 1, max: 568.5\u00b5s, proc_keys: 0, rpc_num: 1, rpc_time: 549.1\u00b5s, copr_cache_hit_ratio: 0.00}    3.99 KB    N/A\n    \u2514\u2500Selection_6          cop[tikv]    319.04     lt(test.t.a, 10000)                        960        tikv_task:{time:313.8\u00b5s, loops:960}                                                                                                   N/A        N/A\n      \u2514\u2500TableFullScan_5    cop[tikv]    960        table:t, keep order:false, stats:pseudo    960        tikv_task:{time:153\u00b5s, loops:960}                                                                                                     N/A        N/A\n"], "Examples": [], "Category": ["TiDB \u7279\u6709\u7684\u51fd\u6570"]}
{"HTML": ["https://docs.pingcap.com/zh/tidb/v8.3/tidb-functions"], "Title": ["TIDB_DECODE_SQL_DIGESTS"], "Feature": ["TIDB_DECODE_SQL_DIGESTS"], "Description": ["TIDB_DECODE_SQL_DIGESTS", "TIDB_DECODE_SQL_DIGESTS() \u51fd\u6570\u7528\u4e8e\u5728\u96c6\u7fa4\u4e2d\u67e5\u8be2\u4e00\u7ec4 SQL Digest \u6240\u5bf9\u5e94\u7684 SQL \u8bed\u53e5\u7684\u5f52\u4e00\u5316\u5f62\u5f0f\uff08\u5373\u53bb\u9664\u683c\u5f0f\u548c\u53c2\u6570\u540e\u7684\u5f62\u5f0f\uff09\u3002\u51fd\u6570\u63a5\u53d7 1 \u4e2a\u6216 2 \u4e2a\u53c2\u6570\uff1a", "digests\uff1a\u5b57\u7b26\u4e32\u7c7b\u578b\uff0c\u8be5\u53c2\u6570\u5e94\u7b26\u5408 JSON \u5b57\u7b26\u4e32\u6570\u7ec4\u7684\u683c\u5f0f\uff0c\u6570\u7ec4\u4e2d\u7684\u6bcf\u4e2a\u5b57\u7b26\u4e32\u5e94\u4e3a\u4e00\u4e2a SQL Digest\u3002stmtTruncateLength\uff1a\u53ef\u9009\u53c2\u6570\uff0c\u6574\u6570\u7c7b\u578b\uff0c\u7528\u6765\u9650\u5236\u8fd4\u56de\u7ed3\u679c\u4e2d\u6bcf\u6761 SQL \u8bed\u53e5\u7684\u957f\u5ea6\uff0c\u8d85\u8fc7\u6307\u5b9a\u7684\u957f\u5ea6\u4f1a\u88ab\u622a\u65ad\u30020 \u8868\u793a\u4e0d\u9650\u5236\u957f\u5ea6\u3002", "\u8be5\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u7b26\u5408 JSON \u5b57\u7b26\u4e32\u6570\u7ec4\u7684\u683c\u5f0f\uff0c\u6570\u7ec4\u4e2d\u7684\u7b2c i \u9879\u4e3a\u53c2\u6570 digests \u4e2d\u7684\u7b2c i \u4e2a\u5143\u7d20\u6240\u5bf9\u5e94\u7684\u8bed\u53e5\u3002\u5982\u679c\u53c2\u6570 digests \u4e2d\u7684\u67d0\u4e00\u9879\u4e0d\u662f\u4e00\u4e2a\u6709\u6548\u7684 SQL Digest \u6216\u7cfb\u7edf\u65e0\u6cd5\u67e5\u8be2\u5230\u5176\u5bf9\u5e94\u7684 SQL \u8bed\u53e5\uff0c\u5219\u8fd4\u56de\u7ed3\u679c\u4e2d\u5bf9\u5e94\u9879\u4e3a null\u3002\u5982\u679c\u6307\u5b9a\u4e86\u622a\u65ad\u957f\u5ea6 (stmtTruncateLength > 0)\uff0c\u5219\u8fd4\u56de\u7ed3\u679c\u4e2d\u6bcf\u6761\u8d85\u8fc7\u8be5\u957f\u5ea6\u7684\u8bed\u53e5\uff0c\u4fdd\u7559\u524d stmtTruncateLength \u4e2a\u5b57\u7b26\uff0c\u5e76\u5728\u5c3e\u90e8\u589e\u52a0 \"...\" \u540e\u7f00\u8868\u793a\u53d1\u751f\u4e86\u622a\u65ad\u3002\u5982\u679c\u53c2\u6570 digests \u4e3a NULL\uff0c\u5219\u51fd\u6570\u7684\u8fd4\u56de\u503c\u4e3a NULL\u3002", "\u6ce8\u610f\u4ec5\u6301\u6709 PROCESS \u6743\u9650\u7684\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u8be5\u51fd\u6570\u3002TIDB_DECODE_SQL_DIGESTS \u6267\u884c\u65f6\uff0cTiDB \u5185\u90e8\u4ece Statement Summary \u4e00\u7cfb\u5217\u8868\u4e2d\u67e5\u8be2\u6bcf\u4e2a SQL Digest \u6240\u5bf9\u5e94\u7684\u8bed\u53e5\uff0c\u56e0\u800c\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u5bf9\u4efb\u610f SQL Digest \u90fd\u603b\u662f\u80fd\u67e5\u8be2\u5230\u5bf9\u5e94\u7684\u8bed\u53e5\uff0c\u53ea\u6709\u5728\u96c6\u7fa4\u4e2d\u6267\u884c\u8fc7\u7684\u8bed\u53e5\u624d\u6709\u53ef\u80fd\u88ab\u67e5\u8be2\u5230\uff0c\u4e14\u662f\u5426\u80fd\u67e5\u8be2\u5230\u53d7 Statement Summary \u8868\u76f8\u5173\u914d\u7f6e\u7684\u5f71\u54cd\u3002\u6709\u5173 Statement Summary \u8868\u7684\u8be6\u7ec6\u8bf4\u660e\uff0c\u53c2\u89c1 Statement Summary Tables\u3002\u8be5\u51fd\u6570\u5f00\u9500\u8f83\u5927\uff0c\u5728\u884c\u6570\u5f88\u591a\u7684\u67e5\u8be2\u4e2d\uff08\u6bd4\u5982\u5728\u89c4\u6a21\u8f83\u5927\u3001\u6bd4\u8f83\u7e41\u5fd9\u7684\u96c6\u7fa4\u4e0a\u67e5\u8be2 information_schema.cluster_tidb_trx \u5168\u8868\u65f6\uff09\u76f4\u63a5\u4f7f\u7528\u8be5\u51fd\u6570\u53ef\u80fd\u5bfc\u81f4\u67e5\u8be2\u8fd0\u884c\u65f6\u95f4\u8f83\u957f\u3002\u8bf7\u8c28\u614e\u4f7f\u7528\u3002\u8be5\u51fd\u6570\u5f00\u9500\u5927\u7684\u539f\u56e0\u662f\uff0c\u5176\u6bcf\u6b21\u88ab\u8c03\u7528\u65f6\uff0c\u90fd\u4f1a\u5728\u5185\u90e8\u53d1\u8d77\u5bf9 STATEMENTS_SUMMARY\u3001STATEMENTS_SUMMARY_HISTORY\u3001CLUSTER_STATEMENTS_SUMMARY \u548c CLUSTER_STATEMENTS_SUMMARY_HISTORY \u8fd9\u51e0\u5f20\u8868\u7684\u67e5\u8be2\uff0c\u4e14\u5176\u4e2d\u6d89\u53ca UNION \u64cd\u4f5c\u3002\u4e14\u8be5\u51fd\u6570\u76ee\u524d\u4e0d\u652f\u6301\u5411\u91cf\u5316\uff0c\u5373\u5bf9\u4e8e\u591a\u884c\u6570\u636e\u8c03\u7528\u8be5\u51fd\u6570\u65f6\uff0c\u5bf9\u6bcf\u884c\u90fd\u4f1a\u72ec\u7acb\u8fdb\u884c\u4e00\u6b21\u4e0a\u8ff0\u7684\u67e5\u8be2\u3002", "SET @digests = '[\"e6f07d43b5c21db0fbb9a31feac2dc599787763393dd5acbfad80e247eb02ad5\",\"38b03afa5debbdf0326a014dbe5012a62c51957f1982b3093e748460f8b00821\",\"e5796985ccafe2f71126ed6c0ac939ffa015a8c0744a24b7aee6d587103fd2f7\"]';\n\nSELECT TIDB_DECODE_SQL_DIGESTS(@digests);\n", "+------------------------------------+\n| TIDB_DECODE_SQL_DIGESTS(@digests)  |\n+------------------------------------+\n| [\"begin\",null,\"select * from `t`\"] |\n+------------------------------------+\n1 row in set (0.00 sec)\n", "\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u53c2\u6570\u662f\u4e00\u4e2a\u5305\u542b 3 \u4e2a SQL Digest \u7684 JSON \u6570\u7ec4\uff0c\u5176\u5bf9\u5e94\u7684 SQL \u8bed\u53e5\u5206\u522b\u4e3a\u67e5\u8be2\u7ed3\u679c\u4e2d\u7ed9\u51fa\u7684\u4e09\u9879\u3002\u4f46\u662f\u5176\u4e2d\u7b2c\u4e8c\u6761 SQL Digest \u6240\u5bf9\u5e94\u7684 SQL \u8bed\u53e5\u672a\u80fd\u4ece\u96c6\u7fa4\u4e2d\u627e\u5230\uff0c\u56e0\u800c\u7ed3\u679c\u4e2d\u7684\u7b2c\u4e8c\u9879\u4e3a null\u3002", "SELECT TIDB_DECODE_SQL_DIGESTS(@digests, 10);\n", "+---------------------------------------+\n| TIDB_DECODE_SQL_DIGESTS(@digests, 10) |\n+---------------------------------------+\n| [\"begin\",null,\"select * f...\"]        |\n+---------------------------------------+\n1 row in set (0.01 sec)\n", "\u4e0a\u8ff0\u8c03\u7528\u6307\u5b9a\u4e86\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff08\u5373\u622a\u65ad\u957f\u5ea6\uff09\u4e3a 10\uff0c\u800c\u67e5\u8be2\u7ed3\u679c\u4e2d\u7684\u7b2c\u4e09\u6761\u8bed\u53e5\u7684\u957f\u5ea6\u5927\u4e8e 10\uff0c\u56e0\u800c\u4ec5\u4fdd\u7559\u4e86\u524d 10 \u4e2a\u5b57\u7b26\uff0c\u5e76\u5728\u5c3e\u90e8\u6dfb\u52a0\u4e86 \"...\" \u8868\u793a\u53d1\u751f\u4e86\u622a\u65ad\u3002", "\u53e6\u8bf7\u53c2\u9605\uff1a", "Statement Summary TablesINFORMATION_SCHEMA.TIDB_TRX"], "Examples": ["SET @digests = '[\"e6f07d43b5c21db0fbb9a31feac2dc599787763393dd5acbfad80e247eb02ad5\",\"38b03afa5debbdf0326a014dbe5012a62c51957f1982b3093e748460f8b00821\",\"e5796985ccafe2f71126ed6c0ac939ffa015a8c0744a24b7aee6d587103fd2f7\"]';\n\nSELECT TIDB_DECODE_SQL_DIGESTS(@digests);\n", "SELECT TIDB_DECODE_SQL_DIGESTS(@digests, 10);\n"], "Category": ["TiDB \u7279\u6709\u7684\u51fd\u6570"]}
{"HTML": ["https://docs.pingcap.com/zh/tidb/v8.3/tidb-functions"], "Title": ["TIDB_ENCODE_SQL_DIGEST"], "Feature": ["TIDB_ENCODE_SQL_DIGEST"], "Description": ["TIDB_ENCODE_SQL_DIGEST", "TIDB_ENCODE_SQL_DIGEST(query_str) \u51fd\u6570\u8fd4\u56de\u67e5\u8be2\u5b57\u7b26\u4e32\u7684 SQL digest\u3002"], "Examples": ["SELECT TIDB_ENCODE_SQL_DIGEST('SELECT 1');\n", "SELECT TIDB_ENCODE_SQL_DIGEST('SELECT 2');\n"], "Category": ["TiDB \u7279\u6709\u7684\u51fd\u6570"]}
{"HTML": ["https://docs.pingcap.com/zh/tidb/v8.3/tidb-functions"], "Title": ["TIDB_IS_DDL_OWNER"], "Feature": ["TIDB_IS_DDL_OWNER"], "Description": ["TIDB_IS_DDL_OWNER", "\u5982\u679c\u4f60\u8fde\u63a5\u7684 TiDB \u5b9e\u4f8b\u662f DDL Owner\uff0cTIDB_IS_DDL_OWNER() \u51fd\u6570\u8fd4\u56de 1\u3002", "SELECT TIDB_IS_DDL_OWNER();\n", "+---------------------+\n| TIDB_IS_DDL_OWNER() |\n+---------------------+\n|                   1 |\n+---------------------+\n1 row in set (0.00 sec)\n"], "Examples": ["SELECT TIDB_IS_DDL_OWNER();\n"], "Category": ["TiDB \u7279\u6709\u7684\u51fd\u6570"]}
{"HTML": ["https://docs.pingcap.com/zh/tidb/v8.3/tidb-functions"], "Title": ["TIDB_PARSE_TSO"], "Feature": ["TIDB_PARSE_TSO"], "Description": ["TIDB_PARSE_TSO", "TIDB_PARSE_TSO() \u51fd\u6570\u7528\u4e8e\u4ece TiDB TSO \u65f6\u95f4\u6233\u4e2d\u63d0\u53d6\u7269\u7406\u65f6\u95f4\u6233\u3002", "TSO \u6307 Time Stamp Oracle\uff0c\u662f PD (Placement Driver) \u4e3a\u6bcf\u4e2a\u4e8b\u52a1\u63d0\u4f9b\u7684\u5355\u8c03\u9012\u589e\u7684\u65f6\u95f4\u6233\u3002TSO \u662f\u4e00\u4e32\u6570\u5b57\uff0c\u5305\u542b\u4ee5\u4e0b\u4e24\u90e8\u5206\uff1a", "\u4e00\u4e2a\u7269\u7406\u65f6\u95f4\u6233\u4e00\u4e2a\u903b\u8f91\u8ba1\u6570\u5668", "BEGIN;\nSELECT TIDB_PARSE_TSO(@@tidb_current_ts);\nROLLBACK;\n", "+-----------------------------------+\n| TIDB_PARSE_TSO(@@tidb_current_ts) |\n+-----------------------------------+\n| 2021-05-26 11:33:37.776000        |\n+-----------------------------------+\n1 row in set (0.0012 sec)\n"], "Examples": ["BEGIN;\nSELECT TIDB_PARSE_TSO(@@tidb_current_ts);\nROLLBACK;\n"], "Category": ["TiDB \u7279\u6709\u7684\u51fd\u6570"]}
{"HTML": ["https://docs.pingcap.com/zh/tidb/v8.3/tidb-functions"], "Title": ["TIDB_PARSE_TSO_LOGICAL"], "Feature": ["TIDB_PARSE_TSO_LOGICAL"], "Description": ["TIDB_PARSE_TSO_LOGICAL", "TIDB_PARSE_TSO_LOGICAL(tso) \u51fd\u6570\u8fd4\u56de\u4ece TiDB TSO \u65f6\u95f4\u6233\u4e2d\u63d0\u53d6\u7684\u903b\u8f91\u65f6\u95f4\u6233\u3002", "SELECT TIDB_PARSE_TSO_LOGICAL(450456244814610433);\n", "+--------------------------------------------+\n| TIDB_PARSE_TSO_LOGICAL(450456244814610433) |\n+--------------------------------------------+\n|                                          1 |\n+--------------------------------------------+\n1 row in set (0.00 sec)\n", "SELECT TIDB_PARSE_TSO_LOGICAL(450456244814610434);\n", "+--------------------------------------------+\n| TIDB_PARSE_TSO_LOGICAL(450456244814610434) |\n+--------------------------------------------+\n|                                          2 |\n+--------------------------------------------+\n1 row in set (0.00 sec)\n"], "Examples": ["SELECT TIDB_PARSE_TSO_LOGICAL(450456244814610433);\n", "SELECT TIDB_PARSE_TSO_LOGICAL(450456244814610434);\n"], "Category": ["TiDB \u7279\u6709\u7684\u51fd\u6570"]}
{"HTML": ["https://docs.pingcap.com/zh/tidb/v8.3/tidb-functions"], "Title": ["TIDB_ROW_CHECKSUM"], "Feature": ["TIDB_ROW_CHECKSUM"], "Description": ["TIDB_ROW_CHECKSUM", "TIDB_ROW_CHECKSUM() \u51fd\u6570\u7528\u4e8e\u67e5\u8be2\u884c\u6570\u636e\u7684 Checksum \u503c\u3002\u8be5\u51fd\u6570\u53ea\u80fd\u7528\u4e8e FastPlan \u6d41\u7a0b\u7684 SELECT \u8bed\u53e5\uff0c\u5373\u4f60\u53ef\u901a\u8fc7\u5f62\u5982 SELECT TIDB_ROW_CHECKSUM() FROM t WHERE id = ? \u6216 SELECT TIDB_ROW_CHECKSUM() FROM t WHERE id IN (?, ?, ...) \u7684\u8bed\u53e5\u8fdb\u884c\u67e5\u8be2\u3002", "\u5728 TiDB \u4e2d\u5f00\u542f\u884c\u6570\u636e Checksum \u529f\u80fd tidb_enable_row_level_checksum\uff1a", "SET GLOBAL tidb_enable_row_level_checksum = ON;\n", "\u4e0a\u8ff0\u914d\u7f6e\u4ec5\u5bf9\u65b0\u521b\u5efa\u7684\u4f1a\u8bdd\u751f\u6548\uff0c\u56e0\u6b64\u9700\u8981\u91cd\u65b0\u8fde\u63a5 TiDB\u3002", "\u521b\u5efa\u8868 t \u5e76\u63d2\u5165\u6570\u636e\uff1a", "USE test;\nCREATE TABLE t (id INT PRIMARY KEY, k INT, c CHAR(1));\nINSERT INTO t VALUES (1, 10, 'a');\n", "\u67e5\u8be2\u8868 t \u4e2d id = 1 \u7684\u884c\u6570\u636e\u7684 Checksum \u503c\uff1a", "SELECT *, TIDB_ROW_CHECKSUM() FROM t WHERE id = 1;\n", "\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff1a", "+----+------+------+---------------------+\n| id | k    | c    | TIDB_ROW_CHECKSUM() |\n+----+------+------+---------------------+\n|  1 |   10 | a    | 3813955661          |\n+----+------+------+---------------------+\n1 row in set (0.000 sec)\n"], "Examples": ["SET GLOBAL tidb_enable_row_level_checksum = ON;\n", "USE test;\nCREATE TABLE t (id INT PRIMARY KEY, k INT, c CHAR(1));\nINSERT INTO t VALUES (1, 10, 'a');\n", "SELECT *, TIDB_ROW_CHECKSUM() FROM t WHERE id = 1;\n"], "Category": ["TiDB \u7279\u6709\u7684\u51fd\u6570"]}
{"HTML": ["https://docs.pingcap.com/zh/tidb/v8.3/tidb-functions"], "Title": ["TIDB_SHARD"], "Feature": ["TIDB_SHARD"], "Description": ["TIDB_SHARD", "TIDB_SHARD() \u51fd\u6570\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a SHARD INDEX \u6765\u6253\u6563\u70ed\u70b9\u7d22\u5f15\u3002SHARD INDEX \u662f\u4e00\u79cd\u4ee5 TIDB_SHARD() \u51fd\u6570\u4e3a\u524d\u7f00\u7684\u8868\u8fbe\u5f0f\u7d22\u5f15\u3002", "\u521b\u5efa\u65b9\u5f0f\uff1a  \u4f7f\u7528 uk((tidb_shard(a)), a)) \u4e3a\u5b57\u6bb5 a \u521b\u5efa\u4e00\u4e2a SHARD INDEX\u3002\u5f53\u4e8c\u7ea7\u552f\u4e00\u7d22\u5f15 uk((tidb_shard(a)), a)) \u7684\u7d22\u5f15\u5b57\u6bb5 a \u4e0a\u5b58\u5728\u56e0\u5355\u8c03\u9012\u589e\u6216\u9012\u51cf\u800c\u4ea7\u751f\u7684\u70ed\u70b9\u65f6\uff0c\u7d22\u5f15\u7684\u524d\u7f00 tidb_shard(a) \u4f1a\u6253\u6563\u70ed\u70b9\uff0c\u4ece\u800c\u63d0\u5347\u96c6\u7fa4\u53ef\u6269\u5c55\u6027\u3002\u9002\u7528\u573a\u666f\uff1a\u4e8c\u7ea7\u552f\u4e00\u7d22\u5f15\u4e0a key \u503c\u5b58\u5728\u5355\u8c03\u9012\u589e\u6216\u9012\u51cf\u5bfc\u81f4\u7684\u5199\u5165\u70ed\u70b9\uff0c\u4e14\u8be5\u7d22\u5f15\u5305\u542b\u7684\u5217\u662f\u6574\u578b\u3002\u4e1a\u52a1\u4e2d SQL \u8bed\u53e5\u6839\u636e\u8be5\u4e8c\u7ea7\u7d22\u5f15\u7684\u5168\u90e8\u5b57\u6bb5\u505a\u7b49\u503c\u67e5\u8be2\uff0c\u67e5\u8be2\u53ef\u4ee5\u662f\u5355\u72ec\u7684 SELECT\uff0c\u4e5f\u53ef\u4ee5\u662f UPDATE\uff0cDELETE \u7b49\u4ea7\u751f\u7684\u5185\u90e8\u67e5\u8be2\uff0c\u7b49\u503c\u67e5\u8be2\u5305\u62ec a = 1 \u6216 a IN (1, 2, ......) \u4e24\u79cd\u65b9\u5f0f\u3002\u4f7f\u7528\u9650\u5236\uff1a\u975e\u7b49\u503c\u67e5\u8be2\u65e0\u6cd5\u4f7f\u7528\u7d22\u5f15\u3002\u67e5\u8be2\u6761\u4ef6\u4e2d AND \u548c OR \u6df7\u5408\u4e14\u6700\u5916\u5c42\u662f AND \u7b97\u5b50\u65f6\u65e0\u6cd5\u4f7f\u7528 SHARD INDEX\u3002GROUP BY \u65e0\u6cd5\u4f7f\u7528 SHARD INDEX\u3002ORDER BY \u65e0\u6cd5\u4f7f\u7528 SHARD INDEX\u3002ON \u5b50\u53e5\u65e0\u6cd5\u4f7f\u7528 SHARD INDEX\u3002WHERE \u5b50\u67e5\u8be2\u65e0\u6cd5\u4f7f\u7528 SHARD INDEX\u3002SHARD INDEX \u53ea\u80fd\u6253\u6563\u6574\u578b\u5b57\u6bb5\u7684\u552f\u4e00\u7d22\u5f15\u3002SHARD INDEX \u8054\u5408\u7d22\u5f15\u53ef\u80fd\u5931\u6548\u3002SHARD INDEX \u65e0\u6cd5\u8d70 FastPlan \u6d41\u7a0b\uff0c\u5f71\u54cd\u4f18\u5316\u5668\u6027\u80fd\u3002SHARD INDEX \u65e0\u6cd5\u4f7f\u7528\u6267\u884c\u8ba1\u5212\u7f13\u5b58\u3002"], "Examples": [], "Category": ["TiDB \u7279\u6709\u7684\u51fd\u6570"]}
{"HTML": ["https://docs.pingcap.com/zh/tidb/v8.3/tidb-functions"], "Title": ["TIDB_VERSION"], "Feature": ["TIDB_VERSION"], "Description": ["TIDB_VERSION", "TIDB_VERSION() \u51fd\u6570\u7528\u4e8e\u83b7\u53d6\u5f53\u524d\u8fde\u63a5\u7684 TiDB \u670d\u52a1\u5668\u7248\u672c\u548c\u6784\u5efa\u8be6\u7ec6\u4fe1\u606f\u3002\u5411 GitHub \u4e0a\u63d0\u4ea4 issue \u65f6\uff0c\u4f60\u53ef\u4f7f\u7528\u6b64\u51fd\u6570\u83b7\u53d6\u76f8\u5173\u4fe1\u606f\u3002", "SELECT TIDB_VERSION()\\G\n", "*************************** 1. row ***************************\nTIDB_VERSION(): Release Version: v8.3.0\nEdition: Community\nGit Commit Hash: 821e491a20fbab36604b36b647b5bae26a2c1418\nGit Branch: HEAD\nUTC Build Time: 2024-07-11 19:16:25\nGoVersion: go1.21.10\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\n1 row in set (0.00 sec)\n"], "Examples": [], "Category": ["TiDB \u7279\u6709\u7684\u51fd\u6570"]}
{"HTML": ["https://docs.pingcap.com/zh/tidb/v8.3/tidb-functions"], "Title": ["VITESS_HASH"], "Feature": ["VITESS_HASH"], "Description": ["VITESS_HASH", "VITESS_HASH(num) \u51fd\u6570\u4ee5\u4e0e Vitess \u76f8\u540c\u7684\u65b9\u5f0f\u8fd4\u56de\u6570\u503c\u7684\u54c8\u5e0c\u503c\u3002\u8fd9\u6709\u52a9\u4e8e\u5c06\u6570\u636e\u4ece Vitess \u8fc1\u79fb\u5230 TiDB\u3002"], "Examples": ["SELECT VITESS_HASH(123);\n"], "Category": ["TiDB \u7279\u6709\u7684\u51fd\u6570"]}
